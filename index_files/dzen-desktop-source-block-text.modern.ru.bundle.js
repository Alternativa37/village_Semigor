"use strict";(self.webpackChunkli8g9vl0_lukafunmlw=self.webpackChunkli8g9vl0_lukafunmlw||[]).push([[468],{21517:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(23242),o=n.n(i),r=n(62508),l=n.n(r),a=n(43952);let s=new(o())({id:"video-play_1e4e--inline",use:"video-play_1e4e--inline-usage",viewBox:"0 0 40 40",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" id="video-play_1e4e--inline"><g filter="url(#video-play_1e4e--inline_filter0_d)"><path d="M12.1658 4.40801C10.3447 3.29213 8 4.59678 8 6.72599V33.274c0 2.1293 2.3448 3.4339 4.1659 2.3179l23.5333-13.2745c1.7344-1.0628 1.7344-3.5732 0-4.6359L12.1658 4.40801z" fill="#fff" /></g><defs><filter id="video-play_1e4e--inline_filter0_d" x="-4" y="-3" width="48" height="48" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dy="1"></feOffset><feGaussianBlur stdDeviation="2"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"></feColorMatrix><feBlend in2="BackgroundImageFix" result="effect1_dropShadow"></feBlend><feBlend in="SourceGraphic" in2="effect1_dropShadow" result="shape"></feBlend></filter></defs></symbol>'});const c=(0,a.Z)(l(),s)},25981:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(23242),o=n.n(i),r=n(62508),l=n.n(r),a=n(43952);let s=new(o())({id:"eye-badge_0838--inline",use:"eye-badge_0838--inline-usage",viewBox:"0 0 75 98",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 75 98" id="eye-badge_0838--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M73.85 47h-1.258C67.238 32.828 53.546 22.75 37.5 22.75S7.762 32.828 2.408 47H1.149A37.575 37.575 0 010 37.75C0 17.04 16.79.25 37.5.25S75 17.04 75 37.75c0 3.192-.399 6.291-1.15 9.25zm-1.258 4h1.258A37.575 37.575 0 0175 60.25c0 20.71-16.79 37.5-37.5 37.5S0 80.96 0 60.25c0-3.192.399-6.291 1.15-9.25h1.258C7.762 65.172 21.454 75.25 37.5 75.25S67.238 65.172 72.592 51zm-43.74-14.756C26.5 37.84 26.5 41.56 26.5 49s0 11.16 2.352 12.756c.127.087.258.168.392.243 2.48 1.389 5.807-.275 12.461-3.602 8.006-4.002 12.009-6.004 12.156-9.146a5.388 5.388 0 000-.502c-.147-3.142-4.15-5.144-12.156-9.146-6.654-3.327-9.98-4.99-12.461-3.602a5.335 5.335 0 00-.392.243z" fill="currentColor" /></symbol>'});const c=(0,a.Z)(l(),s)},28025:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(74642),o=n(29901),r=n(23242),l=n.n(r),a=n(62508),s=n.n(a);const c=new(l())({id:"star_round_5a37--react",use:"star_round_5a37--react-usage",viewBox:"0 0 40 40",content:'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 40 40" id="star_round_5a37--react"><path fill="currentColor" d="M18.363 3.316c.67-1.357 2.604-1.357 3.274 0l3.816 7.733c.266.539.78.912 1.374.999l8.535 1.24c1.497.217 2.094 2.057 1.011 3.113l-6.175 6.02a1.825 1.825 0 0 0-.525 1.615l1.458 8.5c.255 1.49-1.31 2.627-2.648 1.923l-7.634-4.013a1.825 1.825 0 0 0-1.698 0l-7.634 4.013c-1.338.704-2.903-.433-2.648-1.924l1.458-8.5a1.825 1.825 0 0 0-.525-1.615L3.627 16.4c-1.083-1.055-.486-2.895 1.011-3.112l8.535-1.24a1.825 1.825 0 0 0 1.374-.999l3.816-7.733Z" /></symbol>'});function u(e){return s().add(c),o.createElement("svg",(0,i.Z)({viewBox:"0 0 40 40"},e),o.createElement("use",{xlinkHref:"#star_round_5a37--react"}))}u.displayName="SpriteSymbolComponent(star_round_5a37--react)"},19876:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(74642),o=n(29901),r=n(23242),l=n.n(r),a=n(62508),s=n.n(a);const c=new(l())({id:"sound_off_eb0e--react",use:"sound_off_eb0e--react-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="sound_off_eb0e--react"><path fill="currentColor" fill-rule="evenodd" d="M12.405 2.696 5.68 7.5H2.875A1.875 1.875 0 0 0 1 9.375v5.25A1.875 1.875 0 0 0 2.875 16.5H5.68l6.725 4.803c.667.478 1.595 0 1.595-.82V3.517c0-.821-.927-1.298-1.595-.821ZM7 14.985v-5.97l5-3.572v13.114l-5-3.572ZM3 9.5h2v5H3v-5Z" clip-rule="evenodd" /><path fill="currentColor" d="M17.025 8.525a1 1 0 0 0-.707 1.707L18.086 12l-1.768 1.768a1.001 1.001 0 0 0 1.414 1.414l1.768-1.768 1.767 1.768a1 1 0 0 0 1.415-1.414L20.914 12l1.768-1.768a1 1 0 0 0-1.414-1.414L19.5 10.586l-1.768-1.768a1 1 0 0 0-.707-.293Z" /></symbol>'});function u(e){return s().add(c),o.createElement("svg",(0,i.Z)({viewBox:"0 0 24 24"},e),o.createElement("use",{xlinkHref:"#sound_off_eb0e--react"}))}u.displayName="SpriteSymbolComponent(sound_off_eb0e--react)"},25347:(e,t,n)=>{n.d(t,{K:()=>S});var i=n(29901),o=n(71102),r=n.n(o);const l="floor-title__container-2y",a="floor-title__icon-1k",s="floor-title__title-2v";var c=n(79853),u=n(17107),d=n(57171),m=n(57444),h=n(73764),v=n(27340),p=n(18849);const g={videoLongTitle:{ru:"Видео",_context:""},videoShortTitle:{ru:"Ролики",_context:""},articlesTitle:{ru:"Статьи",_context:""}},b=((0,v.Wh)(g),(0,v.bN)(g));n(14072),n(53208);var f=n(13714),C=n(76434),w=n(86210),y=n(23492),E=n(32936),k=n(23738),_=n(17900),T=n(91643);const S=e=>{let{type:t,href:n,className:o}=e;const g=(0,v.bU)(),S={[p.qG.LONG_VIDEO_FLOOR]:{Icon:c.Z,title:b.videoLongTitle(g),path:"video_title"},[p.qG.SHORT_VIDEO_CAROUSEL]:{Icon:u.Z,title:b.videoShortTitle(g),path:"short_title"},[p.qG.NATIVE_FLOOR]:{Icon:d.Z,title:b.articlesTitle(g),path:"article_title"}},{Icon:P,title:x,path:R}=S[t],{onClickTitle:N,visibilityRef:M}=(e=>{let{path:t}=e;const n=(0,C.D)(),i=(0,y.Wg)(),{shouldDeferEvents$:o}=(0,_.vv)();(0,T.cW)(o);const r=(0,f.useMemo)((()=>({element_path:[t]})),[t]),l=(0,f.useMemo)((()=>(0,w.J)([n,{place:"floors"},r])),[n,r]),[a,s,c,u]=(0,E.c)(),d=(0,f.useCallback)((()=>{i("client:show",l,{})}),[i,l]);return(0,k.E)({isToothVisible$:s,isVisible$:c,isIntersecting$:u,shouldDeferEvents$:o,onShow:d,onShort(){}}),{visibilityRef:a,onClickTitle:(0,f.useCallback)((()=>{i("client:click",l,{})}),[l,i])}})({path:R}),L=n?h.P:"div";return i.createElement(L,{href:n,className:r()(l,o),target:"_self",ref:M,onClick:N},i.createElement(P,{width:24,height:24,className:a}),i.createElement("div",{className:s},x),n&&i.createElement(m.Z,{width:24,height:24,className:a}))}},25162:(e,t,n)=>{n.r(t),n.d(t,{default:()=>nt});n(14072),n(53208);var i=n(29901),o=n(13714),r=n(29153),l=n(12536),a=n(12797),s=n(38357),c=n(13331),u=n(17900),d=n(71102),m=n.n(d),h=n(32936),v=n(31055),p=n(17950),g=n(66736);class b extends g.F{getNextPlayerId(){return this.getNextAutoplayIndex()||this.getFirstVisiblePlayer(0)}playNextVisibleAutoplayPlayer(){this.playAutoplayPlayerByIndex(this.getNextPlayerId())}getCurrentAutoplayId(){var e;return(null==(e=this.players.find((e=>e.isAutoplay)))?void 0:e.index)||0}playAutoplayPlayerByIndex(e){this.players.forEach((t=>{t.index!==e&&t.setIsAutoplay(!1)})),this.players.some((t=>(t.index===e&&(t.setIsAutoplay(!0),this.lastAutoplay=e),t.index===e)))}}var f=n(23738),C=n(51846),w=n(40037),y=n(43502),E=n(13389),k=n(86115),_=n(71953),T=n(46218),S=n(24399),P=n(6074),x=n(16142),R=n(71494),N=n(71300),M=n(10749),L=n(32768),V=n(95862),A=n(18193),B=n(80610),F=n(17143),I=n(10245),D=n(49164),O=n(54760),H=n(80629),z=n(2834),Z=n(57444);const W="luring-carousel-into-shorts-tab__transfer-2f",U="luring-carousel-into-shorts-tab__isVisible-1G",X="luring-carousel-into-shorts-tab__transferWrapper-2o",$="luring-carousel-into-shorts-tab__chevronIcon-4P",Q="luring-carousel-into-shorts-tab__transferLink-1J";var q=n(27340);const Y={transferText:{ru:"Смотрите больше Роликов",_context:""},buttonText:{ru:"Перейти",_context:""}},K=(0,q.Wh)(Y);(0,q.bN)(Y);var j=n(95486);const G=e=>{let{isActive:t,timeToShow:n=5,duration:r=0,onClick:l,onShow:a,onHide:s,isLuringWithoutButton:c=!1,host:u="",link:d}=e;const[h,v,p]=(0,H.zj)(!1),g=(0,o.useRef)(),b=(0,o.useRef)(),f={width:10.5,height:10.5},C=(0,o.useCallback)((e=>{e.stopPropagation(),null==l||l()}),[l]),w=(0,o.useCallback)((()=>{null==a||a()}),[a]),y=(0,o.useCallback)((()=>{null==s||s()}),[s]),E=(0,o.useCallback)((()=>{b.current=setTimeout((()=>{c&&p(),y()}),1e3*r)}),[r,y,c,p]),k=(0,o.useCallback)((()=>{g.current=setTimeout((()=>{v(),w(),r&&E()}),1e3*n)}),[r,w,v,n,E]);return(0,o.useEffect)((()=>(t?k():c&&p(),()=>{(null==g?void 0:g.current)&&clearTimeout(g.current),(null==b?void 0:b.current)&&clearTimeout(b.current)})),[r,y,w,t,c,p,v,k,n]),i.createElement("div",{className:m()(W,h&&U)},i.createElement(O._5,{className:m()(X,h&&U),"aria-hidden":!0,host:u,href:d,onClick:C},c?i.createElement("div",{className:$},i.createElement(z.Z,f),i.createElement(Z.Z,f)):i.createElement(i.Fragment,null,i.createElement("span",null,i.createElement(K.transferText,null)),i.createElement(j.z,{size:"s",onClick:C,className:Q,variant:"media"},i.createElement(K.buttonText,null)))),i.createElement("div",null))};var J=n(71065),ee=n(5128),te=n(88634),ne=n(35129),ie=n(89563),oe=n(37828);const re=(0,R.N)("short-video-carousel-item"),le=e=>{var t;let{isPlayerPreloadingQueueEnabled:n,enabledPlayer:r,isVideoInstreamAd:l,isVideoAutoplayEnabled:a,isMobile:s,id:c,onPlayAutoplayPlayerById:u,onChangePlayerRect:d,host:m,onPlayerApiLoaded:h,itemOrder:p,item:g,videoPlayerSettings:b,videoPlayersManager:f,videoPlayersPool:C,adPixelCommonData:w,onClickItem:E,vkId:k,yandexuid:T,onVideoView:R,onVideoEnd:H,onHoverEnd:z,log:Z,isShortCarouselRedesign:W,isVideoShowcaseFeed:U,isTransferCard:X,isShortCarouselAutoscroll:$,isShortNewTabTransfer:Q,shortTransferViewTime:q,shortPreviewTime:Y,shortTimeBeforeTabTransfer:K}=e;const{isSiteWideNavigationEnabled:j}=(0,ie.j)(),{l10n:le}=(0,S.$)(),ae=(0,o.useRef)(null),{handleVideoPlayerMount:se,handlePlayerApiLoaded:ce,publicApi:ue}=(0,V.b)(),{bulkParams:de,link:me,source:{feedLink:he}}=g,[ve,pe]=(0,_.O)(!1,$?.75:.5),ge=(0,o.useCallback)((()=>ue?ue.getCurrentTime():g.video.viewedTime||0),[g.video.viewedTime,ue]),[be,fe]=(0,o.useState)(0),[Ce,we]=(0,o.useState)(!1),ye=(0,o.useRef)(!1),Ee=(0,o.useRef)(!1),ke=(0,o.useRef)(),_e=(0,I.D)({log:Z,bulkParams:de,link:me,feedLink:he,getVideoCurrentTime:ge,startCurrentTime:g.video.viewedTime}),[Te,Se]=(0,o.useState)(!1);(0,L.D)({isVisible$:pe,onShow(){_e.showCarouselItem()}}),(0,v.m)((()=>pe),(e=>{Se(Boolean(e))}));const Pe=(0,o.useMemo)((()=>{var e;return(0,J.h)(w,null==(e=g.video.ad)?void 0:e.pixelsData)}),[w,null==(t=g.video.ad)?void 0:t.pixelsData]),{vid:xe,ea:Re,eg:Ne}=(0,te.b)(),Me=(0,o.useMemo)((()=>(0,F.i)({videoStreams:g.video.streams,videoStream:g.video.id,videoInfo:g.video.videoInfo,additionalParams:g.video.additionalParams,adConfig:g.video.adConfig,skipAllAdPods:b.skipAllAdPods,adPixelData:Pe,vid:xe,dzenuid:T,vkId:k,eg:Ne,ea:Re})),[g.video.additionalParams,g.video.id,g.video.videoInfo,g.video.streams,g.video.adConfig,b.skipAllAdPods,Pe,xe,T,k,Ne,Re]),Le=(0,o.useMemo)((()=>{var e,t;return Object.assign({},b,{withAdCountdown:null==(e=g.video.ad)||null==(t=e.adVideoConfigData)?void 0:t.playerWithAdCountdown})}),[g.video.ad,b]),Ve=(0,y.e)(ae,ve),Ae=g.video.autoplay&&a;(0,D.n)((()=>{const{current:e}=ae;if(!e)return;const t=e.getBoundingClientRect();d(t)}));const{isHovered:Be,onMouseEnter:Fe,onMouseLeave:Ie}=(0,N.C)(),De=(0,o.useCallback)((()=>{E(),_e.clickCarouselItem()}),[E,_e]),Oe=(0,o.useCallback)((()=>{E(),_e.clickCarouselTabButton(c.toString())}),[c,E,_e]),He=(0,o.useCallback)((e=>{h&&h(e),Be&&e.safePlay(),ce(e)}),[h,ce,Be]),ze=(0,o.useCallback)((()=>{Ee.current=!0,_e.videoEnd(),H(c)}),[_e,H,c]),Ze=(0,o.useCallback)((()=>{_e.videoAutoplay(),!Ce&&X&&we(!0),Y&&(ke.current=setTimeout((()=>{ze()}),1e3*(X?K+q:Y)))}),[ze,X,Ce,Y,K,q,_e]),We=(0,o.useCallback)((()=>{let e=0;ye.current||Ee.current?(ye.current=!1,Ee.current=!1):e=ge()||0,q&&we(!1),(null==ke?void 0:ke.current)&&clearTimeout(ke.current),_e.videoAutopause(),fe(e)}),[ge,q,_e]),Ue=(0,o.useCallback)((()=>be||0),[be]);(0,o.useEffect)((()=>{Be?(ye.current=!0,u(c)):ye.current&&z()}),[Be,ue,u,c,z,ge]);const Xe=(0,o.useCallback)((e=>{g.video.heartbeatPos&&e===g.video.heartbeatPos[0]&&(null==R||R());const t=String(ue.getCurrentTime());_e.videoHeartbeat({videoPos:e.toString(),videoTime:t}),(0,oe.So)(e,g.video.heartbeatPos)}),[g.video.heartbeatPos,R,ue,_e]);return i.createElement("div",{ref:Ve,className:re(),onMouseEnter:Fe,onMouseLeave:Ie},i.createElement(O._5,{"aria-label":g.title,"aria-hidden":!0,className:re("link"),tabIndex:-1,host:(0,ne.ow)({unmodifiedUrl:m,isMobile:null!=s&&s}),href:g.link,onClick:De,target:s&&j?"_self":"_blank"}),X&&i.createElement(G,{timeToShow:K,duration:q,isActive:Ce,link:g.link,onClick:Oe,onShow:()=>_e.showCarouselTabButton(c.toString()),onHide:()=>we(!1),host:m,isLuringWithoutButton:Q}),r?i.createElement(x.Y,{frameFit:"cover",heartbeatTimes:g.video.heartbeatPos,isAllowAutoplay:Ae,isForceVisiblePlayer:!1,isInitialVisible:Te,className:re(),canRenderPlayer:!!W||Be||s,isDeferredAutoplay:U,isNativeAdControlsHidden:l,isMuted:!0,isOpenedDesktopModal:!1,isSilenceMode:!1,isVisible$:pe,itemOrder:p,placeName:"feed",rumFeature:"card",source:Me,onEnd:ze,onPause:_e.videoPause,onPlay:_e.videoPlay,onHeartbeat:Xe,onPlayerApiLoaded:He,onVideoPlayerMount:se,videoDuration:g.video.duration,videoPlayerSettings:Le,isPlayerPreloadingQueueEnabled:n,videoPlayersManager:f,videoPlayersPool:C,isKeepPlayer:!0,withAutoReplay:!0,onAutopause:We,onAutoplay:Ze,getStartPosition:Ue},(e=>{let{play:t,playerState:n,isInVideoPoolAutoplay:o,videoPlayerPublicApi:r}=e;const l=o&&Ae?n:P.de.Paused;return i.createElement("div",{className:re("content")},g.image?i.createElement(A.F,{borderRadiusSize:"s",blurredPreview:g.blurredPreview,image:g.image}):null,i.createElement(B.H,{l10n:le,onPlay:t,videoPlayerPublicApi:r,isMuted:!0,playerState:l,isVisibleState:l===P.de.Paused&&!Ae,withTimeline:!1,withBackground:!1,withDuration:!1,withCurrentTime:!1,withFullscreen:!1,withCountdown:!1,withSound:!0,hasMuteToggle:!0,isMobile:!0,isFullControls:!1,isWithCallToAction:!1,isVisible$:pe,isVisibleControls:!1,withReplay:!1,isFullscreen:!1,withTimelinePreview:!1,pageTheme:M.DD.white,isBodyScrollEnabled:!0,videoQuality:"auto",videoQualitySurvey:ee.B}))})):null,i.createElement(A.F,{borderRadiusSize:"m",blurredPreview:g.blurredPreview,image:g.image||""}))};var ae=n(94292),se=n(82236),ce=n(15433),ue=n(25981),de=n(23242),me=n.n(de),he=n(62508),ve=n.n(he),pe=n(43952);let ge=new(me())({id:"eye-3_0c16--inline",use:"eye-3_0c16--inline-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="eye-3_0c16--inline"><path d="M2 8c0-1.35 2.143-4.5 6-4.5s6 3.15 6 4.5-2.143 4.5-6 4.5S2 9.35 2 8zm1.5 0c0 .272.41 1.033 1.08 1.663C5.476 10.503 6.643 11 8 11s2.525-.497 3.42-1.337c.67-.63 1.08-1.391 1.08-1.663s-.41-1.033-1.08-1.663C10.524 5.497 9.357 5 8 5s-2.525.497-3.42 1.337C3.91 6.967 3.5 7.728 3.5 8zm6.225 0a1.725 1.725 0 11-3.45 0 1.725 1.725 0 013.45 0z" fill="currentColor" /></symbol>'});const be=(0,pe.Z)(ve(),ge);var fe=n(68610),Ce=n(90587),we=n(40244);const ye=(0,R.N)("skin-short-video-carousel-card"),Ee=e=>{let{labelIcon:t,labelText:n,host:r,isSubscribed:l,isBlocked:a,isPromoPublication:s,viewSize:c,source:u,isMobile:d,views:m=0,className:h,children:v,isShortAuthorVisible:p=!0,isShortCarouselRedesign:g=!1}=e;const{lang:b,l10n:f}=(0,S.$)(),C=(0,o.useCallback)((()=>!0),[]);return i.createElement("div",{className:R.N.mix(ye({viewSize:c}),h)},"l"===c&&p&&!g?i.createElement("div",{className:ye("header")},i.createElement(we.K,{host:r,isMobile:d,containerClassName:ye("header-container"),channelInfoClassName:ye("header-info"),hasControls:!0,isSubscribed:l,isBlocked:a,backgroundType:"media",l10n:f,lang:b,labelIcon:t,labelText:n,source:u,size:"xl",theme:M.DD.black,isPromo:s,shouldShowHeaderMeta:s,isCompact:!0,onOpenSourceLink:C,withLogo:!0})):null,v,m?i.createElement("div",{className:ye("footer")},i.createElement(fe.l,{icon:be,size:"xs",className:ye("icon-meta")})," ",(0,Ce.BX)(m)):null)};var ke=n(16141),_e=n(62077);const Te=(0,R.N)("short-video-carousel-view"),Se=e=>{let{item:t,viewSize:n,isMobile:r,host:l,aspectRatioCardInShortVideoCarousel:a,isFavorited:s,log:c,isVideoShowcaseFeed:u,isShortAuthorVisible:d,isShortCarouselRedesign:m,areFloors:h}=e;const{bulkParams:v,title:p,views:g,labelText:b,labelIcon:f,source:w,isSubscribed:y,isBlocked:E,isPromoPublication:k,player:_,link:T,source:{feedLink:P}}=t,x=(0,I.D)({log:c,bulkParams:v,link:T,feedLink:P,getVideoCurrentTime:()=>{},startCurrentTime:0}),{lang:R,l10n:N}=(0,S.$)(),M=(0,C.tD)(),L=(0,o.useCallback)((()=>(x.clickCardSourceLink(),!1)),[x]),V=(0,o.useCallback)((()=>{x.clickCarouselItem()}),[x]);return i.createElement(i.Fragment,null,i.createElement("div",{className:Te("wrapper-item",{aspectRatio:a.replace(":","x")})},i.createElement(Ee,{className:Te("card"),views:s?void 0:g,viewSize:n,labelText:b,labelIcon:f,source:w,host:l,isSubscribed:y,isBlocked:E,isPromoPublication:k,isMobile:r,isShortAuthorVisible:d,isShortCarouselRedesign:m},_)),m&&i.createElement("div",{className:Te("info-wrapper",{areFloors:h})},i.createElement(O._5,{host:l,href:T,"aria-label":p,className:Te("info-link"),onClick:V},i.createElement("div",{className:Te("card-name",{isVideoShowcaseFeed:u,areFloors:h})},i.createElement(ke.n,{lines:h?2:1,lineHeight:20},p))),d&&i.createElement(we.K,{host:l,isMobile:r,containerClassName:Te("header-container"),channelInfoClassName:Te("header-info"),hasControls:!1,isCompact:u,verifiedMarkTheme:u?_e.U.gray:_e.U.light,isSubscribed:y,backgroundType:u?void 0:"media",isBlocked:E,l10n:N,lang:R,labelText:b,labelIcon:f,source:w,theme:M,isPromo:k,shouldShowHeaderMeta:k,onOpenSourceLink:L,isNullPadding:!0,withLogo:!0,viewType:"monotonous",logoSize:20,isCarouselCard:!0,areFloors:h})))},Pe={shortVideoNew:{ru:"Ролики из подписок",_context:""},shortVideoTitle:{ru:"Ролики",_context:""},shortVideoRecommended:{ru:"Рекомендуем ролики",_context:""}},xe=((0,q.Wh)(Pe),(0,q.bN)(Pe)),Re=(0,R.N)("short-video-carousel-view"),Ne={"4:6":4/6,"9:16":9/16},Me=(e,t,n,i)=>t<=0?n*(Ne[i]||Ne["4:6"])+4:((e,t)=>(e.current?e.current.clientWidth:"undefined"==typeof document?1024:document.body.clientWidth)/t)(e,t),Le=e=>{let{theme:t,carouselHeight:n,isMobile:r,host:l,countCardInShortVideoCarousel:a,items:s,aspectRatioCardInShortVideoCarousel:c,isFavorited:u,isPunch:d,areFloors:m,log:h,isVideoShowcaseFeed:v=!1,isShortAuthorVisible:p,isShortCarouselRedesign:g,handleCarouselApi:b}=e;const f=(0,q.bU)(),{l10n:C}=(0,S.$)(),w=(0,o.useRef)(null),[y,E]=(0,o.useState)(Me(w,a,n,c)),k=(0,o.useCallback)((()=>{E(Me(w,a,n,c))}),[a,n,c]);(0,ce.Cr)(w,k),(0,o.useEffect)((()=>{k()}),[k]);const _=!g||v||m||r?y:205.3,T=u?xe.shortVideoNew(f):xe.shortVideoRecommended(f),P=g&&!v&&!r;return i.createElement("div",{className:Re({isVideoShowcaseFeed:v})},!d&&!m&&i.createElement("div",{className:Re("header")},i.createElement(se.E,{title:v?xe.shortVideoTitle(f):T,size:r||v?"l":void 0,isBigTitle:!0,isStyleInherit:v,className:Re("carousel-header"),l10n:C,titleLogo:v?void 0:ue.Z})),i.createElement("div",{ref:w},i.createElement(ae.v,{theme:t,className:Re("carousel",{isPunch:d,areFloors:m,isMobile:r,isDesktopFeedRedesign:P}),arrowClassName:Re("arrow"),itemContainerClassName:Re(g?"item-new":"item",{isPunch:d,areFloors:m,withoutPadding:v||P,isMobile:r}),arrowView:"tick",itemDesiredWidth:_,itemMargin:0,arrowHorizontalAlign:"inner",arrowVerticalAlign:g?"new-shorts-carousel-with-description":"middle",forceNullScrollWidth:!0,shouldShowArrows:!r,handleCarouselApiLoaded:b},s.map(((e,t)=>i.createElement(Se,{key:t,aspectRatioCardInShortVideoCarousel:c,item:e,host:l,isFavorited:u,viewSize:"l",isMobile:r,isShortAuthorVisible:p,isShortCarouselRedesign:g,areFloors:m,isVideoShowcaseFeed:v,log:h}))))))};let Ve=new(me())({id:"circle-check_019b--inline",use:"circle-check_019b--inline-usage",viewBox:"0 0 32 33",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 33" id="circle-check_019b--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 5.008c-6.075 0-11 4.925-11 11s4.925 11 11 11 11-4.925 11-11-4.925-11-11-11zm-9 11a9 9 0 0116.108-5.522L15 18.594 11.707 15.3a1 1 0 00-1.414 1.414l3.993 3.993a1.01 1.01 0 001.428 0l8.464-8.464A9 9 0 117 16.007z" fill="currentColor" /></symbol>'});const Ae=(0,pe.Z)(ve(),Ve),Be=(0,R.N)("card-blocked"),Fe=e=>{let{text:t,onCancelBlock:n}=e;const{l10n:o}=(0,S.$)();return i.createElement("div",{className:Be()},i.createElement("div",{className:Be("title")},i.createElement(fe.l,{icon:Ae,size:"m",className:Be("icon")}),i.createElement("span",{className:Be("text")},t)),i.createElement(j.z,{"aria-label":t,size:"l",form:"rounded",onClick:n},o("feedback.cancel")))};var Ie=n(2069);const De="short-video-carousel__container-1R",Oe="short-video-carousel__isVideoShowcaseFeed-Aq",He="short-video-carousel__isFirst-Wl",ze="short-video-carousel__isMobile-2Z",Ze="short-video-carousel__isPunch-18",We="short-video-carousel__areFloors-3g",Ue=(0,o.memo)((e=>{let{host:t,isPlayerPreloadingQueueEnabled:n,isVideoInstreamAd:r,isAutoplayVisibleCardInCircle:l,aspectRatioCardInShortVideoCarousel:a,shouldSendShort:s,isVideoAutoplayEnabled:c,countCardInShortVideoCarousel:u,heightShortVideoCarousel:d,item:g,itemOrder:P,log:x,videoPlayerSettings:R,videoPlayersManager:N,videoPlayersPool:M,onShow:L,onVideoView:V,onUpdateFeedKey:A,adPixelCommonData:B,vkId:F,yandexuid:I,isPunch:D,areFloors:O,pos:H,shouldDeferEvents$:z,isShortAuthorVisible:Z,isShortCarouselRedesign:W,isShortCarouselAutoscroll:U,shortCarouselTabTransfer:X,isVideoShowcaseFeed:$,isShortNewTabTransfer:Q,shortTransferViewTime:q,shortPreviewTime:Y,shortTimeBeforeTabTransfer:K}=e;const j=(0,C.tD)(),{isWhiteDzenDesktop:G,isWhiteDzenMobile:J}=(0,E.od)(),{l10n:ee}=(0,S.$)(),[te,ne]=(0,o.useState)(0),[ie,oe]=(0,o.useState)(!1),re=(0,o.useRef)(null),ae=(0,o.useRef)(null),se=(0,o.useRef)(null),{bulkParams:ce}=g,ue=g.items.length,de=(0,o.useCallback)((function(e,t){return void 0===t&&(t={}),x(e,Object.assign({},t,{bulkParams:ce,bulkReplaceMap:Object.assign({},t.bulkReplaceMap)}))}),[ce,x]),[me]=(0,o.useState)((()=>Object.assign({},(0,k.hq)(de,D&&H?{pos:String(H)}:{}),(0,k.S4)(de),(0,k.Hz)(de)))),[he,ve]=(0,_.O)(!1),{isVideoAutoplayEnabled:pe,playNextVisibleAutoplayPlayer:ge,onPlayAutoplayPlayerById:be,customVideoPlayerSettings:fe,customVideoPlayersPool:Ce,playPreviousVideo:we}=(e=>{let{itemOrder:t,isPlayerPreloadingQueueEnabled:n,videoPlayerSettings:i,videoPlayersPool:r,isVisible$:l,isEnabled:a}=e;const[s]=(0,o.useState)((()=>new b)),[c,u]=(0,o.useState)(!a),[d]=(0,o.useState)(Object.assign({},i,{countPlayersBefore:1,countPlayersAfter:1})),m=(0,o.useRef)(-1),h=(0,o.useCallback)((()=>{u(!0)}),[]),g=(0,o.useCallback)((()=>{u(!1)}),[]),[{setIsVisible:f,destroy:C}]=(0,o.useState)((()=>a?r.createNewPlayer({index:t,countPlayersBefore:i.countPlayersBefore,countPlayersAfter:i.countPlayersAfter,isPlayerPreloadingQueueEnabled:n,handlers:{onAutoplay:h,onAutopause:g}}):{setIsVisible:()=>{},destroy:()=>{}})),w=(0,o.useCallback)((()=>{a&&s.playNextVisibleAutoplayPlayer()}),[a,s]),y=(0,o.useCallback)((e=>{a&&(m.current=s.getCurrentAutoplayId(),s.playAutoplayPlayerByIndex(e))}),[a,s]),E=(0,o.useCallback)((()=>{s.playAutoplayPlayerByIndex(m.current),m.current=-1}),[s]);return(0,v.m)((()=>l),(e=>{f(Boolean(e))})),(0,p.Z)((()=>{C()})),{isVideoAutoplayEnabled:c,videoPlayerSettings:i,onPlayAutoplayPlayerById:y,customVideoPlayerSettings:a?d:i,playNextVisibleAutoplayPlayer:w,customVideoPlayersPool:a?s:r,playPreviousVideo:E}})({isEnabled:l,isPlayerPreloadingQueueEnabled:n,isVisible$:ve,itemOrder:P,videoPlayersPool:M,videoPlayerSettings:R}),[ye,Ee,ke,_e]=(0,h.c)();(0,f.E)({isToothVisible$:Ee,isVisible$:ke,isIntersecting$:_e,shouldDeferEvents$:z,onShow(){me.showCarousel(),L()},onShort(){s&&me.shortCarousel()}});const Te=(0,y.e)(ye,he),Se=(0,o.useCallback)((e=>{e?me.block():me.cancelBlock(),A(),oe(e)}),[me,A]),Pe=(0,o.useCallback)((()=>{Se(!1)}),[Se]),xe=(0,o.useCallback)((e=>{ae.current=e}),[]),Re=(0,o.useCallback)((e=>{re.current=e}),[]),Ne=(0,o.useCallback)((e=>{se.current=e}),[]),Me=(0,o.useCallback)((e=>{ge()}),[ue,!1,U,be,ge]),Ve=(0,o.useMemo)((()=>g.items.map(((e,o)=>({title:e.title,isSubscribed:"subscribed"===e.source.status,isBlocked:"blocked"===e.source.status,labelText:e.labelText,labelIcon:e.labelIcon,source:e.source,views:e.video.views,link:e.link,bulkParams:e.bulkParams,isPromoPublication:Boolean(e.isPromoPublication),player:i.createElement(le,{item:e,onClickItem:me.clickCarousel,isVideoShowcaseFeed:$,onVideoView:()=>null==V?void 0:V(e),onVideoEnd:$?w.c:Me,onHoverEnd:we,isVideoInstreamAd:r,itemOrder:l?o:P,enabledPlayer:l||o===te,host:t,isVideoAutoplayEnabled:c&&pe,isMobile:!1,onPlayerApiLoaded:xe,onPlayAutoplayPlayerById:be,id:o,onChangePlayerRect:Re,videoPlayerSettings:fe,isPlayerPreloadingQueueEnabled:n,videoPlayersManager:N,videoPlayersPool:Ce,adPixelCommonData:B,vkId:F,yandexuid:I,isShortCarouselRedesign:W,isTransferCard:!$&&X===o,isShortCarouselAutoscroll:!$&&U,isShortNewTabTransfer:Q,shortTransferViewTime:q,shortPreviewTime:Y,shortTimeBeforeTabTransfer:K,log:x})})))),[g.items,me.clickCarousel,$,Me,we,r,l,P,te,t,c,pe,!1,xe,be,Re,fe,n,N,Ce,B,F,I,W,X,U,Q,q,Y,K,x,V]),Ae=(0,o.useCallback)((()=>M.freeze()),[M]),Be=(0,o.useCallback)((()=>M.unfreeze()),[M]),Ue=!D&&!O&&!$&&G;return i.createElement(Ie.g,{item:void 0,log:void 0,forceSendBulkEvents:void 0},i.createElement(T.U,{id:"card-wrapper-short-carousel",withOverflowHidden:!D&&!O,theme:j,ref:Te,isDesktopRedesign:!$,withBorder:Ue,className:m()(De,{[Ze]:D||O,[Oe]:$,[ze]:!1,[He]:0===H,[We]:O})},ie?i.createElement(Fe,{text:ee("common.hide_short_video"),onCancelBlock:Pe}):i.createElement(Le,{theme:j,host:t,isVideoShowcaseFeed:$,isFavorited:g.is_favorited,isMobile:Boolean(!1),carouselHeight:d,onChangeActiveItem:ne,aspectRatioCardInShortVideoCarousel:a,onSwipeStart:Ae,countCardInShortVideoCarousel:u,onSwipeEnd:Be,items:Ve,isPunch:D,areFloors:O,log:x,isShortAuthorVisible:Z,isShortCarouselRedesign:W,handleCarouselApi:Ne})))}));var Xe=n(18849),$e=n(10349),Qe=n(23554),qe=n(22826);const Ye=(e,t)=>{const n=(0,Qe.Vw)(e,t,Xe.qG.SHORT_VIDEO_CAROUSEL);return Object.assign({itemFromStore:n},((e,t)=>{const n=(0,Qe.oY)(e,t),{isShortAuthorVisible:i,isShortCarouselRedesign:o,isShortCarouselAutoscroll:r,shortCarouselTabTransfer:l,isPlayerPreloadingQueueEnabled:a,videoPlayerSettings:s,heightShortVideoCarousel:c,aspectRatioCardInShortVideoCarousel:u,isAutoplayVisibleCardInCircle:d,countCardInShortVideoCarousel:m,shouldSendShort:h,isShortNewTabTransfer:v,shortTransferViewTime:p,shortPreviewTime:g,shortTimeBeforeTabTransfer:b}=(0,$e.a)(e);return{isVideoAutoplayEnabled:(0,qe.g)(e),itemOrder:n,host:e.params.host||"",yandexuid:(0,Qe.vf)(e),vkId:(0,Qe.Bx)(e),isShortAuthorVisible:i,isShortCarouselRedesign:o,isShortCarouselAutoscroll:r,shortCarouselTabTransfer:l,isPlayerPreloadingQueueEnabled:a,videoPlayerSettings:s,heightShortVideoCarousel:c,aspectRatioCardInShortVideoCarousel:u,isAutoplayVisibleCardInCircle:d,countCardInShortVideoCarousel:m,shouldSendShort:h,isShortNewTabTransfer:v,shortTransferViewTime:p,shortPreviewTime:g,shortTimeBeforeTabTransfer:b,isVideoInstreamAd:!1}})(e,t))},Ke="floor-short-video-carousel__container-1N",je="floor-short-video-carousel__isMobile-1L",Ge="floor-short-video-carousel__title-Uo";var Je=n(25347);const et=e=>{let{aspectRatioCardInShortVideoCarousel:t,countCardInShortVideoCarousel:n,heightShortVideoCarousel:o,host:r,isAutoplayVisibleCardInCircle:l,isShortAuthorVisible:a,isShortCarouselAutoscroll:s,isShortCarouselRedesign:c,isVideoAutoplayEnabled:u,isVideoInstreamAd:d,item:h,itemOrder:v,log:p,shortCarouselTabTransfer:g,shouldDeferEvents$:b,shouldSendShort:f,videoPlayerSettings:C,videoPlayersManager:w,isPlayerPreloadingQueueEnabled:y,videoPlayersPool:E,yandexuid:k,adPixelCommonData:_,vkId:T,onUpdateFeedKey:S,onShow:P,onVideoView:x,areFloors:R,isShortNewTabTransfer:N,shortTransferViewTime:M,shortPreviewTime:L,shortTimeBeforeTabTransfer:V}=e;const A=o<393?393:o;return i.createElement("div",{className:m()(Ke,{[je]:!1})},i.createElement(Je.K,{type:h.type,href:h.href,className:m()(Ge,{[je]:!1})}),i.createElement(Ue,{key:h.id,host:r,isPlayerPreloadingQueueEnabled:y,isVideoInstreamAd:d,aspectRatioCardInShortVideoCarousel:t,isAutoplayVisibleCardInCircle:l,countCardInShortVideoCarousel:n,item:h,log:p,onUpdateFeedKey:S,itemOrder:v,isVideoAutoplayEnabled:u,heightShortVideoCarousel:A,videoPlayerSettings:C,videoPlayersManager:w,videoPlayersPool:E,onShow:P,onVideoView:x,adPixelCommonData:_,vkId:T,yandexuid:k,pos:h.pos,shouldSendShort:f,shouldDeferEvents$:b,isShortAuthorVisible:a,isShortCarouselRedesign:c,isShortCarouselAutoscroll:s,shortCarouselTabTransfer:g,isVideoShowcaseFeed:!1,areFloors:R,isShortNewTabTransfer:N,shortTransferViewTime:M,shortTimeBeforeTabTransfer:V,shortPreviewTime:L}))};var tt=n(19027);const nt=(0,o.memo)((e=>{let{id:t,isPunch:n,pos:d,packId:m}=e;const{log:h}=(0,c.B)(),{videoPlayersPool:v,videoPlayersManager:p,zenApi:g,globalBus:b,shouldDeferEvents$:f}=(0,u.vv)();(0,s.cW)(f);const{itemFromStore:C,host:w,isVideoAutoplayEnabled:y,itemOrder:E,vkId:k,yandexuid:_,isShortAuthorVisible:T,isShortCarouselRedesign:S,isShortCarouselAutoscroll:P,isShortNewTabTransfer:x,shortTransferViewTime:R,shortPreviewTime:N,shortTimeBeforeTabTransfer:M,shortCarouselTabTransfer:L,isPlayerPreloadingQueueEnabled:V,videoPlayerSettings:A,heightShortVideoCarousel:B,aspectRatioCardInShortVideoCarousel:F,isAutoplayVisibleCardInCircle:I,countCardInShortVideoCarousel:D,shouldSendShort:O,isVideoInstreamAd:H,hasFloors:z}=(0,r.v9)((e=>Object.assign({},Ye(e,t),{hasFloors:(0,tt.v)(e)})),a.v),Z=Boolean(!1),[W]=(0,o.useState)(C),U=(0,r.v9)(Qe._Q),X=(0,r.I0)(),$=(0,o.useCallback)((()=>{g.packShown(n&&m||W.packId),b.emit("zenCardShow",W.type)}),[g,b,W.packId,W.type,n,m]),Q=(0,o.useCallback)((()=>{(0,oe.Is)()}),[]),q=(0,o.useCallback)((()=>{X((0,l.tK)())}),[X]),Y=z?et:Ue;return i.createElement(Y,{key:W.id,host:w,isPlayerPreloadingQueueEnabled:V,isVideoInstreamAd:H,aspectRatioCardInShortVideoCarousel:F,isAutoplayVisibleCardInCircle:I,countCardInShortVideoCarousel:D,item:W,log:h,onUpdateFeedKey:q,itemOrder:E,isVideoAutoplayEnabled:y,heightShortVideoCarousel:B,videoPlayerSettings:A,videoPlayersManager:p,videoPlayersPool:v,onShow:$,onVideoView:Q,adPixelCommonData:U,vkId:k,yandexuid:_,pos:d,shouldSendShort:O,shouldDeferEvents$:f,isShortAuthorVisible:T,isShortCarouselRedesign:S,isShortCarouselAutoscroll:P,shortCarouselTabTransfer:L,isVideoShowcaseFeed:Z,areFloors:z,isPunch:n,isShortNewTabTransfer:x,shortTransferViewTime:R,shortPreviewTime:N,shortTimeBeforeTabTransfer:M})}))},68610:(e,t,n)=>{n.d(t,{l:()=>l});var i=n(29901),o=n(13714);const r={xs:16,s:24,m:32},l=(0,o.memo)((e=>{let{size:t,icon:n,className:o}=e;const l="string"==typeof t?r[t]:t;return i.createElement("svg",{viewBox:n.viewBox,width:l,height:l,className:o},i.createElement("use",{xlinkHref:`#${n.id}`}))}))},74341:(e,t,n)=>{n.d(t,{B:()=>a});n(13311);var i=n(67844),o=n(68322);const r=["show","click","show_teaser","click_teaser"],l=e=>{let{event:t,getVideoCurrentTime:n,startCurrentTime:i}=e;return{videoPos:r.includes(t)?i:n(),videoTime:n()}},a=e=>{let{log:t,logV2:n,bulkData:r,hasNewStat:a,bulkParams:s,parentStat:c={},getVideoCurrentTime:u,getDoc2docTabName:d,startCurrentTime:m=0}=e;const h=(0,o.m)((e=>{const{videoPos:t,videoTime:n}=l({event:e,getVideoCurrentTime:u,startCurrentTime:m});return{_video_pos_:String(t)||"_video_pos_",__doc2doc_tab_name__:(null==d?void 0:d())||"__doc2doc_tab_name__",__view_timeline_sec__:String(n)||"__view_timeline_sec__"}}));return(0,o.m)((function(e,o){if(void 0===o&&(o={}),n){const{videoPos:t,videoTime:i}=l({event:e,getVideoCurrentTime:u,startCurrentTime:m});return n(e,Object.assign({},o,{video_position_sec:t,doc2doc_tab_name:null==d?void 0:d(),view_timeline_sec:i,parent_id:null==c?void 0:c.parentId,parent_type:null==c?void 0:c.parentType}))}if(s)return null==t?void 0:t(e,Object.assign({},o,{bulkData:r,hasNewStat:a,bulkParams:s,bulkReplaceMap:Object.assign({},h(e),o.bulkReplaceMap,(0,i.x)(c))}))}))}},10245:(e,t,n)=>{n.d(t,{D:()=>c});n(14072),n(53208);var i=n(13714),o=n(86115),r=n(74191),l=n(93441),a=n(74341),s=n(40037);const c=e=>{let{log:t,clientLog:n,bulkData:c,hasNewStat:u,bulkParams:d,link:m,parentStat:h,getVideoCurrentTime:v,getDoc2docTabName:p,startCurrentTime:g,sendMediascopePixel:b}=e;const f=(0,a.B)({log:t,bulkData:c,hasNewStat:u,bulkParams:d,parentStat:h,getVideoCurrentTime:v,getDoc2docTabName:p,startCurrentTime:g}),[C]=(0,i.useState)((()=>Object.assign({},(0,o.cq)(f,{link:m}),(0,o.Jx)(f),(0,o.xT)(f),(0,o.H9)(f),(0,o.S4)(f),(0,o.Hz)(f),(0,o.ZR)(f),(0,r.c)(f),(0,l.U)(f,b||s.c),n?(0,o.cW)(n):void 0,(0,o.cY)(f),(0,o.RB)(f),(0,o.hq)(f),(0,o.mR)(f),(0,o.ju)(f),(0,o.QY)(f))));return C}},15433:(e,t,n)=>{n.d(t,{Cr:()=>l});var i=n(13714),o=n(29153),r=n(20759);const l=(e,t)=>{(0,i.useEffect)((()=>{const n=e.current;if(!n)return;const i=new r.Z((function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];(0,o.dC)((()=>requestAnimationFrame((()=>t(...n)))))}));return i.observe(n),()=>{n&&i.disconnect()}}),[t,e])}},74191:(e,t,n)=>{n.d(t,{c:()=>r,V:()=>l});var i=n(93942),o=n(77880);const r=e=>({videoExpandText:()=>{e((0,o.q)("expand_text"))},videoCollapseText:t=>{e((0,o.q)(t?"collapse_text":"expand_text"))},nextVideoTimerShow:()=>{e((0,o.q)("next_video_timer:show"))},nextVideoTimerClick:()=>{e((0,o.q)("next_video_timer:click"))},nextVideoTimerCancel:()=>{e((0,o.q)("next_video_timer:cancel"))},nextVideoTimerOn:()=>{e((0,o.q)("next_video_timer:on"))},nextVideoTimerOff:()=>{e((0,o.q)("next_video_timer:off"))},nextVideoTimerAutoStart:()=>{e((0,o.q)("next_video_timer:auto_start"))}}),l=e=>({show:(t,n)=>{let{adId:r,ctr:l,hitLogId:a}=t;return e((0,o.q)("ad_video_cards:show"),{bulkReplaceMap:{__banner_id__:(0,i.M)(r,"_video_pos_"),__ad_ctr__:(0,i.M)(String(l||""),"__ad_ctr__"),__hit_log_id__:(0,i.M)(a,"__hit_log_id__")},payload:n?{json_data:n}:void 0})},click:(t,n)=>{let{adId:r,ctr:l,hitLogId:a}=t;return e((0,o.q)("ad_video_cards:click"),{bulkReplaceMap:{__banner_id__:(0,i.M)(r,"_video_pos_"),__ad_ctr__:(0,i.M)(String(l||""),"__ad_ctr__"),__hit_log_id__:(0,i.M)(a,"__hit_log_id__")},payload:n?{json_data:n}:void 0})},load:(t,n)=>{let{adId:r,ctr:l,hitLogId:a}=t;return e((0,o.q)("ad_video_cards:load"),{bulkReplaceMap:{__banner_id__:(0,i.M)(r,"_video_pos_"),__ad_ctr__:(0,i.M)(String(l||""),"__ad_ctr__"),__hit_log_id__:(0,i.M)(a,"__hit_log_id__")},payload:n?{json_data:n}:void 0})},fail:(t,n)=>{let{adId:r,ctr:l,hitLogId:a}=t;return e((0,o.q)("ad_video_cards:fail"),{bulkReplaceMap:{__banner_id__:(0,i.M)(r,"_video_pos_"),__ad_ctr__:(0,i.M)(String(l||""),"__ad_ctr__"),__hit_log_id__:(0,i.M)(a,"__hit_log_id__")},payload:n?{json_data:n}:void 0})}})},58264:(e,t,n)=>{n.d(t,{v:()=>i});const i=e=>e?e.replace(/ [a-z,а-я]+$/,""):""},68970:(e,t,n)=>{n.d(t,{h:()=>i,x:()=>o});const i=()=>document.documentElement.clientWidth/window.innerWidth,o=()=>document.documentElement.clientWidth/window.innerWidth!=1},29962:(e,t,n)=>{n.d(t,{E:()=>i});const i=e=>{let{publicationDate:t,shouldHideDateForPromo:n}=e;if(n&&t){const e=(e=>{if(e&&!isNaN(e))return e<314496e6?1e3*e:e})(parseInt(t,10)),n=Date.now();return void 0!==e&&n-e<6048e5}return!0}},905:(e,t,n)=>{n.d(t,{u:()=>k});var i=n(29901),o=n(13714),r=n(2162),l=n(23242),a=n.n(l),s=n(62508),c=n.n(s),u=n(43952);let d=new(a())({id:"rocket_8b93--inline",use:"rocket_8b93--inline-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="rocket_8b93--inline">\n    <path fill-rule="nonzero" d="M10.245 9.45c3.437-3.465 7.254-3.673 7.62-3.3.36.36.088 4.15-3.36 7.62-.882.885-1.693 1.662-2.505 2.295v2.43c.003 1.002.026 1.035-.6 1.5-.343.252-1.797 1.445-3.36 2.4-.38.234-.696.04-.45-.3.655-.933 1.13-1.762 1.425-2.49.263-.671.262-1.266 0-1.785-1.002.316-1.835.222-2.445-.375-.619-.602-.71-1.44-.375-2.445-.529-.278-1.127-.28-1.8-.015-.73.294-1.56.769-2.49 1.425-.342.245-.537-.07-.3-.45.953-1.563 2.146-3.017 2.4-3.36.463-.625.496-.602 1.5-.6H7.95a28.32 28.32 0 0 1 2.295-2.55zm-5.37 7.965c.21.202-2.58 1.426-2.58 4.29 2.868.002 4.242-2.787 4.455-2.58.206.212-.617 1.832-1.77 2.985C3.838 23.25 2.295 24.001 0 24c.001-2.292.752-3.835 1.905-4.98 1.14-1.148 2.762-1.821 2.97-1.605zM1.05 12c-.006.484-.606.523-.6 0C.523 5.374 4.94 0 12 0c7.055 0 12 4.95 12 12 0 7.052-5.374 11.505-12 11.55-.227.001-.327-.147-.33-.3.001-.146.101-.297.33-.3 5.546.014 10.204-4.948 10.2-10.95.004-6-4.201-10.206-10.2-10.2C5.996 1.794 1.128 5.86 1.05 12z" />\n</symbol>'});const m=(0,u.Z)(c(),d);let h=new(a())({id:"icon_interest_be49--inline",use:"icon_interest_be49--inline-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon_interest_be49--inline">\n    <path d="M23 12.21v-.42c-4.4-.172-6.649-.505-8.488-2.302C12.716 7.65 12.382 5.401 12.21 1h-.42c-.172 4.4-.505 6.649-2.302 8.488C7.648 11.285 5.4 11.618 1 11.79v.42c4.4.172 6.649.505 8.488 2.301 1.796 1.84 2.13 4.088 2.302 8.489h.42c.172-4.4.505-6.65 2.302-8.489 1.84-1.796 4.088-2.129 8.488-2.3z" />\n</symbol>'});const v=(0,u.Z)(c(),h);let p=new(a())({id:"icon_subscribed_da19--inline",use:"icon_subscribed_da19--inline-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon_subscribed_da19--inline">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M20.837 6.79L9.607 18.684l-5.45-5.905 1.69-1.56 3.78 4.095L19.164 5.21l1.672 1.578z" />\n</symbol>'});const g=(0,u.Z)(c(),p);let b=new(a())({id:"icon_new_subscription_0b21--inline",use:"icon_new_subscription_0b21--inline-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon_new_subscription_0b21--inline">\n    <path d="M8 4.657v-.314c-1.138-.103-1.839-.321-2.437-.906C4.978 2.84 4.76 2.138 4.657 1h-.314c-.103 1.138-.321 1.839-.906 2.437-.598.585-1.299.803-2.437.906v.314c1.138.103 1.839.321 2.437.905.585.599.803 1.3.906 2.438h.314c.103-1.138.321-1.84.906-2.438C6.16 4.979 6.862 4.76 8 4.657zM20.836 6.79L9.606 18.684 4.155 12.78l1.69-1.56 3.78 4.095L19.164 5.21l1.672 1.578zM22 18.343v.314c-1.138.103-1.839.321-2.437.905-.585.599-.803 1.3-.906 2.438h-.314c-.103-1.138-.321-1.84-.906-2.438-.598-.584-1.299-.802-2.437-.905v-.314c1.138-.103 1.839-.321 2.437-.906.585-.598.803-1.299.906-2.437h.314c.103 1.138.321 1.839.906 2.437.598.585 1.299.803 2.437.906z" />\n</symbol>'});const f=(0,u.Z)(c(),b),C=(0,r.N)("label-icon"),w={turbo:m,interest:v,subscribed:g,new_subscription:f},y=e=>{let{type:t,color:n,faint:o,size:r}=e;const l=w[t];return l?i.createElement("svg",{className:C({faint:o,isRocket:"turbo"===t}),width:"24",height:"24",viewBox:l.viewBox,style:{width:r,height:r}},i.createElement("use",{style:{fill:n},xlinkHref:`#${l.id}`})):null},E=(0,r.N)("card-block-label-view"),k=(0,o.memo)((e=>{let{text:t,url:n,type:o}=e;const r=n?i.createElement("span",{className:E("link"),onClick:e=>{n&&(e.stopPropagation(),window.open(n,"_blank"))}},t):t;return"interest"===o?i.createElement("div",{className:E()},i.createElement("div",{className:E("logo")},i.createElement(y,{type:o,faint:!1,color:"currentColor",size:12})),i.createElement("div",{className:E("text")},r)):i.createElement(i.Fragment,null,r)}))},35171:(e,t,n)=>{n.d(t,{l6:()=>v,v$:()=>h});var i=n(83849),o=n.n(i),r=n(29901),l=n(13714),a=n(51773),s=n(27340);const c={subscribe:{ru:"Подписаться",_context:"Текстовая кнопка подписки в хэдерах карточек"},unsubscribe:{ru:"Вы подписаны",_context:"Текстовая кнопка подписки в хэдерах карточек"}},u=((0,s.Wh)(c),(0,s.bN)(c)),d={"default-font-family":"-apple-system, system-ui, 'Helvetica Neue', 'Helvetica', roboto, arial, sans-serif",button:"card-block-subscribe-view__button-rF",isHidden:"card-block-subscribe-view__isHidden-1n",isStandalone:"card-block-subscribe-view__isStandalone-Lw",isCompact:"card-block-subscribe-view__isCompact-HM",fadeOut:"card-block-subscribe-view__fadeOut-22",fade:"card-block-subscribe-view__fade-E_","textSize-s":"card-block-subscribe-view__textSize-s-2L","textSize-m":"card-block-subscribe-view__textSize-m-1-",spinner:"card-block-subscribe-view__spinner-2c","align-left":"card-block-subscribe-view__align-left-fW","align-center":"card-block-subscribe-view__align-center-31","align-right":"card-block-subscribe-view__align-right-Cr"};let m,h;!function(e){e.s="s",e.m="m"}(m||(m={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(h||(h={}));const v=(0,l.memo)((e=>{let{isSubscribed:t,onToggleSubscribe:n,textButtonSize:i=m.m,alignSpinner:l=h.Left,isCompact:c=!1,isStandalone:v=!1,isHidden:p,shouldFade:g=!1,isSubscriptionInProgress:b=!1,className:f}=e;const C=(0,s.bU)(),w=t?u.unsubscribe(C):u.subscribe(C),y=c?m.s:i;return r.createElement(a.Y,{size:y,variant:t?"ghostLight":"ghostAccent",isLoading:b,classNames:{rootElement:o()(d.button,c&&d.isCompact,p&&d.isHidden,v&&d.isStandalone,g&&d.fadeOut,d[`textSize-${y}`],f),spinner:o()(d.spinner,d[`align-${l}`])},asProps:{onClick:n},"aria-label":w},w)}))},7765:(e,t,n)=>{n.d(t,{z:()=>s});var i=n(29901),o=n(72444),r=n(2162),l=n(27170);const a=(0,r.N)("card-context-menu-item"),s=e=>{let{icon:t,text:n,onClick:s,autoClose:c,style:u,className:d,iconSize:m,description:h,errorText:v,hasNestedMenu:p,alignItems:g,hint:b,theme:f,children:C,isDesktopRedesign:w}=e;const{close:y}=(0,o.av)(),E=Boolean(C);return i.createElement(o.Zo,{autoClose:c,style:u,onClick:s,close:y,alignItems:g||(h?"start":"center"),className:r.N.mix(d,a({theme:f})),"aria-label":n,"data-testid":"ContextMenuItem"},i.createElement(o.RQ,{className:a("icon-container"),size:m},t),i.createElement(o.XU,{text:n,description:h,errorText:v,isNoWrap:w}),b&&i.createElement("span",{className:a("hint")},b),p&&i.createElement(l.y,{className:a("arrow"),name:"arrowXS",size:"xs"}),E&&C)}},40244:(e,t,n)=>{n.d(t,{K:()=>C});n(14072),n(53208);var i=n(29901),o=n(13714),r=n(71494),l=n(49541),a=n(905),s=n(40699),c=n(35171),u=n(13389),d=n(51468);const m=(0,r.N)("card-layer-header-view"),h=(0,o.memo)((e=>{let{titleRef:t,subscribeButton:n,controls:o,logo:l,isMobile:a,verifiedMarkTheme:s,renderClickable:c,headerTooltip:h,subtitle:v,theme:p,channelInfoClassName:g,containerClassName:b,backgroundType:f,title:C,size:w="m",titleSize:y,extraTitle:E,viewType:k,withLogoFade:_,isVerified:T=!1,isSidebarMod:S,isNullPadding:P,isCarouselCard:x,cardRtbLabel:R,isNewHeader:N,isCompact:M,isCompactCard:L,isPublicationPage:V,onMouseEnterTitle:A,onMouseLeaveTitle:B,isCarouselRedesign:F,isTextCard:I,shouldFadeInterpunct:D,areFloors:O}=e;const{isHeaderRedesign:H,isRtbInPreHeader:z}=(0,u.od)(),Z=a||z,W=Z&&R,U=!Z&&R;return i.createElement(i.Fragment,null,W&&i.createElement("div",{className:m("pre-header",{isCompactCard:L,isMobile:a})},W),i.createElement("div",{"data-testid":"card-header",className:r.N.mix(b,m({isMobile:a,size:w,isNullPadding:P,isSidebarMod:S,isCarouselCard:x,isNewHeader:N,isCompact:M,isCompactCard:L,isHeaderRedesign:H,isTextCard:I}))},i.createElement(d.f,{logo:l,title:C,titleRef:t,subtitle:v,verifiedMarkTheme:s,extraTitle:E,backgroundType:f,viewType:k,subscribeButton:n,isVerified:T,isMobile:a,withLogoFade:_,theme:p,className:(0,r.C)(g,m("channel-info")),cardRtbLabel:U,size:w,titleSize:y,renderClickable:c,isCompact:M,isCursorDefault:V,isCarouselRedesign:F,onMouseEnterTitle:A,onMouseLeaveTitle:B,shouldFadeInterpunct:D,areFloors:O}),h,o&&i.createElement("div",{className:m("controls",{isCompact:M})},o)))}));var v=n(73764),p=n(94445),g=n(29962),b=n(90587);const f=(0,r.N)("card-layer-channel-header-view"),C=(0,o.memo)((e=>{var t,n;let{host:r,isChannelOwner:d=!1,isMenuButtonDisabled:m=!1,isMobile:C,verifiedMarkTheme:w,isSubscribed:y,isSubscribedInCurrentSession:E=!1,containerClassName:k,channelInfoClassName:_,backgroundType:T,hasControls:S=!1,labelIcon:P,labelText:x,l10n:R,lang:N,source:M,renderContextMenu:L,renderAdditional:V,theme:A,withExtraTitle:B,viewType:F,iconSize:I,logoColor:D,logoDefault:O,onClickSubscribeButton:H,onOpenSourceLink:z,isNullPadding:Z,isCarouselCard:W,cardRtbLabel:U,isNewHeader:X,isBlocked:$,isPublicationPage:Q,isHiddenSubscribeBtn:q,isCompact:Y,logoSize:K,isCompactCard:j,isCarouselRedesign:G,withLogo:J=!0,publicationDate:ee,creationTime:te,isPromoPublication:ne,isTextCard:ie,isAuthorized:oe,size:re="m",shouldShowHeaderMeta:le=!0,areFloors:ae,isSubscriptionInProgress:se=!1}=e;const{targetSelfOnclickCommentAndPublications:ce}=(0,u.od)(),{shouldDegradateSubscriptions:ue,isHeaderRedesign:de,isLargeHeaderAvatar:me,shouldHideDateForPromo:he,shouldRemoveSubscribeButtonsOnMobileArticle:ve,isMobileHeaderRedesign:pe}=(0,u.od)(),ge=(0,o.useCallback)((e=>{1===e.button&&z()&&e.preventDefault()}),[z]),be=(0,o.useCallback)((e=>{(0,p.G)(e)&&z()&&e.preventDefault()}),[z]),fe=(0,o.useCallback)(((e,t,n)=>i.createElement(v.P,{className:e,href:M.feedLink,host:r,onAuxClick:ge,onClick:be,tabIndex:n,target:ce?"_self":"_blank"},t)),[ge,r,be,M.feedLink,ce]),Ce=(0,o.useRef)(null),we=null!=(t=M.logo)?t:null==(n=M.redesignLogos)?void 0:n.ratio_1x1,ye="white"===A?"#f0f1f5":"#1d1e22",Ee=K||(e=>{let{isCarouselCard:t,isMobile:n,isPublicationPage:i,isCompact:o,isCarouselRedesign:r,isLargeHeaderAvatar:l,isMobileHeaderRedesign:a}=e;return r&&n||l||a&&n?32:r?28:o?24:t||n?36:i?48:32})({isCarouselCard:W,isMobile:C,isPublicationPage:Q,isCompact:Y,isCarouselRedesign:G,isLargeHeaderAvatar:me,isMobileHeaderRedesign:pe}),ke=(0,o.useMemo)((()=>J&&i.createElement(l.qE,{src:we,backgroundColor:D||ye,stubImage:O,iconSize:Ee,shouldUseDefaultImage:!1,mobileHeaderRedesign:pe&&C})),[J,we,D,ye,O,Ee,C,pe]),_e=(0,o.useMemo)((()=>{if(W&&M.subscribers)return(0,b.Oo)({l10n:R,lang:N,count:M.subscribers,format:b.gv.SUBSCRIBERS});const e=y?null==x?void 0:x.channelInfoSubscribed:null==x?void 0:x.channelInfoUnsubscribed,t=!ne||(0,g.E)({publicationDate:ee,shouldHideDateForPromo:he})?te:void 0,n=de?"·":" • ",o=void 0!==e,r=de&&!!t;return o||r?i.createElement(i.Fragment,null,r&&i.createElement(a.u,{url:null==x?void 0:x.url,text:t,type:null==P?void 0:P.type}),r&&o&&i.createElement("span",{className:f("separator")},n),o&&i.createElement(a.u,{text:e})):null}),[W,M.subscribers,y,x,null==P?void 0:P.type,R,N,de,ne,he,te,ee]),Te=(0,o.useMemo)((()=>{if(!B)return;const e=!ne||(0,g.E)({publicationDate:ee,shouldHideDateForPromo:he})?te:void 0;return e?i.createElement(i.Fragment,null,i.createElement("span",{className:f("separator",{viewType:"inline"})},"·"),e):null}),[B,te,ee,ne,he]),[Se,Pe]=(0,o.useState)(!1),xe=(0,o.useRef)();(0,o.useEffect)((()=>{y&&E?xe.current=setTimeout((()=>Pe(!0)),1e3):(xe.current&&clearTimeout(xe.current),Pe(!1))}),[y,E]);const Re=(0,o.useMemo)((()=>!S||$||d||!H||y&&!E||ue||!oe&&ve?null:i.createElement(c.l6,{isSubscribed:y,theme:A,onToggleSubscribe:H,isCompact:Y,isHidden:q,mobileHeaderRedesign:pe&&C,shouldFade:Se,isSubscriptionInProgress:se,alignSpinner:C?c.v$.Right:c.v$.Left})),[S,$,d,H,y,E,ue,oe,ve,A,Y,q,pe,C,Se,se]),Ne=(0,o.useMemo)((()=>{if(!S)return null;const e=L?L((e=>{let{containerRef:t,toggle:n,isOpen:o}=e;return i.createElement(s._8,{containerRef:t,disabled:m,isMobile:C,iconSize:I,theme:A,onClick:n,isOpen:o,viewType:"gray"})})):null,t=V?V():null;return i.createElement(i.Fragment,null,e,t)}),[S,L,V,C,m,I,A]);return i.createElement(h,{titleRef:Ce,subscribeButton:Re,controls:Ne,logo:ke,containerClassName:k,channelInfoClassName:_,isMobile:C,renderClickable:fe,subtitle:le?_e:void 0,theme:A,title:M.title,extraTitle:Te,viewType:F,withLogoFade:!0,backgroundType:T,verifiedMarkTheme:w,isNullPadding:Z,isVerified:M.isVerified,isCarouselCard:W,cardRtbLabel:U,isNewHeader:X,isCompact:Y,isCompactCard:j,isTextCard:ie,isPublicationPage:Q,isCarouselRedesign:G,size:re,shouldFadeInterpunct:Se,areFloors:ae})}))},82236:(e,t,n)=>{n.d(t,{E:()=>C});var i=n(83849),o=n.n(i),r=n(29901),l=n(13714);const a="carousel-header__header-1O",s="carousel-header__isStyleDefault-16",c="carousel-header__titleContainer-3m",u="carousel-header__title-10",d="carousel-header__title_withIcon-1t",m="carousel-header__title_big-dK",h="carousel-header__title_size_l-1O",v="carousel-header__title_size_xl-3s",p="carousel-header__title_interpunct-1C",g="carousel-header__subtitle-2W";var b=n(66681),f=n(74532);const C=(0,l.memo)((e=>{let{title:t,subtitle:n,parentType:i,moreLink:l,stats:C,size:w,l10n:y,openModal:E,isBigTitle:k,className:_,isStyleInherit:T,titleLogo:S}=e;return r.createElement("div",{className:o()(a,{[s]:!T},_)},r.createElement("div",{className:c},S&&r.createElement(f.l,{icon:S,size:"s"}),r.createElement("h2",{className:o()(u,(n||k)&&m,"xl"===w&&v,"l"===w&&h,S&&d,l&&p)},t),l&&E&&C&&r.createElement(b.m,{title:t,parentType:i,l10n:y,moreLink:l,openModal:E,stats:C})),n&&r.createElement("div",{className:g},n))}))},51468:(e,t,n)=>{n.d(t,{f:()=>h});var i=n(29901),o=n(13714),r=n(2162),l=n(62077),a=n(10749),s=n(13389),c=n(27340);const u={channelTitleLabel:{ru:"Перейти на страницу канала:",_context:""}},d=((0,c.Wh)(u),(0,c.bN)(u)),m=(0,r.N)("channel-info"),h=(0,o.memo)((e=>{let{logo:t,extraLogo:n,extraTitle:o,withLogoFade:u,title:h,subscribeButton:v,isVerified:p,className:g,subtitle:b,isMobile:f,isSmallGapLogo:C,theme:w,size:y="m",titleSize:E="15-20",renderClickable:k,viewType:_,backgroundType:T="solid",verifiedMarkTheme:S,isCompact:P,isCursorDefault:x=!1,isWidthByContent:R=!1,titleRef:N,onMouseEnterTitle:M,onMouseLeaveTitle:L,isCarouselRedesign:V=!1,isHovered:A=!1,cardRtbLabel:B,shouldFadeInterpunct:F=!1,isGray:I=!1,areFloors:D}=e;const O=(0,c.bU)(),{isMobileHeaderRedesign:H}=(0,s.od)(),z=i.createElement("div",{className:m("title",{isCompact:P,isCarouselRedesign:V,isHovered:A,interpunct:!p&&v&&!f,shouldFadeInterpunct:F,isGray:I,titleSize:E,areFloors:D}),ref:N,onMouseEnter:M,onMouseLeave:L,"aria-label":`${d.channelTitleLabel(O)} ${h}`},h),Z=t?i.createElement("div",{className:m("logo",{withFade:u,isSmallGap:C,viewType:_})},t,n):null;let W=l.U.default;"media"===T?W=l.U.white:w===a.DD.black&&(W=l.U.light);const U=(e,t)=>i.createElement(i.Fragment,null,i.createElement("div",{className:m("logo-wrapper"),onMouseEnter:M,onMouseLeave:L},t),i.createElement("div",{className:m("content",{isCompact:P,isCursorDefault:x})},i.createElement("div",{className:m("title-wrapper",{viewType:_,areFloors:D})},i.createElement("div",{className:m("title-and-veryfied-mark-wrapper",{viewType:_})},e,p&&h&&i.createElement(l.$,{className:m("verify-mark"),markTheme:S||W,size:V?10:P?12:16,withTooltip:!f})),(!f||!H)&&v,o?i.createElement("div",{className:m("title-extra")},o):null),i.createElement("div",{className:m("subtitle",{isCompact:P,isCarouselRedesign:V})},B||(b?i.createElement("span",{className:m("subtitle-text",{capitalize:!h})},b):null))),f&&H&&v),X=r.N.mix(g,m({isMobile:f,theme:w,size:y,isClickable:Boolean(k),verified:p,isWidthByContent:R,mobileHeaderRedesign:H&&f}));return k?i.createElement("div",{className:X},U(k(m("link"),z),k(m("link",{logo:!0}),Z,-1))):i.createElement("div",{className:X},U(z,Z))}))},93983:(e,t,n)=>{n.d(t,{Q:()=>r});var i=n(29901);const o=(0,n(2162).N)("circular-progress-indicator"),r=e=>{let{isActive:t,size:n=43,background:r="#fff"}=e;return i.createElement("svg",{width:n,height:n,viewBox:"0 0 100 100",className:o({isActive:t})},i.createElement("circle",{className:o("circle"),stroke:r,cx:"50",cy:"50",r:"45",fill:"none",strokeMiterlimit:"10",strokeWidth:"10"}))}},54364:(e,t,n)=>{n.d(t,{F:()=>g});n(14072),n(53208);var i=n(29901),o=n(13714),r=n(2162),l=n(23242),a=n.n(l),s=n(62508),c=n.n(s),u=n(43952);let d=new(a())({id:"reload-l-white_aedd--inline",use:"reload-l-white_aedd--inline-usage",viewBox:"0 0 48 48",content:'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 48 48" id="reload-l-white_aedd--inline"><path fill="#fff" d="M24.287 6c9.941 0 18 8.059 18 18h4.04c.868 0 1.324 1.03.74 1.673l-7.48 8.227-7.48-8.227c-.583-.643-.127-1.673.74-1.673h4.94c0-7.456-6.044-13.5-13.5-13.5s-13.5 6.044-13.5 13.5 6.044 13.5 13.5 13.5c3.459 0 6.613-1.3 9.002-3.44l3 3.354A17.933 17.933 0 0 1 24.287 42c-9.941 0-18-8.059-18-18s8.059-18 18-18z" /></symbol>'});const m=(0,u.Z)(c(),d);let h=new(a())({id:"play-next_c71e--inline",use:"play-next_c71e--inline-usage",viewBox:"0 0 41 36",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 41 36" id="play-next_c71e--inline">\n    <g filter="url(#play-next_c71e--inline_filter0_d)" fill="#fff">\n        <path d="M7.5 4.9a1 1 0 00-1.5.9v24.3a1 1 0 001.5.8l19.1-12.1a1 1 0 000-1.6L7.5 4.9" />\n        <rect x="32" y="4" width="4" height="28" rx="1" />\n    </g>\n    <defs>\n        <filter id="play-next_c71e--inline_filter0_d" x="-1" y="-1" width="92" height="92" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n            <feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood>\n            <feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"></feColorMatrix>\n            <feOffset dy="1"></feOffset>\n            <feGaussianBlur stdDeviation="2"></feGaussianBlur>\n            <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"></feColorMatrix>\n            <feBlend in2="BackgroundImageFix" result="effect1_dropShadow"></feBlend>\n            <feBlend in="SourceGraphic" in2="effect1_dropShadow" result="shape"></feBlend>\n        </filter>\n    </defs>\n</symbol>'});const v={reload:{icon:m,width:40,height:40},next:{icon:(0,u.Z)(c(),h),width:41,height:36}},p=(0,r.N)("count-down-circle"),g=e=>{const{seconds:t,onFinish:n,isPauseCountDown:l,onClick:a,strokeWidth:s,radius:c,innerIconType:u,withHoverBackground:d,className:m}=e,[h,g]=(0,o.useState)(t),b=(0,o.useRef)(null);(0,o.useEffect)((()=>{const e=b.current;if(!e)return;((e,t,n,i)=>{if(!t)return;const o=e/n*i;t.style.strokeDasharray=`${e} ${e}`,t.style.strokeDashoffset=String(o)})(2*c*Math.PI,e,t,h),e.getBoundingClientRect(),e.style.transition="stroke-dashoffset 0.25s linear"}),[h,c,t]),(0,o.useEffect)((()=>{let e;return l||(e=h<=0?window.setTimeout((()=>{n&&n()}),250):window.setTimeout((()=>{g((e=>e-.25))}),250)),()=>{e&&window.clearTimeout(e)}}),[c,t,n,l,h]);const f=c+s/2,C=2*c+s,w=v[u];return i.createElement("div",{className:r.N.mix(p({withHoverBackground:d}),m),onClick:a},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:C,height:C,className:p("icon")},i.createElement("circle",{className:p("circle"),r:c,cx:f,cy:f,ref:b,strokeWidth:s}),i.createElement("use",{xlinkHref:`#${w.icon.id}`,viewBox:w.icon.viewBox,width:w.width,height:w.height,x:"50%",y:"50%",transform:`translate(${-w.width/2}, ${-w.height/2})`})))}},28681:(e,t,n)=>{n.d(t,{Y:()=>c});var i=n(29901),o=n(13714),r=n(2162);const l=e=>{let{className:t,item:n}=e;return i.createElement("div",{className:t},n)},a=(0,r.N)("cover"),s={full:a("item",{left:!0,top:!0,bottom:!0,right:!0}),fullTop:a("item",{left:!0,top:!0,right:!0}),fullBottom:a("item",{left:!0,bottom:!0,right:!0}),leftTop:a("item",{left:!0,top:!0}),rightTop:a("item",{right:!0,top:!0}),leftBottom:a("item",{left:!0,bottom:!0}),rightBottom:a("item",{right:!0,bottom:!0}),top:a("item",{top:!0}),right:a("item",{right:!0}),bottom:a("item",{bottom:!0}),left:a("item",{left:!0}),center:a("item")},c=(0,o.memo)((e=>{let{className:t,shifts:n,fullTop:c,fullBottom:u,full:d,leftTop:m,rightTop:h,leftBottom:v,rightBottom:p,top:g,right:b,bottom:f,left:C,center:w}=e;const y=(e=>(0,o.useMemo)((()=>"object"==typeof e?{paddingTop:e.top||e.topBottom,paddingRight:e.right||e.leftRight,paddingBottom:e.bottom||e.topBottom,paddingLeft:e.left||e.leftRight}:{padding:e}),[e]))(n);return i.createElement("div",{style:Object.assign({},y),className:r.N.mix(a(),t)},i.createElement("div",{className:a("container")},d&&i.createElement(l,{className:s.full,item:d}),c&&i.createElement(l,{className:s.fullTop,item:c}),u&&i.createElement(l,{className:s.fullBottom,item:u}),m&&i.createElement(l,{className:s.leftTop,item:m}),h&&i.createElement(l,{className:s.rightTop,item:h}),v&&i.createElement(l,{className:s.leftBottom,item:v}),p&&i.createElement(l,{className:s.rightBottom,item:p}),g&&i.createElement(l,{className:s.top,item:g}),b&&i.createElement(l,{className:s.right,item:b}),f&&i.createElement(l,{className:s.bottom,item:f}),C&&i.createElement(l,{className:s.left,item:C}),w&&i.createElement(l,{className:s.center,item:w})))}))},16141:(e,t,n)=>{n.d(t,{n:()=>l});var i=n(29901),o=n(71494);const r=(0,o.N)("cut"),l=e=>{const{lines:t=3,lineHeight:n=20,className:l,children:a,textRef:s,isDisabled:c}=e,u=1===t&&!c,d=`${t}-${n}`;return i.createElement("div",{ref:s,"aria-label":e["aria-label"],className:o.N.mix(r({isOneLine:u,[d]:!c}),l)},a)}},20132:(e,t,n)=>{n.d(t,{U:()=>l});n(14072),n(53208);var i=n(29901),o=n(32682),r=n(44308);const l=e=>{let{children:t,wait:n}=e;const[l,a]=(0,r.x)(0===n,n);return(0,o.Z)((()=>{a(!0)})),i.createElement(i.Fragment,null,l?t:null)}},63109:(e,t,n)=>{n.d(t,{T:()=>p});n(14072),n(53208);var i=n(29901),o=n(13714),r=n(2162),l=n(72444),a=n(99469),s=n(27170),c=n(7765),u=n(27340);const d={back:{ru:"Назад",_context:""}},m=((0,u.Wh)(d),(0,u.bN)(d)),h=e=>{let{onClick:t,theme:n,iconSize:o,icon:r}=e;const l=(0,u.bU)();return i.createElement(c.z,{onClick:t,autoClose:!1,icon:r||i.createElement(s.y,{name:"backM",theme:n,size:o}),text:m.back(l),iconSize:o})},v=(0,r.N)("drawer-context-menu"),p=(0,o.memo)((e=>{let{renderParentMenu:t,renderNestedMenu:n,renderTrigger:r,theme:s,isBodyScrollEnabled:c,withBack:u=!0,targetRef:d,onContextMenuToggle:m,className:p,isHorizontal:g,onClose:b,isOpen:f=!1}=e;const[C,w]=(0,o.useState)(f),[y,E]=(0,o.useState)(!1),[k,_]=(0,o.useState)(!1);(0,o.useEffect)((()=>{f&&w(f)}),[f]);const T=(0,o.useCallback)((()=>{E(!0)}),[]),S=(0,o.useCallback)((()=>{w(!1),_(!1),m&&m(!1),b&&b()}),[b,m]),P=(0,o.useCallback)((()=>{_((e=>!e)),E(!1)}),[]),x=(0,o.useCallback)((()=>{w((e=>!e)),m&&m(!C),C&&b&&b()}),[C,b,m]),R=(0,o.useCallback)((()=>{w(!0),null==m||m(!0)}),[m]);return i.createElement(i.Fragment,null,null==r?void 0:r({isOpen:C,toggle:x}),i.createElement(a.r,{className:p,isVisible:C,onClose:S,theme:s,isBodyScrollEnabled:c,onCurtainCollapsed:P,isCollapsed:y,targetRef:d},i.createElement(l.xV,{className:v("content",{isHorizontal:g}),theme:s,viewType:"drawer",close:x},k?i.createElement(i.Fragment,null,i.createElement("div",{className:v("scrollable",{withBack:u})},null==n?void 0:n()),u&&i.createElement(i.Fragment,null,i.createElement(l.JJ,null),i.createElement(h,{onClick:T,iconSize:"m",theme:s}))):i.createElement("div",{className:v("scrollable")},t({openNestedMenu:T,closeNestedMenu:S,openMenu:R,closeMenu:S})))))}))},99469:(e,t,n)=>{n.d(t,{r:()=>r});var i=n(13714),o=n(28114);const r=(0,i.memo)(o.d)},28114:(e,t,n)=>{n.d(t,{d:()=>B});n(14072),n(53208);var i=n(29901),o=n(13714),r=n(469),l=n(74642),a=n(23242),s=n.n(a),c=n(62508),u=n.n(c);const d=new(s())({id:"cross_2b5e--react",use:"cross_2b5e--react-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="cross_2b5e--react"><path d="M7.05 5.636A1 1 0 0 0 5.636 7.05l4.95 4.95-4.95 4.95a1 1 0 0 0 1.414 1.414l4.95-4.95 4.95 4.95a1 1 0 0 0 1.414-1.414L13.414 12l4.95-4.95a1 1 0 0 0-1.414-1.414L12 10.586l-4.95-4.95z" fill="currentColor" /></symbol>'});function m(e){return u().add(d),i.createElement("svg",(0,l.Z)({viewBox:"0 0 24 24"},e),i.createElement("use",{xlinkHref:"#cross_2b5e--react"}))}m.displayName="SpriteSymbolComponent(cross_2b5e--react)";var h=n(43502),v=n(80635),p=n(32363),g=n(2162),b=n(36265);const f=e=>"modest"===e||"modest-video"===e,C=.5625,w=e=>{let{el:t,viewType:n,isVerticalScreen:i,videoFrameRatio:o=C,maxResponsiveHeightRatio:r=C}=e;const l=t.clientWidth*o-0,a=t.clientHeight/3;return"modest"===n?Math.min(l,a):i&&"modest-video"===n?o>r?a:l:0};var y=n(84978),E=n(27340);const k={dragToClose:{ru:"Потянуть для закрытия",_context:""},curtain:{ru:"Шторка",_context:""},curtainOverlay:{ru:"Подложка для закрытия шторки",_context:""},closeCurtain:{ru:"Закрыть шторку",_context:""}},_=((0,E.Wh)(k),(0,E.bN)(k)),T=(0,g.N)("drag-observer"),S=e=>{var t;let{isVisible:n,isCollapsed:l,children:a,renderHeader:s,isStickyHeader:c,isCloseButton:u,dragDisabled:d,isVerticalScreen:g,maxHeight:C,viewType:k,isNested:S,keepOverlay:x,theme:R,videoFrameRatio:N,onChangeViewMode:M,onTransitionEnd:L,contentContainerRef:V,onStartClosing:A,setIsFullscreenRef:B,maxWidth:F}=e;const I=(0,o.useRef)(null),D=(0,o.useRef)(null),O=(0,o.useRef)(null),H=(0,o.useRef)(null),z=(0,h.e)(O,V),Z=(0,o.useRef)(0),W=(0,o.useRef)(0),U=(0,o.useRef)(!1),X=(0,o.useRef)(!1),$=(0,o.useRef)(-1),Q=(0,o.useRef)(0),q=(0,E.bU)(),Y=(0,o.useCallback)((()=>{U.current=!0,A&&A()}),[A]),[K,j]=(0,o.useState)(!1),[G,J]=(0,o.useState)(!1),{progress:ee,setProgress:te,handleClose:ne,progressForModestRef:ie}=(e=>{let{dragObserverRef:t,viewType:n,isVisible:i,isVerticalScreen:r,isCollapsed:l,videoFrameRatio:a,maxResponsiveHeightRatio:s,onStartClosing:c}=e;const[u,d]=(0,o.useState)(999),m=(0,o.useRef)(0),h=(0,o.useRef)(0);(0,o.useEffect)((()=>{const{current:e}=t;e&&(m.current=e.clientHeight-0,h.current=w({el:e,viewType:n,isVerticalScreen:r,videoFrameRatio:a,maxResponsiveHeightRatio:s}))}),[t,r,n,a,s]);const v=(0,o.useCallback)((()=>{const{current:e}=t;e&&(m.current=e.clientHeight-0),d(m.current),c&&c()}),[c,t]),p=(0,o.useCallback)((()=>{d(0)}),[]),g=(0,o.useCallback)(((e,n,i)=>{const{current:o}=t;o&&(h.current=w({el:o,viewType:e,isVerticalScreen:n,videoFrameRatio:i,maxResponsiveHeightRatio:s})),d(h.current)}),[t,s]),b=(0,o.useCallback)(((e,t)=>f(e)&&t?g(e,t,a):p()),[p,g,a]);return(0,o.useEffect)((()=>{i?b(n,r):v()}),[i,v,r,b,n]),(0,o.useEffect)((()=>{f(n)||(l?v():b())}),[l,b,v,n]),{progress:u,setProgress:d,handleClose:v,progressForModestRef:h}})({isVisible:n,isVerticalScreen:g,isCollapsed:l,viewType:k,videoFrameRatio:N,maxResponsiveHeightRatio:.666,dragObserverRef:I,onStartClosing:Y});(0,o.useEffect)((()=>{B&&B.current&&(B.current=()=>{te(ie.current)})}),[B,te,ie]);const oe=((null==(t=O.current)?void 0:t.clientWidth)||0)*(N||0),{overlayOpacity:re,footerOverlayOpacity:le,opacity:ae}=(e=>{let{progress:t,progressForModest:n,viewType:i,keepOverlay:o,drawerContainerHeight:r,drawerHeight:l,videoHeight:a=0}=e;const s=t-n,c=s<0?1-t/n:0,u="modest-video"===i?(0,b.uZ)(s>0?1-(t-n)/(r-n):1,0,1):0!==t?1-(0,b.uZ)(t/Math.min(r,l),0,1):1;return{overlayOpacity:"modest-video"===i?c:o?1:u,footerOverlayOpacity:a&&"modest-video"===i?1-Math.max(t-a,0)/(r-a):0,opacity:u}})({viewType:k,keepOverlay:x,progress:ee,drawerContainerHeight:W.current,drawerHeight:Z.current,videoHeight:oe,progressForModest:ie.current}),se=`translate3d(0,${ee}px,0)`,ce=(0,o.useRef)(0),ue=(0,o.useRef)(!1),de=(0,o.useRef)(!1),me=(0,r.Z)(ee),he={transform:se,maxHeight:C,maxWidth:F},ve=P({videoFrameRatio:N}),pe=(0,o.useMemo)((()=>({top:`calc(100vw * ${N} + 6px)`,opacity:le})),[N,le]);(0,o.useEffect)((()=>{f(k)&&M&&M(K)}),[K,M,k]),(0,o.useEffect)((()=>{const e=(0,y.D)((()=>{H.current&&O.current&&I.current&&(Z.current=O.current.clientHeight,Q.current=H.current.scrollHeight,W.current=I.current.clientHeight-0)}),300);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,o.useEffect)((()=>{O.current&&(Z.current=O.current.clientHeight),I.current&&(W.current=I.current.clientHeight-0),f(k)&&(g?j(!1):($.current=-1,j(!0)))}),[g,k,me]);const ge=(0,o.useCallback)((e=>{if(!ce.current){var t;I.current&&H.current&&(W.current=I.current.clientHeight-0,Q.current=H.current.scrollHeight),ce.current=e.touches[0].pageY;const n=Q.current>W.current,i=Boolean("modest"===k&&n&&!(null!=(t=O.current)&&t.scrollTop)&&me.current);ue.current=!i&&ce.current-me.current>120&&n&&f(k)}const n=e.touches[0].pageY-ce.current;n<=0&&!X.current&&ue.current&&e.stopPropagation(),n>=0&&ue.current&&(O.current&&O.current.scrollTop>0?(de.current=!0,e.stopPropagation()):X.current||($.current=me.current-n)),n<=0&&!X.current&&!f(k)&&e.stopPropagation(),O.current&&n>0&&!f(k)&&(O.current.scrollTop>0||de.current)&&(de.current=!0,e.stopPropagation())}),[me,k]),be=(0,o.useCallback)(((e,t)=>(0,b.uZ)(e+t,0,W.current)),[]);(0,o.useEffect)((()=>{if(O.current){const e=O.current;return e.addEventListener("touchmove",ge,!0),()=>{e.removeEventListener("touchmove",ge)}}}),[O,ge]),(0,o.useEffect)((()=>{if(O.current&&c){const e=O.current,t=()=>{e.scrollTop>0?J(!0):J(!1)};return e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}}),[O,c]);const fe=(0,o.useCallback)((e=>{if(U.current)return;-1===$.current&&($.current=me.current);const{deltaY:t}=e,n=Z.current,i=be($.current,t);return $.current>=0&&i>=n&&ne(),te(i)}),[ne,be,te,me]),Ce=(0,o.useCallback)((e=>{var t;O.current&&!U.current&&I.current&&(H.current&&(Q.current=H.current.scrollHeight),Z.current=O.current.clientHeight,W.current=I.current.clientHeight-0,null==(t=D.current)||t.classList.add("_is-touched"),X.current=!0,fe(e))}),[fe]),we=(0,o.useCallback)((e=>{var t;const n=Math.min(W.current-$.current,W.current),{pageY:i,startY:o,velocityY:r}=e,l=i-o,a=Math.max($.current,0);if($.current=-1,null==(t=D.current)||t.classList.remove("_is-touched"),X.current=!1,!r)return;const s=be(a,l),c=f(k)?ie.current:0,u=s-0<=c-s?0:c;if(l/n>=1&&(ne(),j(!1),L(!0)),!(Math.abs(r)>=.25))return l/n>=.5?(j(!1),ne()):(j(0===u),te(u));l>0?f(k)?(j(!1),0!==a?ne():te(c),l>n&&L(!0)):(ne(),l>n&&L(!0)):(j(!0),te(0))}),[ne,te,be,L,ie,k]),ye=(0,o.useCallback)((()=>{ce.current=0,de.current=!1}),[]),Ee=(0,o.useMemo)((()=>({el:I,onDragStart:Ce,onDrag:fe,onDragEnd:we,isVerticalDragAllowed:!0,isDisabled:d||U.current,isMouseFallbackAllowed:!0,onPointerUp:ye})),[Ce,fe,we,d,ye]);(0,p.gt)(Ee);const ke=(0,o.useCallback)((e=>{I.current&&!I.current.contains(e.target)||(U.current=!0,ne())}),[ne]);(0,v.Z)(D,ke);const _e=(0,o.useCallback)((e=>{"transform"===e.propertyName&&(!Z.current&&O.current&&(Z.current=O.current.clientHeight),L(0!==Z.current&&me.current>=Z.current))}),[L,me]),Te=(0,o.useCallback)((()=>{j(!1),ne()}),[ne,j]);return i.createElement("div",{className:T({isNested:S,theme:R,viewType:k,isTouched:X.current,isClosing:U.current}),ref:I},i.createElement("div",{className:T("overlay"),style:{opacity:re},"aria-label":_.curtainOverlay(q)}),i.createElement("div",{className:T("footer-overlay"),style:pe}),i.createElement("div",{className:T("curtain",{viewType:k}),style:he,ref:D,onTransitionEnd:_e,"aria-label":_.curtain(q)},i.createElement("div",{className:T("handle"),style:{opacity:ae},"aria-label":_.dragToClose(q)}),i.createElement("div",{className:T("content",{viewType:k}),ref:z},s?i.createElement("div",{className:T("header",{isStickyHeader:c,isContentScrolled:G})},i.createElement("div",{className:T("header-content")},s(Te)),u&&i.createElement("div",{"aria-label":_.closeCurtain(q),className:T("cross-icon-wrapper"),onClick:Te},i.createElement(m,{className:T("cross-icon")}))):null,i.createElement("div",{className:T("content-scroll"),ref:H,style:ve},a))))},P=e=>{let{videoFrameRatio:t}=e;return(0,o.useMemo)((()=>{if(t)return t>.666?{paddingBottom:"calc(33vh + 20px)"}:{paddingBottom:`calc(100vw * ${t} + 20px)`}}),[t])};var x=n(2340),R=n(38263),N=n(68322),M=n(10749),L=n(43738),V=n(29649);const A=(0,g.N)("drawer"),B=e=>{let{children:t,renderHeader:n,isStickyHeader:r,isCloseButton:l,onClose:a,maxHeight:s,isVisible:c=!1,isNested:u,dragDisabled:d,isBodyScrollEnabled:m,theme:h=M.DD.white,className:v,isVerticalScreen:p,onChangeViewMode:b,viewType:f,win:C,isSticky:w=!0,containerRef:y,contentRef:E,targetRef:k,isCollapsed:_,videoFrameRatio:T,onCurtainCollapsed:P,onStartClosing:B,onOpen:F,setIsFullscreenRef:I,dataTestid:D,maxWidth:O}=e;const[H,z]=(0,o.useState)(!1),[Z,W]=(0,o.useState)(!c);(0,R.N)(c&&m,C,w);const U=(0,N.m)((e=>{if(e){if(_)return void(P&&P());W(!0),a()}else z(!1),F&&F()}));(0,o.useEffect)((()=>{_&&z(!0)}),[_]),(0,L.Z)((()=>{c&&W(!1)}),[c]);const X=(0,V.Z)(k);return(0,o.useEffect)((()=>{k===X||c||(W(!0),a())}),[k,c,a,X]),Z&&!c?null:(0,x.createPortal)(i.createElement("div",{className:g.N.mix(v,A({isVisible:!Z||c})),ref:y,"aria-label":"Контекстное меню","data-testid":D},i.createElement(S,{contentContainerRef:E,theme:h,isVerticalScreen:p,maxHeight:s,dragDisabled:d,onChangeViewMode:b,renderHeader:n,isStickyHeader:r,isCloseButton:l,viewType:f,isVisible:c,isCollapsed:_,isNested:u,videoFrameRatio:T,onTransitionEnd:U,keepOverlay:H,onStartClosing:B,setIsFullscreenRef:I,maxWidth:O},t)),k&&k.current||document.body)}},93480:(e,t,n)=>{n.d(t,{S:()=>o});var i=n(13714);class o extends i.Component{constructor(){return super(...arguments),this.state={hasError:!1},this}componentDidCatch(e){const{onCatch:t=console.error}=this.props;t(e),this.setState({hasError:!0})}render(){const{children:e,errorView:t}=this.props,{hasError:n}=this.state;return n?t:e}}},55649:(e,t,n)=>{n.d(t,{F:()=>i,m:()=>r});n(14072),n(53208);const i=e=>{let{pageX:t,pageY:n,clientX:i,clientY:o}=e;return{x:t,y:n,clientX:i,clientY:o}};let o=!1;class r{constructor(e){this.listensOnDocument=!1,this.touches=[],this.previousTouches=[],this.clickHandler=e=>{this.onClick(e)},this.touchStartHandler=e=>{this.onTouchStart(e),this.previousTouches=[...this.touches]},this.mouseDownHandler=e=>{this.onMouseDown(e),this.previousTouches=[...this.touches]},this.touchMoveHandler=e=>{this.onTouchMove(e),this.previousTouches=[...this.touches]},this.mouseMoveHandler=e=>{this.onMouseMove(e),this.previousTouches=[...this.touches]},this.touchEndHandler=e=>{this.removeEndedTouches(e.changedTouches),this.onTouchEnd(e),this.previousTouches=[...this.touches]},this.mouseCancelHandler=e=>{this.onMouseUp(e),this.previousTouches=[...this.touches]},this.mouseUpHandler=e=>{this.onMouseUp(e),this.previousTouches=[...this.touches]},this.touchCancelHandler=e=>{this.onTouchCancel(e)};const{el:t}=e;this.props=e,o||(o=!0,"undefined"!=typeof document&&document.addEventListener("touchmove",(()=>{}),{passive:!1})),t.addEventListener("touchstart",this.touchStartHandler),t.addEventListener("touchend",this.touchEndHandler),t.addEventListener("touchcancel",this.touchCancelHandler),t.addEventListener("click",this.clickHandler,{capture:!0}),this.canUseMouseEvents()&&(t.addEventListener("mousedown",this.mouseDownHandler),t.addEventListener("mouseup",this.mouseUpHandler))}canUseTouchEvents(){return"ontouchstart"in window}canUseMouseEvents(){return!this.canUseTouchEvents()&&Boolean(this.props.isMouseFallbackAllowed)}removeListeners(e){let{removeDocumentListeners:t}=void 0===e?{removeDocumentListeners:!1}:e;const{el:n}=this.props;n.removeEventListener("touchstart",this.touchStartHandler),n.removeEventListener("touchend",this.touchEndHandler),n.removeEventListener("touchcancel",this.touchCancelHandler),n.removeEventListener("click",this.clickHandler,{capture:!0}),document.removeEventListener("touchmove",this.touchMoveHandler),document.removeEventListener("touchend",this.touchEndHandler),this.canUseMouseEvents()&&(n.removeEventListener("mousedown",this.mouseDownHandler),n.removeEventListener("mouseup",this.mouseUpHandler)),t&&this.listensOnDocument&&(this.listensOnDocument=!1,document.removeEventListener("touchmove",this.touchMoveHandler),document.removeEventListener("touchend",this.touchEndHandler),document.removeEventListener("mousemove",this.mouseMoveHandler),document.removeEventListener("contextmenu",this.mouseCancelHandler),document.removeEventListener("mouseleave",this.mouseCancelHandler),document.removeEventListener("mouseup",this.mouseUpHandler))}onClick(e){}onTouchStart(e){this.touches.push(...e.changedTouches),this.listensOnDocument||(this.listensOnDocument=!0,document.addEventListener("touchmove",this.touchMoveHandler,{passive:!1}),this.props.el.removeEventListener("touchend",this.touchEndHandler),document.addEventListener("touchend",this.touchEndHandler))}onMouseDown(e){const{pageX:t,pageY:n,clientX:i,clientY:o}=e;this.touches=[{identifier:0,pageX:t,pageY:n,clientX:i,clientY:o}],this.listensOnDocument||(this.listensOnDocument=!0,this.props.el.removeEventListener("mouseup",this.mouseUpHandler),document.addEventListener("mousemove",this.mouseMoveHandler),document.addEventListener("mouseleave",this.mouseCancelHandler),document.addEventListener("contextmenu",this.mouseCancelHandler),document.addEventListener("mouseup",this.mouseUpHandler))}updateChangedTouches(e){for(const t of e){const e=this.touches.findIndex((e=>{let{identifier:n}=e;return t.identifier===n}));e>-1&&(this.touches[e]=t)}}onTouchMove(e){this.updateChangedTouches(e.changedTouches)}onMouseMove(e){const{pageX:t,pageY:n,clientX:i,clientY:o}=e;this.touches.splice(0,1,{identifier:0,pageX:t,pageY:n,clientX:i,clientY:o})}removeEndedTouches(e){const t=Object.create(null);for(const{identifier:n}of e)t[n]=!0;this.touches=this.touches.filter((e=>{let{identifier:n}=e;return void 0!==n&&!t[n]})),this.touches.length||(this.listensOnDocument=!1,document.removeEventListener("touchmove",this.touchMoveHandler),this.props.el.addEventListener("touchend",this.touchEndHandler),document.removeEventListener("touchend",this.touchEndHandler))}onTouchEnd(e){const{onPointerUp:t}=this.props;t&&t()}stopListenMouseEventsOnDocument(){this.listensOnDocument=!1,document.removeEventListener("mousemove",this.mouseMoveHandler),document.removeEventListener("mouseup",this.mouseUpHandler),document.removeEventListener("contextmenu",this.mouseCancelHandler),document.removeEventListener("mouseleave",this.mouseCancelHandler),this.props.el.addEventListener("mouseup",this.mouseUpHandler)}onMouseUp(e){this.touches.splice(0,1);const{onPointerUp:t}=this.props;t&&t(),this.stopListenMouseEventsOnDocument()}onTouchCancel(e){let{changedTouches:t}=e;this.removeEndedTouches(t)}}},32209:(e,t,n)=>{n.d(t,{m:()=>r});n(13311);var i=n(68970),o=n(55649);class r extends o.m{constructor(e){super(e),this.isTouchStartPrevented=!1,this.isFirstDragEvent=!0,this.isOnePointerDown=!1,this.isDraggingAllowed=!0,this.startPositionX=0,this.startPositionY=0,this.currentPositionX=0,this.currentPositionY=0,this.velocityX=0,this.velocityY=0,this.touchStartTimestamp=0,this.shouldPreventNextClick=!1,this.clickPreventionTimerId=void 0,this.longTapTimeoutId=void 0,this.wasLongTap=!1,this.onClick=e=>{super.onClick(e),this.shouldPreventNextClick&&(this.shouldPreventNextClick=!1,window.clearTimeout(this.clickPreventionTimerId),e.stopPropagation(),e.preventDefault()),this.resetPositions()},this.props=e}initPositions(e){let{x:t,y:n}=e;this.startPositionX=t,this.currentPositionX=t,this.startPositionY=n,this.currentPositionY=n}getDeltaX(){return this.currentPositionX-this.startPositionX}getDeltaY(){return this.currentPositionY-this.startPositionY}resetPositions(){this.velocityX=0,this.velocityY=0,this.currentPositionY=0,this.currentPositionX=0,this.startPositionX=0,this.startPositionY=0}getDragEvent(){return{startX:this.startPositionX,startY:this.startPositionY,deltaX:this.getDeltaX(),deltaY:this.getDeltaY(),pageX:this.currentPositionX,pageY:this.currentPositionY,velocityX:this.velocityX,velocityY:this.velocityY}}isSingleTouchGesture(){return 1===this.touches.length}processTouchStart(){this.isOnePointerDown=!0,this.touchStartTimestamp=Date.now(),this.initPositions((0,o.F)(this.touches[0]));const{onLongTap:e}=this.props;e&&(this.longTapTimeoutId=window.setTimeout((()=>{this.isSingleTouchGesture()&&(e((0,o.F)(this.touches[0])),this.wasLongTap=!0)}),400))}preventSwipeToNavigate(e){const{clientX:t}=this.touches[0],n=(0,i.h)(),o=10/n,r=(document.documentElement.clientWidth-10)/n;if(t<=o||t>=r){const t=e.target;if(["BUTTON","A"].includes(t.tagName)||t.getAttribute&&"button"===t.getAttribute("role"))return;e.cancelable&&(e.preventDefault(),this.isTouchStartPrevented=!0)}}onTouchStart(e){if(super.onTouchStart(e),!this.isSingleTouchGesture())return this.isOnePointerDown=!1,window.clearTimeout(this.longTapTimeoutId),void(this.isDraggingAllowed=!1);this.preventSwipeToNavigate(e),this.processTouchStart()}onMouseDown(e){super.onMouseDown(e),this.processTouchStart()}processMove(e){if(!this.isOnePointerDown)return;const{pageX:t,pageY:n}=this.touches[0];this.currentPositionX=t,this.currentPositionY=n;const i=Math.abs(this.getDeltaX()),o=Math.abs(this.getDeltaY());if(this.isFirstDragEvent){if(!this.isTouchStartPrevented&&!this.props.isVerticalDragAllowed&&i<o)return void(this.isDraggingAllowed=!1);this.isTouchStartPrevented=!1,this.isFirstDragEvent=!1;const{onDragStart:e}=this.props;e&&e(this.getDragEvent())}if(e.cancelable&&e.preventDefault(),(i>5||o>5)&&window.clearTimeout(this.longTapTimeoutId),!this.isDraggingAllowed)return;const r=Date.now();this.velocityX=i/(r-this.touchStartTimestamp)||0,this.velocityY=o/(r-this.touchStartTimestamp)||0;const{onDrag:l}=this.props;l&&l(this.getDragEvent())}onTouchMove(e){const t=this.props.alwaysPreventDefaultTouchEvents;t&&e.preventDefault(),super.onTouchMove(e),this.isSingleTouchGesture()&&(!t&&this.wasLongTap&&e.cancelable&&e.preventDefault(),this.processMove(e))}onMouseMove(e){super.onMouseMove(e),this.processMove(e)}finishDragging(){if(this.preventClickIfNecessary(),this.isOnePointerDown&&this.isDraggingAllowed){const{onDragEnd:e}=this.props;e&&e(this.getDragEvent())}this.touches.length||(this.isDraggingAllowed=!0,this.isOnePointerDown=!1,this.isFirstDragEvent=!0,this.wasLongTap=!1,this.resetPositions())}preventClickIfNecessary(){const e=Math.abs(this.getDeltaX()),t=Math.abs(this.getDeltaY());(e>2||t>2)&&(window.clearTimeout(this.clickPreventionTimerId),this.shouldPreventNextClick=!0,this.clickPreventionTimerId=window.setTimeout((()=>{this.shouldPreventNextClick=!1}),100))}onTouchEnd(e){super.onTouchEnd(e),this.finishDragging()}onMouseUp(e){super.onMouseUp(e),this.finishDragging()}onTouchCancel(e){super.onTouchCancel(e),this.finishDragging()}}},32363:(e,t,n)=>{n.d(t,{gt:()=>r});var i=n(13714),o=n(32209);const r=e=>{(0,i.useEffect)((()=>{if(!e.el.current||e.isDisabled)return;const t=e.el.current,n=new o.m(Object.assign({},e,{el:t}));return()=>{n.removeListeners()}}),[e])}},98310:(e,t,n)=>{n.d(t,{U:()=>m});var i=n(13714),o=n(32209),r=n(55649);n(14072),n(53208);const l=e=>class extends e{constructor(e){super(e),this.startPinchDistance=0,this.isPinchInProgress=!1,this.longTapTimeoutId=void 0,this.props=e}isTwoTouchesGesture(){return 2===this.touches.length}onTouchStart(e){if(super.onTouchStart(e),!this.isTwoTouchesGesture())return;const t=(0,r.F)(this.touches[0]),n=(0,r.F)(this.touches[1]);this.startPinchDistance=a(t,n),this.isPinchInProgress=!0;const{onLongDoubleTap:i}=this.props;i&&(this.longTapTimeoutId=window.setTimeout((()=>{i()}),500));const{onPinchStart:o}=this.props;o&&o(this.getPinchEvent())}onTouchMove(e){if(super.onTouchMove(e),window.clearTimeout(this.longTapTimeoutId),!this.isTwoTouchesGesture()||!this.isPinchInProgress)return;const{onPinchChange:t}=this.props;t&&t(this.getPinchEvent())}onTouchEnd(e){if(super.onTouchEnd(e),window.clearTimeout(this.longTapTimeoutId),!this.isPinchInProgress)return;this.isPinchInProgress=!1;const{onPinchEnd:t}=this.props;t&&t(this.getPinchEvent(this.previousTouches))}getPinchEvent(e){void 0===e&&(e=this.touches);const[t,n]=e,i=(0,r.F)(t),o=(0,r.F)(n),l=a(i,o);return{distance:l,center:s(i,o),scale:l/this.startPinchDistance,touches:[t,n]}}},a=(e,t)=>Math.hypot(e.x-t.x,e.y-t.y),s=(e,t)=>({x:(e.x+t.x)/2,y:(e.y+t.y)/2,clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}),c=["onDragStart","onDrag","onDragEnd","onLongTap","isVerticalDragAllowed","alwaysPreventDefaultTouchEvents"],u=l(r.m),d=l(o.m),m=e=>{(0,i.useEffect)((()=>{if(!e.el.current||e.isDisabled)return;const t=e.el.current,n=(i=Object.assign({},e,{el:t}),new(c.some((e=>e in i))?d:u)(i));var i;return()=>{var t;n.removeListeners({removeDocumentListeners:null!=(t=e.removeDocumentListenersOnUnmount)&&t})}}),[e])}},2763:(e,t,n)=>{n.d(t,{e:()=>s});var i=n(13714),o=n(7332),r=n(32682),l=n(17950),a=n(43738);const s=e=>{const{isEnable:t,deps:n=[],autofocusRef:s,containerRef:c,resetRef:u,shouldReset:d}=e,m=(0,i.useRef)(),h=(0,i.useRef)(t),v=(0,i.useCallback)((()=>{const e=s&&s.current,t=c&&c.current;d&&(m.current=document.activeElement),e?(h.current=!0,o.R.focus(e)):t&&(h.current=!0,o.R.focusFirst(t))}),[s,c,d]),p=(0,i.useCallback)((()=>{const{current:e}=u||m,{current:t}=h;e&&t&&(h.current=!1,o.R.focus(e))}),[u]);(0,r.Z)((()=>{t&&v()})),(0,l.Z)((()=>{t&&p()})),(0,a.Z)((()=>{t?v():p()}),[t,...n])}},17486:(e,t,n)=>{n.d(t,{F:()=>l});var i=n(13714),o=n(84978),r=n(68322);const l=(e,t)=>{const n=(0,r.m)(e);return(0,i.useMemo)((()=>(0,o.D)(n,t)),[n,t])}},29438:(e,t,n)=>{n.d(t,{P:()=>c});var i=n(13714),o=n(7332),r=n(77566),l=n(10723),a=n(28861);const s={childList:!0,subtree:!0},c=e=>{const{isEnable:t,containerRef:n,shouldMutationObserve:c}=e,u=(0,i.useRef)(),d=(0,i.useRef)(),m=(0,i.useCallback)((()=>{const{current:e}=n;if(e){const t=e.querySelectorAll(o.U);t.length&&(u.current=t[0],d.current=t[t.length-1])}}),[n]),h=(0,i.useCallback)((()=>{c&&m()}),[c,m]),v=(0,i.useCallback)((e=>{if(e.keyCode===a.m){const{current:t}=u,{current:n}=d;t&&n&&(document.activeElement!==n||e.shiftKey?document.activeElement===t&&e.shiftKey&&(o.R.focus(n),(0,r.Wg)(e)):(o.R.focus(t),(0,r.Wg)(e)))}}),[]);(0,l.I)(n,s,h),(0,i.useEffect)((()=>{const{current:e}=n;return t&&(m(),e&&e.addEventListener("keydown",v)),()=>{e&&e.removeEventListener("keydown",v)}}),[n,v,t,m])}},32387:(e,t,n)=>{n.d(t,{W:()=>a});n(14072),n(53208);var i=n(13714);const o="undefined"==typeof document?null:document,r=o?"fullscreenEnabled"in o?{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",onChange:"fullscreenchange"}:"webkitFullscreenEnabled"in o?{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",onChange:"webkitfullscreenchange"}:"mozFullScreenEnabled"in o?{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",onChange:"mozfullscreenchange"}:"msFullscreenEnabled"in o?{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",onChange:"MSFullscreenChange"}:void 0:null,l=r&&o?{enabled:()=>Boolean(o[r.enabled]),element:()=>o[r.element],request:e=>Promise.resolve(e[r.request]()),exit:()=>Promise.resolve(o[r.exit]()),onChange:r.onChange}:null,a=e=>{const t=(0,i.useRef)(null),n=(0,i.useMemo)((()=>!!l&&l.enabled()),[]),[o,r]=(0,i.useState)(!1);(0,i.useEffect)((()=>{if(!n||!l)return;const t=()=>{r(Boolean(l&&l.element()))};return e&&document.addEventListener(l.onChange,t),()=>{l&&document.removeEventListener(l.onChange,t)}}),[e,n]);const a=(0,i.useCallback)((async()=>{if(t.current&&n&&l)return await l.request(t.current)}),[n]),s=(0,i.useCallback)((async()=>{if(n&&l)return await l.exit()}),[n]);return{isSupportedFullscreen:n,requestFullscreen:a,exitFullscreen:s,isFullscreen:o,fullscreenElementRef:t}}},15851:(e,t,n)=>{n.d(t,{r:()=>r});n(13311);var i=n(13714);const o=["INPUT","TEXTAREA","SELECT"],r=e=>{let{isActive:t,handlers:n,onHandled:r}=e;const l=(0,i.useRef)(n),a=(0,i.useRef)(!1);(0,i.useEffect)((()=>{l.current=n}),[n]),(0,i.useEffect)((()=>{if(!t)return;const e=e=>{if(e.defaultPrevented)return;if(document.activeElement&&(o.includes(document.activeElement.tagName)||"true"===document.activeElement.getAttribute("contenteditable")))return;const{code:t}=e;"Tab"===t&&(a.current=!0);const n=l.current[t];if("function"==typeof n){if("Space"===t){if(a.current)return;e.preventDefault()}n(),r&&r()}},n=()=>{a.current=!1};return document.addEventListener("keydown",e),document.addEventListener("mousedown",n),()=>{document.removeEventListener("keydown",e),document.removeEventListener("mousedown",n)}}),[t,r])}},71300:(e,t,n)=>{n.d(t,{C:()=>o});n(14072),n(53208);var i=n(13714);const o=()=>{const[e,t]=(0,i.useState)(!1);return{isHovered:e,onMouseEnter:(0,i.useCallback)((()=>t(!0)),[]),onMouseLeave:(0,i.useCallback)((()=>t(!1)),[])}}},10723:(e,t,n)=>{n.d(t,{I:()=>r});var i=n(13714),o=n(2340);const r=(e,t,n)=>{(0,i.useEffect)((()=>{if(!e.current)return;if(!("MutationObserver"in window))return;const i=new MutationObserver((e=>{(0,o.unstable_batchedUpdates)((()=>{n(e)}))}));return i.observe(e.current,t),()=>{i.disconnect()}}),[n,e,t])}},83614:(e,t,n)=>{n.d(t,{P:()=>r});n(14072),n(53208);var i=n(13714),o=n(59954);const r=()=>{const e=(0,i.useRef)(null),[t,n]=(0,i.useState)(!1),r=(0,i.useCallback)((()=>{n(!1)}),[]),l=(0,i.useCallback)((()=>{n(!0)}),[]);return(0,o.s)({animationTime:150,pressRef:e,onEndPress:r,onStartPress:l,useTouchEvents:!0}),{pressRef:e,isPressed:t}}},5841:(e,t,n)=>{n.d(t,{e:()=>a});var i=n(13714),o=n(469),r=n(17950);const l=300,a=e=>{let{onSingleClick:t,onDoubleClick:n,options:{clickDelayMs:a=l}={}}=e;const s=(0,i.useRef)(null),c=(0,i.useRef)(!1),u=(0,o.Z)({onSingleClick:t,clickDelayMs:a,onDoubleClick:n});(0,r.Z)((()=>{s.current&&clearTimeout(s.current),s.current=null}));const d=(0,i.useCallback)((e=>{const t=s.current;t||!c.current?(t&&(clearTimeout(t),s.current=null),u.current.onDoubleClick(e)):c.current=!1}),[u]);return{onSingleClick:(0,i.useCallback)((e=>{const t=s.current;if(t)return clearTimeout(t),s.current=null,c.current=!1,d(e),void(c.current=!0);s.current=setTimeout((()=>{s.current=null,null==u.current.onSingleClick||u.current.onSingleClick(e)}),u.current.clickDelayMs)}),[u,d]),onDoubleClick:d}}},32003:(e,t,n)=>{n.d(t,{o:()=>l});n(14072),n(53208);var i=n(13714),o=n(17486),r=n(40269);const l=e=>{const t=(0,i.useRef)(null),[n,l]=(0,i.useState)(void 0),a=(0,o.F)((t=>{l(e.find((e=>((e,t)=>{const{maxWidth:n=Number.MAX_SAFE_INTEGER,maxHeight:i=Number.MAX_SAFE_INTEGER,minWidth:o=0,minHeight:r=0}=e,{width:l,height:a}=t;return l>=o&&l<=n&&a>=r&&a<=i})(e,t))))}),100),s=(0,i.useCallback)((e=>{e.map((e=>a(e.contentRect)))}),[a]);return(0,r.y)(t,s),{refContainer:t,currentBreakpoint:n}}},44308:(e,t,n)=>{n.d(t,{x:()=>l});n(14072),n(53208);var i=n(13714),o=n(17950),r=n(84978);const l=(e,t)=>{const[n,l]=(0,i.useState)(e),a=(0,i.useRef)((0,r.D)(l,t));(0,o.Z)((()=>{a.current.cancel()}));const s=(0,i.useCallback)((e=>{a.current.cancel(),l(e)}),[]);return[n,a.current,s]}},66681:(e,t,n)=>{n.d(t,{m:()=>m});var i=n(93949),o=(n(14072),n(53208),n(29901)),r=n(10752),l=n(32768);const a="modal-button__modalButton-32";var s=n(95486),c=n(51773),u=n(57444);const d=["l10n","openModal","stats"],m=e=>{let{l10n:t,openModal:n,stats:m}=e,h=(0,i.Z)(e,d);const[v,p]=(0,r.O)();(0,l.D)({isVisible$:p,onShow:m.showMoreButton});const g=()=>{n(h),m.clickMoreButton()},b=t("zen_subscriptions.more_authors");return h.items?o.createElement(s.z,{onClick:g,controlRef:v,size:"xl",variant:"ghost",rightContent:{type:"icon",Icon:u.Z},isFluid:!0},b):o.createElement(c.Y,{as:"button",asProps:{type:"button",onClick:g},controlRef:v,size:"xs",variant:"ghostAccent",classNames:{rootElement:a}},b)}},23563:(e,t,n)=>{n.d(t,{X:()=>a});var i=n(29901),o=n(13714),r=n(2162);const l=(0,r.N)("shadower"),a=(0,o.forwardRef)(((e,t)=>{let{boxShadow:n,className:o,children:a}=e;return i.createElement("div",{ref:t,className:r.N.mix(l(),o)},i.createElement("span",{className:l("shadow"),style:{boxShadow:n}}),i.createElement("div",{className:l("content")},a))}))},54041:(e,t,n)=>{n.d(t,{a:()=>u});var i=n(29901),o=n(13714),r=n(2162),l=n(71494),a=n(68322),s=n(77566);const c=(0,r.N)("slider-input"),u=e=>{let{value:t,onChange:n,step:r,keyStep:u,min:d=0,max:m=100,isDisabled:h,isWheelEventsDisabled:v,isWheelVerticalAxis:p,className:g,trackClassName:b,progressClassName:f,thumbClassName:C,ariaLabel:w,ariaDimension:y="",ariaValue:E="",isRedesign:k,size:_="s"}=e;const T=(0,o.useRef)(null),S=(0,o.useCallback)((e=>{n(Number(e.target.value))}),[n]),P=(0,o.useCallback)((e=>{const i=u||r||1;switch(e.key){case"ArrowRight":case"ArrowUp":n(t+i>100?100:t+i),e.preventDefault();break;case"ArrowLeft":case"ArrowDown":n(t-i<0?0:t-i),e.preventDefault()}}),[u,n,r,t]),x=(0,a.m)((e=>{if(v||h)return;e.preventDefault();const i=p?-1*e.deltaY:-1*e.deltaX,o=r||1;n(i>0?t+o>100?100:t+o:t-o<0?0:t-o)}));return(0,o.useEffect)((()=>{T.current&&T.current.addEventListener("wheel",x)}),[x]),i.createElement("div",{className:(0,l.C)(c({isRedesign:k,size:_}),g)},i.createElement("div",{className:(0,l.C)(c("track"),b)},i.createElement("div",{className:(0,l.C)(c("progress"),f),style:{width:`${t}%`}}),i.createElement("div",{className:(0,l.C)(c("thumb"),C)})),i.createElement("input",{ref:T,disabled:h,className:c("input"),type:"range",step:r,value:t,onMouseMove:s.UW,onChange:S,onKeyDown:P,min:d,max:m,"aria-label":w,"aria-valuetext":`${t}${y} ${E}`}))}},52950:(e,t,n)=>{n.d(t,{l:()=>l});var i=n(29901),o=n(13714);const r={xs:16,s:24,m:32},l=(0,o.memo)((e=>{let{size:t,icon:n,className:o,transform:l}=e;const a="string"==typeof t?r[t]:t;return i.createElement("svg",{viewBox:n.viewBox,width:a,height:a,className:o},i.createElement("use",{transform:l,xlinkHref:`#${n.id}`}))}))},99919:(e,t,n)=>{n.d(t,{y:()=>i});const i=()=>"undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)},93942:(e,t,n)=>{n.d(t,{M:()=>i});const i=(e,t)=>null!=e&&""!==e?e:t},94445:(e,t,n)=>{n.d(t,{G:()=>i});const i=e=>!(e.ctrlKey||e.metaKey||e.shiftKey)},42609:(e,t,n)=>{n.d(t,{Z:()=>i});n(14072);const i=(e,t)=>e.replace(/{{(\w+)}}/gi,((e,n)=>t[n].toString()))},7332:(e,t,n)=>{n.d(t,{U:()=>o,R:()=>l});var i=n(28861);const o=["[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(","),r="zutility-focus";const l=new class{constructor(){this.body=null,this.isKeyboardUses=!1,this.handleKeydown=e=>{e.keyCode===i.m&&this.body&&(this.isKeyboardUses=!0,this.body.classList.add(r),document.addEventListener("mousedown",this.handleMousedown),document.removeEventListener("keydown",this.handleKeydown))},this.handleMousedown=()=>{this.body&&(this.isKeyboardUses=!1,this.body.classList.remove(r),document.addEventListener("keydown",this.handleKeydown),document.removeEventListener("mousedown",this.handleMousedown))},this.getIsKeyboardUses=()=>this.isKeyboardUses,this.focus=e=>{window.requestAnimationFrame((()=>e.focus()))},this.focusFirst=e=>{const t=e.querySelector(o);t&&this.focus(t)},"undefined"!=typeof document&&(this.body=document.documentElement,document.addEventListener("keydown",this.handleKeydown))}}},61329:(e,t,n)=>{n.d(t,{b:()=>r});var i=n(42955),o=n(13714);const r=e=>(0,o.useState)((()=>new i.X(e)))[0]},59321:(e,t,n)=>{n.d(t,{N:()=>r});var i=n(71494);const o=JSON.parse('{"T":"zen-ui-video"}'),r=e=>(0,i.N)(`${o.T}-${e}`)},33108:(e,t,n)=>{n.d(t,{D:()=>C});n(14072),n(53208);var i=n(29901),o=n(13714),r=n(59321),l=n(74532),a=n(23242),s=n.n(a),c=n(62508),u=n.n(c),d=n(43952);let m=new(s())({id:"sound-on_52a8--inline",use:"sound-on_52a8--inline-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="sound-on_52a8--inline"><path d="M10.258 5.6l-.788.8a2.286 2.286 0 010 3.2l.788.8a3.428 3.428 0 000-4.8z" fill="#fff" /><path d="M11.047 11.2l.79.8c2.177-2.21 2.177-5.79 0-8l-.79.8a4.571 4.571 0 010 6.4z" fill="#fff" /><path fill-rule="evenodd" clip-rule="evenodd" d="M7.7 3v10l-3.437-2.818H2.7c-.386 0-.699-.385-.699-.86V6.678c0-.474.313-.86.699-.86h1.564L7.7 3z" fill="#fff" /></symbol>'});const h=(0,d.Z)(u(),m);let v=new(s())({id:"sound-off_83a1--inline",use:"sound-off_83a1--inline-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="sound-off_83a1--inline"><path d="M11.593 8.734l-1.676 1.674-.731-.73L10.864 8 9.187 6.326l.726-.732 1.68 1.677 1.681-1.679.727.73L12.32 8 14 9.678l-.731.73-1.676-1.674z" fill="#fff" /><path fill-rule="evenodd" clip-rule="evenodd" d="M7.695 3v10l-3.433-2.818H2.698c-.385 0-.698-.385-.698-.86V6.678c0-.474.313-.86.698-.86h1.564L7.695 3z" fill="#fff" /></symbol>'});const p=(0,d.Z)(u(),v);let g=new(s())({id:"sound_fbc3--inline",use:"sound_fbc3--inline-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="sound_fbc3--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.7 3v10l-3.437-2.818H2.7c-.386 0-.699-.385-.699-.86V6.678c0-.474.313-.86.699-.86h1.564L7.7 3z" fill="#fff" /></symbol>'});const b=(0,d.Z)(u(),g),f=(0,r.N)("button-unroll-animated"),C=e=>{let{isVisible:t,text:n,onClick:r,animationType:a,isMobile:s,isDisabled:c,isHovered:u}=e;const d=(0,o.useRef)(null),[m,v]=(0,o.useState)(300),[g,C]=(0,o.useState)(!1);(0,o.useEffect)((()=>{d.current&&v(d.current.offsetWidth-22)}),[]);const w=t||u;return(0,o.useEffect)((()=>{w&&C(!0)}),[w]),i.createElement("button",{className:f({isVisible:t,animationType:a,isMobile:s,isDisabled:c,isHovered:u}),ref:d,onClick:r},i.createElement("span",{className:f("filler",{withAnimation:g}),style:w?{}:{transform:`translateX(-${m}px)`}}),i.createElement(l.l,{className:f("icon-immutable"),icon:b,display:"inline",size:"xs"}),i.createElement(l.l,{className:f("icon",{isDefault:!0}),icon:p,display:"inline",size:"xs"}),i.createElement(l.l,{className:f("icon",{isActive:!0}),icon:h,display:"inline",size:"xs"}),n?i.createElement("span",{className:f("text")},n):null)}},30113:(e,t,n)=>{n.d(t,{ag:()=>r});var i=n(27340);const o={viewingExperienceTitle:{ru:"Опыт видеопросмотра",_context:""},mark1:{ru:"ужас",_context:""},mark2:{ru:"плохо",_context:""},mark3:{ru:"сойдет",_context:""},mark4:{ru:"хорошо",_context:""},mark5:{ru:"восторг",_context:""},pageOf:{ru:"из",_content:""},submitButton:{ru:"Завершить",_content:""},skipButton:{ru:"Пропустить",_content:""}},r=((0,i.Wh)(o),(0,i.bN)(o))},69070:(e,t,n)=>{n.d(t,{a:()=>Q});n(14072),n(53208);var i=n(29901),o=n(13714),r=n(83849),l=n.n(r),a=n(27340),s=n(74642),c=n(23242),u=n.n(c),d=n(62508),m=n.n(d);const h=new(u())({id:"check_circle_acdc--react",use:"check_circle_acdc--react-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="check_circle_acdc--react"><path fill="currentColor" d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10Zm0-2a8 8 0 1 1 0-16 8 8 0 0 1 0 16Zm4.66-11.749a1 1 0 0 0-1.41.094l-4.517 5.158-1.996-2.178a1 1 0 0 0-1.474 1.35l2.373 2.59a1.5 1.5 0 0 0 2.119.094l.06-.058.055-.06 4.884-5.579a1 1 0 0 0-.093-1.41Z" /></symbol>'});function v(e){return m().add(h),i.createElement("svg",(0,s.Z)({viewBox:"0 0 24 24"},e),i.createElement("use",{xlinkHref:"#check_circle_acdc--react"}))}v.displayName="SpriteSymbolComponent(check_circle_acdc--react)";var p=n(28025);const g="star-button__container-3J",b="star-button__active-2p",f="star-button__button-37",C="star-button__animated-2o",w="star-button__text-15",y=e=>{let{text:t,value:n,onClick:o,isActive:r=!1,isAnimated:a=!1}=e;return i.createElement("div",{className:l()({[g]:!0,[b]:r,[C]:r&&a})},i.createElement("button",{type:"button","aria-label":t,className:f,onClick:e=>{e.stopPropagation(),o(n)}},i.createElement(p.Z,{width:44,height:44})),i.createElement("span",{className:w},t))};var E=n(600),k=n(95486),_=n(30113),T=n(46216);const S="close-button__button-3G",P="close-button__fullscreen-pJ",x=e=>{let{onClick:t,isForceVisible:n,isFullscreen:o}=e;const r=(0,a.bU)();return i.createElement("button",{type:"button","aria-label":_.ag.skipButton(r),className:l()(S,{[P]:o}),onClick:t},i.createElement(T.Z,{width:20,height:20}))},R="second-screen__horizontal-BE",N="second-screen__title-3_",M="second-screen__elementsContainer-aA",L="second-screen__element-2k",V="second-screen__buttons-3V",A="second-screen__buttonWrapper-2Y",B="rating-control__container-1e",F="rating-control__containerSuccess-g_",I="rating-control__containerSecondScreen-mx",D="rating-control__containerSecondScreenReducedAnimation-3g",O="rating-control__horizontal-2H",H="rating-control__title-Rs",z="rating-control__titleWithoutStepsLabel-3W",Z="rating-control__marks--h",W="rating-control__successIcon-38",U="rating-control__pageNumber-xv",X=(0,o.memo)((e=>{let{videoQualitySurvey:t,contentOrientation:n,onClose:r,onSubmit:s,onOptionsChange:c}=e;const u=(0,a.bU)(),[d,m]=(0,o.useState)(new Set);return i.createElement(i.Fragment,null,i.createElement(x,{onClick:r}),i.createElement("span",{className:U},`2 ${_.ag.pageOf(u)} 2`),i.createElement("h4",{className:N},t.relatedText),i.createElement("div",{className:l()(M,{[R]:"horizontal"===n})},(e=>[{key:"isContent",text:e.relatedContentOption},{key:"isAds",text:e.relatedAdsOption},{key:"isFeatures",text:e.relatedFeaturesOption},{key:"isQuality",text:e.relatedQualityOption}])(t).map((e=>i.createElement("div",{key:e.text,className:L,onClick:t=>{t.stopPropagation(),(e=>{d.has(e)?d.delete(e):d.add(e);const t=new Set(d);m(t),c(t)})(e.key)}},i.createElement(E.X,{checked:d.has(e.key)}),i.createElement("span",null,e.text))))),i.createElement("div",{className:V},i.createElement("div",{className:A},i.createElement(k.z,{onClick:e=>{e.stopPropagation(),s()},isFluid:!0,variant:"regular"},_.ag.skipButton(u))),i.createElement("div",{className:A},i.createElement(k.z,{onClick:e=>{e.stopPropagation(),s()},isFluid:!0,variant:"accentPrimary",isDisabled:0===d.size},_.ag.submitButton(u)))))})),$=e=>{let{text:t}=e;return i.createElement(i.Fragment,null,i.createElement(v,{width:40,height:40,className:W}),i.createElement("h4",{className:H},t))},Q=(0,o.memo)((e=>{let{sendRatingLog:t,close:n,videoQualitySurvey:r,onRatingChange:s,isReducedAnimation:c,isShortSurvey:u,isForceSkip:d,isFullscreenCloseButton:m,contentOrientation:h="auto"}=e;const v=(0,a.bU)(),p=(0,o.useRef)(),g=(0,o.useRef)(),b=(0,o.useRef)(),f=(0,o.useRef)(),C=(0,o.useRef)(new Set),w=(0,o.useRef)(Date.now()),[E,k]=(0,o.useState)(!1),[T,S]=(0,o.useState)(!1),[P,R]=(0,o.useState)(-1),[N,M]=(0,o.useState)(!1),L=(0,o.useRef)(t),V=(0,o.useCallback)((()=>{k(!0),clearTimeout(g.current),g.current=window.setTimeout((()=>{n()}),1700)}),[n]),A=(0,o.useCallback)((e=>{R(e),M(!0),f.current=e,clearTimeout(b.current),clearTimeout(p.current),b.current=window.setTimeout((()=>{M(!1)}),300),p.current=window.setTimeout((()=>{u?V():S(!0)}),1800),null==s||s(e)}),[s,V,u]),W=(0,o.useCallback)((e=>{C.current=e}),[]);if((0,o.useEffect)((()=>{L.current=t}),[t]),(0,o.useEffect)((()=>{const e=w,t=f,n=C;return()=>{const i=e.current,o=t.current,r=n.current;L.current(Object.assign({from:"ui",showTimestamp:i,hideTimestamp:Date.now(),hideReason:"closed"},Number.isInteger(o)&&{rating:o,hideReason:"voted"},[...r].reduce(((e,t)=>Object.assign({},e,{[t]:!0})),{})))}}),[]),(0,o.useEffect)((()=>()=>{clearTimeout(p.current),clearTimeout(g.current)}),[]),E){const e=P>3;return i.createElement("div",{className:l()(B,F)},i.createElement($,{text:e?r.answerText:r.answerTextBadMark}))}return T?i.createElement("div",{className:l()(B,I,{[D]:c,[O]:"horizontal"===h})},i.createElement(X,{videoQualitySurvey:r,onClose:n,onSubmit:V,onOptionsChange:W,contentOrientation:h})):i.createElement("div",{className:l()(B,{[O]:"horizontal"===h})},i.createElement(x,{onClick:n,isForceVisible:d,isFullscreen:m}),!u&&i.createElement("span",{className:U},`1 ${_.ag.pageOf(v)} 2`),i.createElement("h4",{className:l()(H,{[z]:u})},r.questionText),i.createElement("div",{className:Z},(e=>[{value:5,text:_.ag.mark5(e)},{value:4,text:_.ag.mark4(e)},{value:3,text:_.ag.mark3(e)},{value:2,text:_.ag.mark2(e)},{value:1,text:_.ag.mark1(e)}])(v).map((e=>{let{value:t,text:n}=e;return i.createElement(y,{key:t,value:t,text:n,onClick:A,isActive:t<=P,isAnimated:N})}))))}))},74532:(e,t,n)=>{n.d(t,{l:()=>c});var i=n(29901),o=n(86358),r=n(59321),l=n(71494);const a=(0,r.N)("svg-icon"),s={xxs:8,xs:16,s:24,m:32},c=e=>{let{className:t,display:n="block",icon:r,size:c,fill:u,fillOpacity:d}=e;const m="string"==typeof c?s[c]:c;return i.createElement(o.P,{className:(0,l.C)(a({display:n}),t),symbol:r,width:m,height:m,fill:u,fillOpacity:d})}},5891:(e,t,n)=>{n.d(t,{Q:()=>Bo,z:()=>Fo});var i=n(29901),o=n(6074),r=n(59321);const l=(0,r.N)("video-controls-layout"),a=e=>{let{headerLeft:t,headerRight:n,headerFull:o,footer:r,beforeControls:a,afterControls:s,onFocus:c}=e;const u=o||i.createElement(i.Fragment,null,t?i.createElement("div",{className:l("header-left")},t):null,n?i.createElement("div",{className:l("header-right")},n):null);return i.createElement("div",{className:l()},a,i.createElement("div",{onFocus:c,className:l("controls")},i.createElement("div",{className:l("header")},u),i.createElement("div",{className:l("footer")},r)),s)};var s=n(54450),c=n(83614);const u=e=>{let{b:t,props:n}=e;const{l10n:o,isFullscreen:r,onFullscreenToggle:l,isMobile:a,onOpenFullscreen:u}=n,d=!a,{pressRef:m,isPressed:h}=(0,c.P)();return i.createElement("div",{ref:m,className:t("fullscreen",{isDesktopRedesign:d,isPressed:h})},i.createElement(s.K,{isFullscreen:r,onToggle:l,ariaLabel:o("video-viewer.fullscreen"),onOpenFullscreenStat:u}))};n(14072),n(53208);var d=n(13714),m=n(55976),h=n(54041),v=n(23242),p=n.n(v),g=n(62508),b=n.n(g),f=n(43952);let C=new(p())({id:"sound-false_be5a--inline",use:"sound-false_be5a--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" id="sound-false_be5a--inline">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M5.67953 7.5L12.4049 2.69614C13.0726 2.21925 14 2.6965 14 3.517V20.483C14 21.3037 13.0724 21.7806 12.4049 21.3038L5.67954 16.5H2.875C1.83947 16.5 1 15.6605 1 14.625V9.375C1 8.33947 1.83947 7.5 2.875 7.5H5.67953ZM7 9.01461L12 5.44318V18.5568L7 14.9854V9.01461ZM5 9.5H3V14.5H5V9.5Z" />\n    <path d="M16.3178 8.81801C16.7083 8.42748 17.3415 8.42748 17.732 8.81801L19.4999 10.5859L21.2678 8.81802C21.6584 8.4275 22.2915 8.4275 22.6821 8.81802C23.0726 9.20855 23.0726 9.84171 22.6821 10.2322L20.9141 12.0001L22.6818 13.7678C23.0723 14.1583 23.0723 14.7914 22.6818 15.182C22.2912 15.5725 21.6581 15.5725 21.2675 15.182L19.4999 13.4144L17.7323 15.182C17.3418 15.5725 16.7086 15.5725 16.3181 15.182C15.9276 14.7915 15.9276 14.1583 16.3181 13.7678L18.0857 12.0001L16.3178 10.2322C15.9273 9.8417 15.9273 9.20853 16.3178 8.81801Z" />\n</symbol>'});const w=(0,f.Z)(b(),C);let y=new(p())({id:"sound-true_51d4--inline",use:"sound-true_51d4--inline-usage",viewBox:"0 0 24 24",content:'<symbol fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="sound-true_51d4--inline"><path d="M13.5 3.51697c0-.4138-.4677-.65451-.8045-.41398L5.83977 7.99997H2.875c-.75939 0-1.375.61561-1.375 1.375V14.625c0 .7594.61561 1.375 1.375 1.375h2.96477l6.85583 4.897c.3365.2403.8044 0 .8044-.414V3.51697zM19.1844 17.075c-.3685.4485-.3699 1.1201.0596 1.5106.3861.351.9825.3459 1.3238-.0488 1.5154-1.7529 2.4321-4.0378 2.4321-6.5368 0-2.499-.9167-4.78389-2.4321-6.53679-.3413-.39474-.9377-.39982-1.3238-.04881-.4295.39045-.4281 1.06208-.0596 1.51058C20.3188 8.30584 20.9999 10.0734 20.9999 12s-.6811 3.6941-1.8155 5.075z" /><path d="M16.2579 9.67847c-.3495-.48965-.3863-1.19798.0588-1.60267.366-.3327.9307-.34239 1.2516.034.8929 1.0475 1.4319 2.4059 1.4319 3.8902 0 1.4843-.539 2.8427-1.4319 3.8901-.3208.3764-.8856.3668-1.2515.0341-.4452-.4047-.4084-1.1131-.0589-1.6027.4673-.6546.7423-1.4559.7423-2.3215 0-.8656-.275-1.6669-.7423-2.32153z" /></symbol>'});const E=(0,f.Z)(b(),y);var k=n(74532);const _=(0,r.N)("video-sound-control"),T=(0,d.memo)((e=>{let{volume:t,isMuted:n,isActive:o,onClose:r,onOpen:l,onVolumeChange:a,onMuteToggle:s,l10n:c}=e;const[u,v]=(0,d.useState)(o),p=n?0:t,g=(0,m.z)((()=>{s&&s(!n)}),300);(0,d.useEffect)((()=>{u?l&&l():r&&r()}),[u,r,l]);let b=w;p>0&&(b=E);const f=c(p>0?"video-viewer.volume-mute":"video-viewer.volume-unmute"),C=(0,d.useCallback)((()=>{v(!0)}),[]),y=(0,d.useCallback)((()=>{v(!1)}),[]);return i.createElement("div",{className:_({isActive:o}),onMouseEnter:C,onMouseLeave:y},i.createElement("div",{className:_("volume")},i.createElement(h.a,{className:_("slider"),isWheelVerticalAxis:!0,keyStep:10,value:p,onChange:a,ariaLabel:c("video-viewer.volume-control"),ariaDimension:"%",ariaValue:c("video-viewer.volume")})),i.createElement("button",{className:_("icon"),onClick:g,"aria-label":f},i.createElement(k.l,{icon:b,size:"s"})))}));var S=n(61194);const P=e=>{let{b:t,props:n}=e;const{isMuted:o,onControlsLock:r,onControlsRelease:l,onVolumeChange:a,onMuteToggle:s,l10n:c,videoPlayerPublicApi:u}=n,{volume:d}=(0,S.U)(u,"volume");return a?i.createElement("div",{className:t("sound-control")},i.createElement(T,{volume:null!=d?d:0,isMuted:o,onOpen:r,onClose:l,onVolumeChange:a,onMuteToggle:s,l10n:c})):null};var x=n(23563),R=n(54364),N=n(20132),M=n(93983),L=n(27340),V=n(71494);let A=new(p())({id:"error-button_4a62--inline",use:"error-button_4a62--inline-usage",viewBox:"0 0 80 80",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80" id="error-button_4a62--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M41 32.268c0 .7.809 1.092 1.358.657l10.147-8.033a.5.5 0 000-.784l-10.147-8.033a.838.838 0 00-1.358.657v5.295A18.313 18.313 0 0040 22c-9.941 0-18 8.059-18 18 0 2.434.483 4.756 1.36 6.874l3.261-2.737A13.997 13.997 0 0126 40c0-7.732 6.268-14 14-14 .336 0 .67.012 1 .035v6.233zm-1 31V58c9.941 0 18-8.059 18-18a17.98 17.98 0 00-.914-5.679l-3.376 2.832c.19.919.29 1.871.29 2.847 0 7.732-6.268 14-14 14v-6.268a.838.838 0 00-1.358-.657l-10.147 8.033a.5.5 0 000 .784l10.147 8.033A.838.838 0 0040 63.268z" fill="#fff" /></symbol>'});const B=(0,f.Z)(b(),A);let F=new(p())({id:"play-button-s_b554--inline",use:"play-button-s_b554--inline-usage",viewBox:"0 0 32 32",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="play-button-s_b554--inline"><path d="M12.447 9.724a1 1 0 00-1.447.894v10.764a1 1 0 001.447.894l10.764-5.382a1 1 0 000-1.788L12.447 9.724z" fill="#fff" /></symbol>'});(0,f.Z)(b(),F);let I=new(p())({id:"replay-button-m_0f14--inline",use:"replay-button-m_0f14--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" id="replay-button-m_0f14--inline">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M10.0048 3.19905C5.43795 4.12372 2 8.16037 2 13C2 18.5228 6.47715 23 12 23C17.5228 23 22 18.5228 22 13C22 11.0847 21.4616 9.29519 20.5278 7.77454C20.1468 7.15406 19.3191 7.04326 18.7226 7.46082C18.1884 7.83482 18.0984 8.58492 18.4342 9.14402C19.1109 10.2708 19.5 11.5899 19.5 13C19.5 17.1421 16.1421 20.5 12 20.5C7.85786 20.5 4.5 17.1421 4.5 13C4.5 9.54871 6.83119 6.6419 10.0048 5.76828V7.18337C10.0048 8.00616 10.6954 8.23055 11.4465 7.7497L15.5412 5.19585C16.1469 4.80048 16.159 4.20209 15.5412 3.81741L11.4586 1.25287C10.6954 0.772014 10.0048 0.985726 10.0048 1.8192V3.19905Z" />\n</symbol>'});const D=(0,f.Z)(b(),I);var O=n(21517);let H=new(p())({id:"pause-new_4b28--inline",use:"pause-new_4b28--inline-usage",viewBox:"0 0 40 40",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" id="pause-new_4b28--inline"><path d="M9.5 5c-1.10457 0-2 .89543-2 2v26c0 1.1046.89543 2 2 2h4c1.1046 0 2-.8954 2-2V7c0-1.10457-.8954-2-2-2h-4zm17 0c-1.1046 0-2 .89543-2 2v26c0 1.1046.8954 2 2 2h4c1.1046 0 2-.8954 2-2V7c0-1.10457-.8954-2-2-2h-4z" fill="#fff" /></symbol>'});const z=(0,f.Z)(b(),H);let Z=new(p())({id:"play-button-m_2da0--inline",use:"play-button-m_2da0--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" id="play-button-m_2da0--inline">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.28612 3.40675C6.28672 2.79176 5 3.51078 5 4.68425L5 19.3156C5 20.4891 6.28677 21.2081 7.28617 20.593L20.1741 13.2771C21.1259 12.6913 21.1259 11.3078 20.1741 10.7221L7.28612 3.40675Z" />\n</symbol>'});const W=(0,f.Z)(b(),Z);let U=new(p())({id:"pause-button-m_0dda--inline",use:"pause-button-m_0dda--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" id="pause-button-m_0dda--inline">\n    <path d="M14.5 4.35C14.5 3.60442 15.1044 3 15.85 3H18.15C18.8956 3 19.5 3.60442 19.5 4.35V19.65C19.5 20.3956 18.8956 21 18.15 21H15.85C15.1044 21 14.5 20.3956 14.5 19.65V4.35Z" />\n    <path d="M4.5 4.35C4.5 3.60442 5.10442 3 5.85 3H8.15C8.89558 3 9.5 3.60442 9.5 4.35V19.65C9.5 20.3956 8.89558 21 8.15 21H5.85C5.10442 21 4.5 20.3956 4.5 19.65V4.35Z" />\n</symbol>'});const X=(0,f.Z)(b(),U);let $=new(p())({id:"replay-button-touch_fd7c--inline",use:"replay-button-touch_fd7c--inline-usage",viewBox:"0 0 41 41",content:'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 41 41" id="replay-button-touch_fd7c--inline"><path fill="#fff" d="M20.492 37.619c8.77 0 16.008-7.238 16.008-16.008 0-4.995-2.49-9.728-6.233-12.543-.835-.68-1.856-.557-2.366.17-.557.758-.31 1.67.402 2.305 3.047 2.335 4.98 5.939 4.995 10.068.016 7.1-5.707 12.806-12.806 12.806-7.099 0-12.775-5.707-12.775-12.806 0-6 4.052-10.996 9.59-12.404v2.243c0 1.19.88 1.516 1.84.82l5.227-3.697c.774-.572.79-1.438 0-1.995l-5.212-3.712c-.974-.696-1.856-.387-1.856.82v2.258C10.037 7.444 4.5 13.94 4.5 21.61c0 8.77 7.238 16.008 15.992 16.008Z" /></symbol>'});const Q=(0,f.Z)(b(),$),q={replay:{ru:"Перевоспроизвести",_context:""}},Y=((0,L.Wh)(q),(0,L.bN)(q)),K=(0,r.N)("video-state"),j=e=>{let{forwardRef:t,onClick:n,icon:o,children:r,ariaLabel:l,tabIndex:a,isRedesign:s,withShadow:c=!0}=e;const u=n?"button":"span",d=i.createElement(i.Fragment,null,i.createElement(u,{ref:t,onClick:n,className:K(n?"button":"icon",{isRedesign:s}),"aria-label":l,tabIndex:a},i.createElement("svg",{viewBox:o.viewBox},i.createElement("use",{xlinkHref:`#${o.id}`}))),r);return c?i.createElement(x.X,{boxShadow:"rgba(0, 0, 0, 0.1) 0px 0px 30px 30px"},d):d},G=(0,d.memo)((e=>{const t=(0,L.bU)(),{state:n,buttonRef:r,tabIndex:l,onPlay:a,onPause:s,onErrorClick:c,onReplayByTimeout:u,onReplayByUser:d,isFreezeAnimations:m,withBackground:h=!0,withCountDownReplay:v,isDesktopPlayer:p,onReplayFromNextVideo:g,isSimpleButton:b,l10n:f,bufferingSpinnerDelayVisible:C,withPlayControlWhenEnded:w}=e,y=K({isDesktopPlayer:p,isSimpleButton:b,withBackground:h}),E=b?X:z,k=b?W:O.Z,_=D,T=i.createElement("div",{className:y},i.createElement(j,{forwardRef:r,onClick:s,icon:E,ariaLabel:f("desktop.video.pause"),tabIndex:l,isRedesign:!0})),S=i.createElement("div",{className:y},i.createElement(j,{forwardRef:r,onClick:a,icon:k,ariaLabel:f("desktop.video.play"),tabIndex:l,isRedesign:!0})),P=i.createElement("div",{className:y},i.createElement("div",{className:(0,V.C)(K("error-block"),K("button"))},i.createElement(j,{forwardRef:r,onClick:c,icon:B,tabIndex:l},i.createElement("div",{className:K("error-message")},f("desktop.video_player.load_error"),i.createElement("br",null),f("desktop.video_player.load_try_again"))))),A=b?i.createElement("div",{className:y},i.createElement(j,{forwardRef:r,onClick:g,icon:_,ariaLabel:Y.replay(t)})):null,F=i.createElement("div",{className:y},i.createElement(j,{forwardRef:r,onClick:a,icon:Q,isRedesign:!0})),I=i.createElement("div",{className:y},i.createElement(R.F,{className:K("button"),innerIconType:"reload",seconds:5,onFinish:u,isPauseCountDown:m,onClick:d,strokeWidth:2,radius:40})),H=i.createElement("div",{className:y},i.createElement(N.U,{wait:C},i.createElement(x.X,{boxShadow:"rgba(0, 0, 0, 0.1) 0px 0px 30px 30px"},i.createElement(M.Q,{isActive:!m})))),Z=w&&S||v&&I||!p&&F||A;switch(n){case o.de.Buffering:return b?T:H;case o.de.Paused:case o.de.Unstarted:return S;case o.de.Playing:return T;case o.de.Error:return b?null:P;case o.de.Ended:return Z;default:return null}}));var J=n(13764),ee=n(83849),te=n.n(ee),ne=n(6709),ie=n(16299),oe=n(40782),re=n(47118),le=n(22423),ae=n(61625);const se={tooltipInTabText:{ru:"Здесь хранятся просмотренные видео",_context:""},tooltipInPlayerText:{ru:"Это видео сохранилось в Истории просмотра",_context:""},moveTo:{ru:"Перейти",_context:""}},ce=(0,L.Wh)(se),ue=((0,L.bN)(se),"history-onboarding-tooltip__tooltip-3e"),de="history-onboarding-tooltip__inTab-2r",me="history-onboarding-tooltip__isMobile-3Z",he="history-onboarding-tooltip__text-PU",ve="history-onboarding-tooltip__inPlayer-mx",pe=(0,d.memo)((e=>{let{anchor:t,isAuthorized:n,inTab:o=!1,isVisibleControls:r,scope:l}=e;const[a,s]=(0,d.useState)(!1),c=(0,d.useRef)(null),[u,m]=(0,d.useState)(0),h=u<=1280;(0,d.useEffect)((()=>{var e,t;m(null==(e=document)||null==(t=e.documentElement)?void 0:t.clientWidth)}),[]);const v=o?"was-shown-video-history-tab-tooltip":"was-shown-video-history-player-tooltip",p=o?"number-of-video-history-tab-tooltip-showing":"number-of-video-history-player-tooltip-showing",[g,b]=(0,ne.Z)("was-shown-video-history"),[f,C]=(0,ne.Z)(p),[w,y]=(0,ie.Z)(v),E=f?Number(f):null,k=!g&&n&&!w&&(!E||E<3),_=o?1:h?r?22:-38:r?30:-30,T=o?0:h?94:102,S=o?"bottom":"top";return(0,d.useEffect)((()=>{k&&(s(!0),y(!0),C(Number(E)+1),setTimeout((()=>s(!1)),5e3))}),[]),(0,oe.O)(c,(()=>{s(!1)}),!0),i.createElement(re.$,{mainOffset:_,secondaryOffset:T,className:te()(ue,{[de]:o,[me]:!1}),innerRef:c,anchor:t,visible:a,hasTail:o,onClick:e=>{e.stopPropagation(),s(!1)},size:"s",direction:S,hasCloseButton:!o,zIndex:10,scope:l},i.createElement(le.x,{className:te()(he,{[ve]:!o}),as:"p",typography:o?"text-13-16":"text-14-18"},o?i.createElement(ce.tooltipInTabText,null):i.createElement(ce.tooltipInPlayerText,null)),!o&&i.createElement(ae.r,{onClick:()=>b(!0),href:"/video/history"},i.createElement(ce.moveTo,null)))}));var ge=n(33930);const be=(e,t)=>n=>{const{b:o,opts:r,size:l}=n;return i.createElement(e,{props:Object.assign({},n.props,t),b:o,opts:r,size:l})},fe=(e,t)=>n=>{const{b:o,opts:r,props:l,size:a}=n,{isInlineInit:s,getInlineControlState:c}=l,u=(null==c?void 0:c(e))||"default",d=s&&t[u]?t[u]:t.default;return i.createElement(i.Fragment,null,i.createElement("div",{"data-native-trigger":e,className:o("native-trigger")},i.createElement(d,{props:l,b:o,opts:r,size:a})),s?(0,ge.u)(t).map((n=>{if("default"===n)return;const s=t[n];return i.createElement("div",{key:n,"data-native-trigger-variant":`${e}-${n}`,style:{display:"none"}},i.createElement(s,{props:l,b:o,opts:r,size:a}))})):null)},Ce=e=>{let{b:t,props:n}=e;const{l10n:o,playControlRef:r,playerState:l,stateBlockRef:a,bufferingSpinnerDelayVisible:s,onPlay:u,onPause:d,onReplayFromNextVideo:m,withReplay:h,canShowHistoryOnboardingTooltip:v,isAuthorized:p,isVisibleControls:g}=n,{pressRef:b,isPressed:f}=(0,c.P)(),C=(0,J.$)(),w=a?C(a,b):b;return i.createElement("div",{className:t("play-control",{isPressed:f}),ref:w},v&&i.createElement(pe,{anchor:w,isAuthorized:p,isVisibleControls:g}),i.createElement(G,{l10n:o,buttonRef:r,state:l,onPlay:u,onPause:d,isFreezeAnimations:!1,withCountDownReplay:h,onReplayFromNextVideo:m,isSimpleButton:!0,isDesktopPlayer:!0,bufferingSpinnerDelayVisible:s}))},we=fe("play-control",{default:be(Ce,{}),on:be(Ce,{playerState:o.de.Paused}),off:be(Ce,{playerState:o.de.Playing})});var ye=n(17330),Ee=n(80629),ke=n(68322),_e=n(77566),Te=n(32682),Se=n(40269);const Pe=(0,r.N)("video-timeline-preview-image"),xe=(0,d.forwardRef)(((e,t)=>i.createElement("div",{className:Pe(),ref:t})));var Re=n(13199);const Ne=(0,r.N)("video-timeline-preview"),Me=e=>{let{image:t,labelTime:n,labelEpisode:o,isMobile:r}=e;return i.createElement("div",{className:Ne({isMobile:r})},i.createElement("div",{className:Ne("image")},t),i.createElement("div",{className:Ne("label")},i.createElement("div",{className:Ne("label-episode")},o),i.createElement("span",{className:Ne("label-time")},n)))};var Le=n(80587);const Ve=(e,t)=>{for(let n=0;n<e.length;n++){const i=n===e.length-1,o=e[n].timeStartInSeconds,r=i?1/0:e[n+1].timeStartInSeconds;if(t>=o&&t<r)return n}return 0},Ae=(e,t,n)=>(t<e.length-1?e[t+1].timeStartInSeconds:n)-e[t].timeStartInSeconds,Be=(e,t,n)=>{const{url:i,positionX:o,positionY:r,width:l,height:a,tileWidth:s,tileHeight:c}=t,u=o-1,d=r-1;e.style.background=`white url('${i}') ${u}px ${d}px / ${l}px ${a}px no-repeat`,e.style.width=`${s}px`,e.style.height=`${c}px`,n.style.width=`${s}px`},Fe={timeline:{en:"timeline",ru:"временная шкала",_context:""}},Ie=((0,L.Wh)(Fe),(0,L.bN)(Fe));var De;!function(e){e.Up="up",e.Down="down"}(De||(De={}));const Oe={name:"",timeText:"00:00",timeStartInSeconds:0},He=(0,r.N)("video-timeline"),ze=e=>{let{duration:t,currentTime:n,onSeek:r,episodes:l=[Oe],isMobile:a,isFullscreen:s,getPreviewTile:c,isMetaInfoPreviewLoaded:u,onPreviewVisibleChange:m,onTimelinePointerUp:h,onTimelinePointerDown:v,activePopup:p,withTimelinePreview:g,isDisabled:b,handleTimelineClick:f,showCursorOnlyOnHover:C,viewType:w}=e;const y=(0,d.useRef)(null),E=(0,d.useRef)(0),k=(0,d.useRef)(0),_=(0,d.useRef)({}),T=(0,d.useRef)({mouseX:0,containerWidth:0,containerLeft:0,secSize:0,progress:0,duration:0,seekLoading:-1}),S=(0,d.useRef)(null),[P,x]=(0,d.useState)(!1),[R,N]=(0,d.useState)(0),[M,V,A]=(0,Ee.zj)(!1),[B,F]=(0,d.useState)(!1),[I,D]=(0,d.useState)(0),O=a?9:0,H=(0,L.bU)(),z=(0,d.useMemo)((()=>{const e=l.filter((e=>e.timeStartInSeconds<t));return e.length>=3?e:[Oe]}),[l,t]),Z=(0,d.useMemo)((()=>{if(0===R||z.length<=1)return z;const e={minWithEpisode:5,timeStartInSeconds:0};return z.reduce(((n,i,o)=>{const r=Ae(z,o,t)*R;return r>e.minWithEpisode?(5!==e.minWithEpisode?(e.minWithEpisode=5,n.push(Object.assign({},i,{timeStartInSeconds:e.timeStartInSeconds}))):n.push(i),n):(5===e.minWithEpisode&&(e.timeStartInSeconds=i.timeStartInSeconds),e.minWithEpisode-=r,n)}),[])}),[z,R,t]),W=(0,d.useCallback)((()=>{const{current:e}=T;return e.progress*(e.duration/e.containerWidth)}),[]),{previewElement:U,updatePreview:X}=(e=>{let{getPreviewTile:t,isMobile:n,isMetaInfoPreviewLoaded:o,episodes:r=[]}=e;const l=(0,d.useRef)(null),a=(0,d.useRef)(null),s=(0,d.useRef)(null),c=(0,d.useRef)(null),u=(0,d.useRef)({}),m=(0,d.useRef)(),h=(0,d.useRef)(),v=(0,d.useRef)(),p=o?i.createElement("div",{ref:l,style:{height:"100%"}},i.createElement(Me,{image:i.createElement(xe,{ref:a}),isMobile:n,labelTime:i.createElement("span",{ref:s}),labelEpisode:i.createElement("span",{ref:c})})):null,g=(0,d.useCallback)((e=>{const{current:t}=s;t&&(t.innerText=(0,Le.Q)(e))}),[]),b=(0,d.useCallback)((e=>{const{current:t}=c;if(!t)return;const n=r[Ve(r,e)];n&&(m.current=n,t.innerText=n.name)}),[r]),f=(0,d.useCallback)((e=>{const{current:n}=a,{current:i}=l;if(!n||!t||!i)return;const o=t(e),r=null==o?void 0:o.highRes,s=(null==o?void 0:o.lowRes)||r;s&&Be(n,s,i),r&&(0,Re.p)(r.url).then((()=>{var e,t;r.url===(null==(e=h.current)||null==(t=e.highRes)?void 0:t.url)&&Be(n,r,i)})),h.current=o}),[t]),C=(0,d.useCallback)((e=>{var t,n,i,o;let{mouseX:r,maxX:a,minX:s=0}=e;const{current:c}=l;if(!c)return;const u=(null==(t=h.current)||null==(n=t.lowRes)?void 0:n.tileWidth)||(null==(i=h.current)||null==(o=i.highRes)?void 0:o.tileWidth)||60,d=r-u/2,m=Math.max(s,d),v=a?Math.min(a-u,m):m;c.style.transform=`translateX(${v}px)`}),[]),w=(0,d.useCallback)((e=>{var t,n;let{mouseX:i,maxX:o,minX:r=0}=e;const{current:a}=l,{current:s}=c,{current:d}=m;if(!(a&&s&&s.parentElement&&d))return;const v=(null==(t=h.current)||null==(n=t.lowRes)?void 0:n.tileWidth)||60;u.current[d.timeStartInSeconds]||(u.current[d.timeStartInSeconds]=s.parentElement.offsetWidth);const p=u.current[d.timeStartInSeconds],g=i-p/2,b=p>v?(p-v)/2:0;if(g<r){const e=Math.max(b+g-r,0);s.parentElement.style.right=`${e}px`}else if(o&&g>o-p){const e=o-p-g,t=Math.min(b-e,2*b);s.parentElement.style.right=`${t}px`}else s.parentElement.style.right=`${b}px`}),[]),y=(0,d.useCallback)((e=>{let{progress:t,mouseX:n,maxX:i,minX:o=0}=e;v.current={progress:t,mouseX:n,maxX:i,minX:o},f(t),C(v.current),g(t),b(t),w(v.current)}),[f,g,b,C,w]);return(0,d.useEffect)((()=>{o&&v.current?y(v.current):h.current=void 0}),[o,y]),{previewElement:p,updatePreview:y}})({getPreviewTile:c,isMetaInfoPreviewLoaded:u,isMobile:a,episodes:z}),$=(0,ke.m)((e=>{const{clientX:t}=e,{current:n}=T,i=t-n.containerLeft,o=Y(i);X({progress:o,mouseX:i,minX:a?10:0,maxX:n.containerWidth})})),Q=(0,d.useCallback)(((e,n,i)=>{0!==Z.length&&requestAnimationFrame((()=>{const o=n.current,r=Ve(Z,e),l=Z[o],a=Z[r];if(n.current=r,o>r)for(let e=o;e>r;e--){const t=Z[e],n=_.current[t.timeText][i].current;n&&(n.style.transform="scale(0, 1)")}else if(o<r)for(let e=o;e<r;e++){const t=Z[e],n=_.current[t.timeText][i].current;n&&(n.style.transform="scale(1, 1)")}const s=_.current[a.timeText][i].current;if(s){const n=a.timeStartInSeconds,i=e-n,o=Ae(Z,r,t);s.style.transform=`scale(${Math.min(i/o,1)}, 1)`}const c=_.current[a.timeText].main.current,u=_.current[l.timeText].main.current;c&&u&&"hovered"===i&&Z.length>1&&(u.classList.remove("_is-active"),c.classList.add("_is-active"))}))}),[t,Z]),q=(0,d.useCallback)((e=>{const{current:t}=T,{current:n}=y;if(!n&&!C)return;const{containerWidth:i}=t,o=Math.max(0,Math.min(i,e));n&&(n.style.transform=`translateX(${o+O}px)`);const r=(o+O)/t.secSize;Q(r,k,"progress"),t.progress=o}),[O,C,Q]),Y=(0,d.useCallback)((e=>{const{current:n}=T;return Math.min(t,Math.max(0,Math.floor(e*(t/n.containerWidth))))}),[t]),K=(0,ke.m)((e=>{(0,_e.Wg)(e);const t=e.touches&&e.touches[0]||e,{clientX:n}=t,{current:i}=T,{mouseX:o}=i;q(n-o),P&&F(!0),$(t)})),j=(0,d.useCallback)((e=>{const{current:t}=T;if(r){const n=W();t.seekLoading=0^n,e===De.Down?(D(n),r(n)):I!==n&&r(n,I,o.N9.Long)}}),[W,r,I]),G=(0,ke.m)((()=>{document.removeEventListener("touchmove",K,{capture:!0}),document.removeEventListener("touchend",G,{capture:!0}),document.removeEventListener("mousemove",K,{capture:!0}),document.removeEventListener("mouseup",G,{capture:!0}),j(De.Up),x(!1),F(!1),h&&h()})),J=(0,d.useCallback)((()=>{const{current:e}=S;if(!e)return;const{current:n}=T,{width:i,left:o}=e.getBoundingClientRect();n.containerWidth=i-2*O,n.containerLeft=o+O,n.secSize=i/t,N(n.secSize),requestAnimationFrame((()=>{Z.forEach(((e,i)=>{const o=(i<Z.length-1?Z[i+1].timeStartInSeconds:t)-e.timeStartInSeconds,{main:{current:r}}=_.current[e.timeText];r&&(r.style.width=n.secSize*o-(0===i?0:2)+"px")}))}))}),[O,Z,t]),ee=(e,t)=>n=>{n&&(_.current[e]||(_.current[e]={main:{current:n},hovered:{current:n},progress:{current:n}}),_.current[e][t].current=n)},te=(0,d.useCallback)((e=>{const t=e.touches&&e.touches[0]||e,{clientX:n}=t,{current:i}=T,o=n-i.containerLeft;i.mouseX=i.containerLeft,q(o),D(W()),v&&v(),j(De.Down),J(),document.addEventListener("touchmove",K,{capture:!0}),document.addEventListener("touchend",G,{capture:!0}),document.addEventListener("mousemove",K,{capture:!0}),document.addEventListener("mouseup",G,{capture:!0}),x(!0)}),[q,W,v,j,J,K,G]);(0,d.useEffect)((()=>{s||requestAnimationFrame((()=>{Z.forEach((e=>{const{main:{current:t}}=_.current[e.timeText];t&&(t.style.width="")}))}))}),[s,Z]);const ne=M&&!a;(0,d.useEffect)((()=>{p||m&&m(B||ne)}),[B,m,ne,p]);const ie=(0,d.useCallback)((()=>{const{current:e}=T;if(n===e.seekLoading&&(e.seekLoading=-1),P||-1!==e.seekLoading)return;e.duration=t;const i=n/(e.duration/e.containerWidth);q(0^i)}),[n,t,P,q]),oe=(0,ke.m)((e=>{let[t]=e;T.current.containerWidth=t.contentRect.width-2*O,J(),ie()}));return(0,Se.y)(S,oe),(0,Te.Z)((()=>{b||(J(),ie())})),(0,d.useEffect)((()=>{b||J()}),[J,b]),(0,d.useEffect)((()=>ie()),[ie]),(e=>{let{targetElementRef:t}=e;(0,d.useEffect)((()=>{const e=e=>{if(e.target===t.current)return e.preventDefault(),!1};return window.addEventListener("touchmove",e,{passive:!1}),window.addEventListener("touchstart",e,{passive:!1}),()=>{window.removeEventListener("touchmove",e),window.removeEventListener("touchstart",e)}}),[t])})({targetElementRef:S}),i.createElement("div",{className:He({isMobile:a,isDesktop:!a,isHovered:M,isSmall:"card-preview"===w}),draggable:!1},g?i.createElement("div",{className:He("preview",{isVisible:!p&&(B||ne)}),"data-testid":"timeline-preview-wrapper"},U):null,i.createElement("div",{className:He("wrapper-episodes")},i.createElement("div",{className:He("episodes",{isHovered:M&&!P,isActive:P})},Z.map(((e,t)=>i.createElement("div",{className:He("timeline-episode"),key:t,ref:ee(e.timeText,"main"),"aria-label":"Timeline episode"},i.createElement("div",{className:He("episode-hover-progress"),ref:ee(e.timeText,"hovered")}),i.createElement("div",{className:He("episode-progress"),ref:ee(e.timeText,"progress")})))))),(C&&(M||P)||!C)&&i.createElement("div",{draggable:!1,onDragStart:_e.PF,"data-testid":"timeline-cursor",className:He("cursor",{isActive:P}),ref:y}),b?null:i.createElement("div",{draggable:!1,className:He("clickable-zone",{isDisabled:b}),"data-testid":"timeline-clickable-zone","aria-label":Ie.timeline(H),ref:S,onMouseDown:te,onTouchStart:te,onMouseLeave:A,onMouseEnter:e=>{V(),J(),$(e)},onPointerMove:e=>{const{clientX:t}=e,{current:n}=T,i=t-n.containerLeft;!a&&n.progress<i&&n.containerWidth>i&&V();const o=(i+O)/n.secSize;Q(o,E,"hovered"),$(e)},onClick:e=>{f&&f(),(0,_e.Wg)(e)}}))};var Ze=n(58264);const We=(0,r.N)("video-timeline-controls"),Ue=e=>{const{currentTime:t,duration:n,onSeek:o,episodes:r,views:l,withTimeline:a,withDuration:s,withCurrentTime:c,withCountdown:u,isFullControls:m,isFullscreen:h,isDesktopPlayer:v,getPreviewTile:p,isMetaInfoPreviewLoaded:g,hasBackface:b,withTimelinePreview:f,isMobile:C}=e,w=!s&&!c&&a,y=0!==n?Math.max(0,Math.min(t,n)):t,E=(0,d.useMemo)((()=>l?i.createElement(i.Fragment,null,(0,Ze.v)(l),i.createElement("span",{className:We("separator")},"·")):void 0),[l]);return i.createElement("div",{className:We({isFullControls:m,isDesktopPlayer:v})},c&&i.createElement("div",{className:We("label",{hasBackface:b})},i.createElement(ye.N,{time:y})),a?i.createElement("div",{className:We("timeline",{isFullWidth:w})},i.createElement(ze,{episodes:r&&r.length>0?r:void 0,duration:n,isFullscreen:h,currentTime:y,onSeek:o,getPreviewTile:p,isMetaInfoPreviewLoaded:g,withTimelinePreview:f,isMobile:C})):null,s&&i.createElement("div",{className:We("label",{hasBackface:b})},E,i.createElement(ye.N,{time:n})),u&&i.createElement("div",{className:We("label",{hasBackface:b})},i.createElement(ye.N,{time:n-y})))},Xe=e=>{let{b:t,props:n,opts:o}=e;const{viewType:r,isFullscreen:l,onSeek:a,withTimeline:s,withDuration:c,withCurrentTime:u,withCountdown:d,isFullControls:m,getPreviewTile:h,episodes:v,duration:p,withTimelinePreview:g,isMobile:b,videoPlayerPublicApi:f}=n,{isDesktopPlayer:C}=o,{currentTime:w=0,isMetaInfoPreviewLoaded:y}=(0,S.U)(f,"currentTime","isMetaInfoPreviewLoaded");if(void 0===p)return null;const E=s||C;return i.createElement("div",{className:t("timeline",{isFullWidth:E})},i.createElement(Ue,{isDesktopPlayer:C,currentTime:w,duration:p,episodes:v,isFullscreen:l,onSeek:a,withTimeline:s,withDuration:c,withCurrentTime:u,withCountdown:d,isFullControls:m,hasBackface:"card-feed"===r,getPreviewTile:h,isMetaInfoPreviewLoaded:y,withTimelinePreview:g,isMobile:b}))};var $e=n(7765),Qe=n(98693),qe=n(27170);const Ye={autoSwitchTitle:{ru:"Автовоспроизведение",_context:""},autoSwitchSubtitle:{ru:"Следующего видео",_context:""}},Ke=((0,L.Wh)(Ye),(0,L.bN)(Ye)),je="video-context-menu-items__tumbler-UB",Ge=e=>{let{l10n:t,theme:n,onQualityClick:o,onPlaybackRateClick:r,onAutoSwitchNextVideoToggle:l,withAutoSwitchNextVideo:a,hasQualityList:s,currentVideoTrack:c,autoQualitySelected:u,hasPlaybackRates:m,currentPlaybackRate:h}=e;const v=(0,L.bU)(),p=c&&c.name?`${c.name} (${t("player.quality.auto")})`:t("player.quality.auto"),[g,b,f]=(0,Ee.zj)(Boolean(a)),C=(0,d.useCallback)((e=>{const t=e.target.checked;t?b():f(),null==l||l(t)}),[l,b,f]);return(0,d.useEffect)((()=>{a?b():f()}),[a,b,f]),i.createElement(i.Fragment,null,s?i.createElement($e.z,{autoClose:!1,onClick:o,icon:i.createElement(qe.y,{name:"starM",theme:n,size:"m"}),text:t("player.video-track-quality"),iconSize:"m",hint:u?p:c&&c.name,theme:n,hasNestedMenu:!0}):null,m?i.createElement($e.z,{autoClose:!1,onClick:r,icon:i.createElement(qe.y,{name:"speedM",theme:n,size:"m"}),text:t("player.playback-rate-long"),iconSize:"m",hint:h?`${h}×`:"",theme:n,hasNestedMenu:!0}):null,i.createElement($e.z,{autoClose:!1,alignItems:"center",icon:i.createElement(qe.y,{name:"playOutlinedCircleM",theme:n,size:"m"}),text:Ke.autoSwitchTitle(v),description:Ke.autoSwitchSubtitle(v),iconSize:"m",theme:n},i.createElement(Qe.U,{checked:g,onChange:C,className:je})))};var Je=n(72444);const et=(0,r.N)("video-context-menu-option"),tt=e=>{let{text:t,onClick:n,isCurrent:o,value:r}=e;const l=(0,d.useCallback)((()=>{n(r)}),[r,n]);return i.createElement(Je.Zo,{autoClose:!0,onClick:l},i.createElement(Je.XU,{text:t}),o&&i.createElement(qe.y,{className:et("icon"),name:"checkM",size:"m"}))},nt=e=>{let{l10n:t,setVideoTrack:n,videoTracks:o,currentVideoTrack:r,autoQualitySelected:l,onQualityChange:a,getCurrentTime:s}=e;const c=(0,d.useCallback)((e=>{n&&n(e);const t=(o||[]).find((t=>t.value===e)),i=t?t.name:"auto",l=`${null==r?void 0:r.name}${null!=r&&r.auto?":auto":""}`;a&&a({from:l,to:i,time:String(s())})}),[n,o,null==r?void 0:r.name,null==r?void 0:r.auto,s,a]),u=t("player.quality.auto")+(l&&null!=r&&r.auto?` (${r.name})`:"");return o?i.createElement(i.Fragment,null,i.createElement(tt,{key:"auto",onClick:c,text:u,value:"auto",isCurrent:l}),o.map((e=>i.createElement(tt,{key:e.name,onClick:c,text:e.name,value:e.value,isCurrent:!l&&r&&r.value===e.value&&!r.auto})))):null};var it=n(63109),ot=n(72530);const rt=e=>{let{l10n:t,playbackRates:n,currentPlaybackRate:o,setPlaybackRate:r,onSpeedChange:l,getCurrentTime:a}=e;const s=(0,d.useCallback)((e=>{r&&r(Number(e)),l&&l({from:String(o),to:e,time:String(a())})}),[a,o,l,r]);return n?i.createElement(i.Fragment,null,n.map((e=>i.createElement(tt,{key:e,onClick:s,text:e===ot.mw?t("player.normal-rate"):e.toString(),value:e.toString(),isCurrent:e===o})))):null};var lt,at=n(995);!function(e){e[e.quality=0]="quality",e[e.rate=1]="rate"}(lt||(lt={}));const st=(0,d.memo)((e=>{let{l10n:t,videoPlayerPublicApi:n,targetRef:o,onContextMenuToggle:r,onReport:l,onQualityChange:a,onSpeedChange:s,onAutoSwitchNextVideoToggle:c,pageTheme:u,isBodyScrollEnabled:m,videoQuality:h,withAutoSwitchNextVideo:v,renderTrigger:p}=e;const[g,b]=(0,d.useState)(null),f=(0,d.useRef)(),{setVideoTrack:C,openReportWindow:w,setPlaybackRate:y}=n,E=(0,d.useCallback)((e=>{f.current&&(b(e),f.current.openNestedMenu())}),[]),k=(0,d.useCallback)((()=>{E(lt.quality)}),[E]),_=(0,d.useCallback)((()=>{E(lt.rate)}),[E]),T=(0,d.useCallback)((()=>{w(),l&&l()}),[l,w]),{currentVideoTrack:P,videoTracks:x,currentPlaybackRate:R,playbackRates:N}=(0,S.U)(n,"currentVideoTrack","videoTracks","currentPlaybackRate","playbackRates"),{getCurrentTime:M}=n,L=(x||[]).find((e=>e.name===h)),V="auto"===h||!h||!L,A=(0,at.M)(x),B=N&&N.length>0,F=(0,d.useCallback)((e=>(f.current=e,i.createElement(Ge,{l10n:t,theme:u,onQualityClick:k,onReportClick:T,currentVideoTrack:P,hasQualityList:A,autoQualitySelected:V,hasPlaybackRates:B,currentPlaybackRate:R,onPlaybackRateClick:_,withAutoSwitchNextVideo:v,onAutoSwitchNextVideoToggle:c}))),[t,u,k,T,P,A,V,B,R,v,_,c]),I=(0,d.useCallback)((()=>g===lt.quality?i.createElement(nt,{l10n:t,setVideoTrack:C,currentVideoTrack:P,videoTracks:x,autoQualitySelected:V,onQualityChange:a,getCurrentTime:M}):g===lt.rate?i.createElement(rt,{l10n:t,playbackRates:N,currentPlaybackRate:R,setPlaybackRate:y,onSpeedChange:s,getCurrentTime:M}):null),[g,t,C,P,x,V,a,M,N,R,y,s]);return A||B||w?i.createElement(it.T,{renderParentMenu:F,renderNestedMenu:I,renderTrigger:p,theme:u,isBodyScrollEnabled:m,targetRef:o,onContextMenuToggle:r}):null})),ct={settingsMenuLabel:{ru:"Меню настроек",_context:""},ratingMenuLabel:{ru:"Опыт видеопросмотра",_context:""}},ut=((0,L.Wh)(ct),(0,L.bN)(ct)),dt=(0,r.N)("video-context-menu-trigger"),mt=e=>{let{onClick:t}=e;const n=(0,L.bU)();return i.createElement("div",{onClick:t,className:dt(),"aria-label":ut.settingsMenuLabel(n)},i.createElement(qe.y,{name:"settingsM",size:"m"}))},ht=e=>{let{toggle:t}=e;return i.createElement(mt,{onClick:t})},vt=e=>{let{b:t,props:n}=e;const{l10n:o,isMobile:r,videoPlayerPublicApi:l,containerRef:a,isFullscreen:s,onContextMenuToggle:c,onReport:u,onSpeedChange:d,onQualityChange:m,onAutoSwitchNextVideoToggle:h,pageTheme:v,isBodyScrollEnabled:p,videoQuality:g,withAutoSwitchNextVideo:b}=n;return i.createElement("div",{className:t("settings",{isMobile:r})},i.createElement(st,{l10n:o,videoPlayerPublicApi:l,targetRef:s?a:void 0,onContextMenuToggle:c,onReport:u,onSpeedChange:d,onQualityChange:m,onAutoSwitchNextVideoToggle:h,pageTheme:v,isBodyScrollEnabled:p,videoQuality:g,withAutoSwitchNextVideo:b,renderTrigger:ht}))};var pt=n(86358),gt=n(80635),bt=n(29438),ft=n(2763);let Ct=new(p())({id:"settings_95aa--inline",use:"settings_95aa--inline-usage",viewBox:"0 0 20 18",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 18" id="settings_95aa--inline"><path d="M13 8c-1.8638 0-3.42994-1.27477-3.87398-3H1c-.552284 0-1-.44772-1-1s.447715-1 1-1h8.12602C9.57006 1.27477 11.1362 0 13 0s3.4299 1.27477 3.874 3H19c.5523 0 1 .44772 1 1s-.4477 1-1 1h-2.126C16.4299 6.72523 14.8638 8 13 8zM1 13c-.552285 0-1 .4477-1 1s.447716 1 1 1h2.12602C3.57006 16.7252 5.13616 18 7 18c1.86384 0 3.4299-1.2748 3.874-3H19c.5523 0 1-.4477 1-1s-.4477-1-1-1h-8.126c-.4441-1.7252-2.01016-3-3.874-3-1.86384 0-3.42994 1.2748-3.87398 3H1zm12-7c1.1046 0 2-.89543 2-2s-.8954-2-2-2-2 .89543-2 2 .8954 2 2 2zm-4 8c0 1.1046-.89543 2-2 2s-2-.8954-2-2 .89543-2 2-2 2 .8954 2 2z" fill="currentColor" /></symbol>'});const wt=(0,f.Z)(b(),Ct);let yt=new(p())({id:"arrow-right-white_79d6--inline",use:"arrow-right-white_79d6--inline-usage",viewBox:"0 0 8 12",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 12" id="arrow-right-white_79d6--inline"><path d="M1.5 11l5-5-5-5" stroke="#fff" stroke-opacity=".8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});const Et=(0,f.Z)(b(),yt);let kt=new(p())({id:"current-white_2673--inline",use:"current-white_2673--inline-usage",viewBox:"0 0 12 10",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 10" id="current-white_2673--inline"><path d="M1 5.77L4 9l7-8" stroke="#fff" stroke-opacity=".8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});const _t=(0,f.Z)(b(),kt);let Tt,St;!function(e){e.Quality="Quality",e.Rate="Rate",e.Report="Report"}(Tt||(Tt={})),function(e){e.List="List",e.ListItem="ListItem",e.Link="Link"}(St||(St={}));const Pt=(0,r.N)("video-controls-settings"),xt=e=>{let{forwardRef:t,onClick:n,isOpen:o,isDisable:r,l10n:l}=e;const a=(0,d.useCallback)((()=>{r||n()}),[n,r]);return i.createElement("button",{ref:t,className:Pt("button",{isOpen:o,isDisable:r}),onClick:a,"aria-label":l("video-viewer.video-settings"),"aria-expanded":Boolean(o)},i.createElement(pt.P,{symbol:wt,className:Pt("button-icon")}))},Rt=e=>{let{path:t,name:n,value:o,onClick:r}=e;const{close:l}=(0,Je.av)(),a=(0,d.useCallback)((()=>{r(t)}),[r,t]);return i.createElement(Je.Zo,{className:Pt("list"),onClick:a,autoClose:!1,close:l,"aria-label":`${n} - ${o}`,"aria-expanded":!1},i.createElement(Je.XU,{className:Pt("list-text-container"),text:n,textClassName:Pt("list-text"),description:o,descriptionClassName:Pt("list-description")}),i.createElement(Je.RQ,{className:Pt("list-icon-container")},i.createElement(pt.P,{symbol:Et,className:Pt("list-icon")})))},Nt=e=>{let{name:t,value:n,isCurrent:o,onClick:r,onClose:l}=e;const{close:a}=(0,Je.av)(),s=(0,d.useCallback)((()=>{r&&r(n),l&&l()}),[r,l,n]);return i.createElement(Je.Zo,{className:Pt("list-item"),onClick:s,autoClose:!1,close:a,"aria-current":o},o?i.createElement(Je.RQ,{className:Pt("list-item-icon-container")},i.createElement(pt.P,{symbol:_t,className:Pt("list-item-current-icon")})):null,i.createElement(Je.XU,{className:Pt("list-item-text-container"),text:t,textClassName:Pt("list-item-text")}))},Mt=e=>{let{name:t,onClick:n,l10n:o}=e;const{close:r}=(0,Je.av)();return i.createElement(Je.Zo,{className:Pt("backward"),onClick:n,close:r,autoClose:!1,"aria-label":`${o("video-viewer.exit-from")} ${o("video-viewer.playback-quality-menu")}`},i.createElement(Je.RQ,{className:Pt("backward-icon-container")},i.createElement(pt.P,{symbol:Et,className:Pt("backward-icon")})),i.createElement(Je.XU,{className:Pt("backward-text-container"),text:t,textClassName:Pt("backward-text")}))},Lt=e=>{let{name:t,value:n,onClick:o,onClose:r}=e;const{close:l}=(0,Je.av)(),a=(0,d.useCallback)((()=>{o&&o(n),r&&r()}),[o,r,n]);return i.createElement(Je.Zo,{className:Pt("link"),onClick:a,autoClose:!1,close:l,"aria-label":t},i.createElement(Je.XU,{className:Pt("link-text-container"),text:t,textClassName:Pt("link-text")}))},Vt={x:"right",y:"top",shifts:{top:8},shouldOverlap:{x:!0,y:!1}},At=e=>e.itemType===St.List,Bt=(e,t)=>{const n=e[t];return At(n)?n.values.slice():[n]},Ft=(0,d.memo)((e=>{let{items:t=[],onOpen:n,onClose:o,l10n:r}=e;const l=(0,d.useRef)(null),a=(0,d.useRef)(null),s=(0,d.useRef)(null),c=(0,d.useRef)(),[u,m]=(0,d.useState)([]),[h,v]=(0,d.useState)(!1),p=(0,d.useCallback)((e=>{m(u.concat([e]))}),[u]),g=(0,d.useCallback)((()=>{m(u.slice(0,-1))}),[u]),b=(0,d.useMemo)((()=>u.reduce(Bt,t)),[t,u]),f=(0,d.useMemo)((()=>u.slice(0,-1).reduce(Bt,t)[u.slice(-1)[0]]),[t,u]),C=(0,d.useCallback)((()=>{const e=null==c?void 0:c.current;"function"==typeof e&&(m([]),e())}),[]);(0,gt.Z)(l,C),(0,bt.P)({isEnable:h,containerRef:l,shouldMutationObserve:!0}),(0,ft.e)({isEnable:h,containerRef:a,resetRef:s,deps:u});const w=(0,d.useCallback)((e=>{let{containerRef:t,toggle:n,isOpen:o,close:l}=e;return c.current=l,v(o),i.createElement(xt,{isDisable:Boolean(!b.length),onClick:n,isOpen:o,forwardRef:t,l10n:r})}),[r,b]),y=(0,d.useCallback)((()=>i.createElement(Je.xV,{forwardRef:a,className:Pt("menu"),palette:Je.YI.night},f&&At(f)?i.createElement(i.Fragment,null,i.createElement(Mt,{name:f.name,onClick:g,l10n:r}),i.createElement(Je.JJ,{className:Pt("divider")})):null,b.map(((e,t)=>{var n,o;return At(e)?i.createElement(Rt,{key:e.name,path:t,name:e.name,value:null==(n=e.current)?void 0:n.name,onClick:p}):(e=>e.itemType===St.ListItem)(e)?i.createElement(Nt,{key:e.name,name:e.name,value:e.value,onClick:e.onClick,isCurrent:f&&At(f)&&e.value===(null==(o=f.current)?void 0:o.value),onClose:C}):(e=>e.itemType===St.Link)(e)?i.createElement(Lt,{key:e.name,name:e.name,onClick:e.onClick,onClose:C}):null})))),[f,g,b,p,C,r]);return i.createElement("div",{ref:l,className:Pt()},i.createElement(Je.np,{onOpen:n,onClose:o,position:Vt,shouldCloseOnOuterClick:!1,renderTrigger:w,containerRef:s},b.length?y():null))})),It=(e,t)=>({itemType:St.ListItem,settingsType:Tt.Rate,name:e.name,value:e.value,onClick:t}),Dt=(e,t)=>e.map((e=>It(e,t))),Ot=(e,t,n)=>({itemType:St.ListItem,settingsType:Tt.Rate,name:e===ot.mw?t:e.toString(),value:e.toString(),onClick:e=>{n&&e&&n(Number(e))}}),Ht=(e,t,n)=>e.map((e=>Ot(e,t,n))),zt=(0,d.memo)((e=>{let{videoPlayerPublicApi:t,onOpen:n,onClose:o,onVideoPlaybackRateChange:r,l10n:l}=e;const{currentPlaybackRate:a,playbackRates:s,currentVideoTrack:c,videoTracks:u}=(0,S.U)(t,"currentPlaybackRate","playbackRates","currentVideoTrack","videoTracks"),{setPlaybackRate:m,setVideoTrack:h,openReportWindow:v}=t,p=(0,d.useCallback)((e=>{m(Number(e)),r&&r(Number(e))}),[m,r]),g=(0,d.useMemo)((()=>{const e=[];if(u&&u.length>1&&c&&h&&e.push({settingsType:Tt.Quality,itemType:St.List,name:l("player.video-track-quality"),values:Dt(u,h),current:It(c)}),s&&s.length>1&&a){const t=l("player.normal-rate");e.push({settingsType:Tt.Rate,itemType:St.List,name:l("player.playback-rate"),values:Ht(s,t,p),current:Ot(a,t)})}return v&&e.push({itemType:St.Link,settingsType:Tt.Report,name:l("player.report-problem"),onClick:v}),e}),[s,a,p,u,c,h,l,v]);return i.createElement(Ft,{items:g,onOpen:n,onClose:o,l10n:l})})),Zt=e=>{let{b:t,props:n}=e;const{l10n:o,videoPlayerPublicApi:r,onControlsLock:l,onControlsRelease:a,onVideoPlaybackRateChange:s}=n;return i.createElement("div",{className:t("settings")},i.createElement(zt,{videoPlayerPublicApi:r,onOpen:l,onClose:a,onVideoPlaybackRateChange:s,l10n:o}))},Wt=(0,r.N)("card-video-badges"),Ut=(0,d.memo)((e=>{var t;let{badges:n}=e;const o=null==(t=n[0])?void 0:t.text;return i.createElement("div",{className:Wt()},o)})),Xt=e=>{let{b:t,props:n}=e;const{badges:o}=n;return o?i.createElement("div",{className:t("badges")},i.createElement(Ut,{badges:o})):null};var $t=n(916);const Qt=e=>{let{b:t,props:n,opts:o}=e;const{l10n:r,isMuted:l,onMuteToggle:a,withSound:s}=n,{canShowMuteToggle:c}=o;return c?i.createElement("div",{className:t("mute-toggle")},i.createElement($t.T,{l10n:r,isMuted:l,onToggle:a,withSound:s,isLabelVisibleInitial:!1})):null},qt=fe("sound-redesign",{default:be(Qt,{}),on:be(Qt,{isMuted:!0}),off:be(Qt,{isMuted:!1})});var Yt=n(42609);const Kt=e=>{let{b:t,props:n,opts:o}=e;const{l10n:r,videoPlayerPublicApi:l}=n,{nextAdRemainingTime:a}=(0,S.U)(l,"nextAdRemainingTime"),s=Boolean(a&&a<=5),{isNextAdCountdownOverFooter:c,isNextAdCountdownRightAlign:u}=o;return void 0===a?null:i.createElement("div",{className:t("ad-remaining-timer",{isOverFooter:c,isVisible:s,isRightAlign:u})},s&&(0,Yt.Z)(r("player.next-ad-countdown"),{remainingTime:a}))},jt=e=>{let{b:t,props:n}=e;const{bufferingSpinnerDelayVisible:r,playerState:l}=n;return l===o.de.Buffering?i.createElement(N.U,{wait:r},i.createElement("div",{className:t("minimal-buffering")},i.createElement(M.Q,{isActive:!0,size:18}))):null};var Gt=n(10749),Jt=n(25981);const en=(0,r.N)("short-video-branding"),tn=e=>{let{className:t,theme:n,size:o="s",hideTitle:r,l10n:l}=e;return i.createElement("div",{className:(0,V.C)(en({theme:n}),t)},i.createElement(k.l,{icon:Jt.Z,size:o}),!r&&i.createElement("span",{className:en("title")},l("common.short_video")))},nn=e=>{let{b:t,props:n}=e;const{l10n:o,isMobile:r,isVisibleState:l}=n;return i.createElement(tn,{className:t("short-video-branding",{isVisible:l}),size:36,theme:Gt.DD.black,hideTitle:r,l10n:o})},on=e=>{let{b:t,props:n,opts:o}=e;const{l10n:r,isVisibleState:l,stateBlockRef:a,bufferingSpinnerDelayVisible:s,playerState:c,isDisableState:u,isFreezeAnimations:d,withPlayControlWhenEnded:m,onPlay:h,onPause:v,onReplayTimeout:p,onReplayClick:g,onErrorClick:b,withBackground:f,withReplay:C}=n,{isDesktopPlayer:w,hasVideoState:y}=o;return i.createElement("div",{className:t("state",{isVisible:l}),ref:a},y&&i.createElement(G,{l10n:r,tabIndex:u?-1:1,state:c,onPlay:h,onPause:v,onReplayByTimeout:p,onReplayByUser:g,isFreezeAnimations:Boolean(d),withBackground:f,withCountDownReplay:C,onErrorClick:b,isDesktopPlayer:w,bufferingSpinnerDelayVisible:s,withPlayControlWhenEnded:m}))},rn=fe("play-control",{default:be(on,{}),on:be(on,{playerState:o.de.Paused}),off:be(on,{playerState:o.de.Playing})}),ln=(e,t)=>{let{videoWidth:n,videoHeight:i}=e;const[o,r]=(0,d.useState)(0),[l,a]=(0,d.useState)(0),s=(0,d.useCallback)((()=>{const e=window.screen.width,t=window.screen.height;if(((e,t,n,i)=>{const o=n/i,r=e/t;return!(n<1||i<1||o!==r&&(o<=.8?r>=1.6:!(o>.8&&o<=1.5)&&(o>1.5&&o<1.7?r<=4/3&&r>=5/4:o>=1.7&&o<1.8?r<=1.5&&r>=5/4:o>=1.8&&o<2?r<1.6:!(o>=2&&r>=2.35))))})(e,t,n,i)){const{verticalPx:o,horizontalPx:l}=((e,t,n,i)=>{const o=n/i,r=Math.floor((t-e/o)/2),l=Math.floor((e-t*o)/2);return{verticalPx:r>0?r:0,horizontalPx:l>0?l:0}})(e,t,n,i);r(o),a(l)}else r(0),a(0)}),[n,i]);return(0,Se.y)(t,s),{horizontalOffset:l,verticalOffset:o}},an=e=>{let{b:t,props:n,opts:o}=e;const{renderHeader:r,containerRef:l,videoPlayerPublicApi:a}=n,{closeFullscreen:s}=o,{currentVideoTrack:c}=(0,S.U)(a,"currentVideoTrack"),u=(null==c?void 0:c.width)||0,d=(null==c?void 0:c.height)||0,{verticalOffset:m,horizontalOffset:h}=ln({videoWidth:u,videoHeight:d},l||{current:null});return i.createElement("div",{style:{paddingTop:m,paddingLeft:h}},i.createElement("div",{className:t("header-full")},r?r(l,s):null))},sn=function(e,t,n){void 0===n&&(n=!0);const i=(0,d.useRef)(),o=(0,d.useCallback)((()=>{i.current&&(window.clearTimeout(i.current),i.current=void 0)}),[]),r=(0,d.useCallback)((()=>{window.clearTimeout(i.current),i.current=window.setTimeout(e,t)}),[e,t]);return(0,d.useEffect)((()=>(n&&r(),()=>{window.clearTimeout(i.current)})),[r,n]),{startTimer:r,resetTimer:o}};var cn=n(71300),un=n(33108);const dn="luring-watch-with-sound__container-3W",mn=e=>{let{isMuted:t,l10n:n,withAnimation:o=!0,isMobile:r,onAnimationEnd:l,delaySec:a,durationSec:s}=e;const{isHovered:c,onMouseEnter:u,onMouseLeave:m}=(0,cn.C)(),h=((e,t,n,i)=>{const[o,r,l]=(0,Ee.zj)(!1),a=(0,d.useCallback)((()=>{l(),i&&i()}),[i,l]);return sn(r,t,e),sn(a,t+n,e),o})(t,a,s,l);return i.createElement("div",{className:dn,onMouseEnter:u,onMouseLeave:m},i.createElement(un.D,{animationType:"slide-with-icon",isVisible:h&&o,text:n("common.luring-into-video-modal.sound-short"),isHovered:c,isMobile:r}))},hn=e=>{let{b:t,props:n}=e;const{isMuted:o,isMobile:r,l10n:l,onMuteToggle:a,isVideoPlaying:s,onControlsToggle:c,onUnmuteLuringWatchWihSound:u,isVisibleControls:m,onAnimationEndLuringWatchWihSound:h,withAnimationLuringWatchWihSound:v,videoPlayerPublicApi:p,withLuringWatchWithSound:g,canUnmuteAfterClick:b}=n,f=(0,d.useRef)(!0),[C,w]=(0,d.useState)(!1),{currentTime:y=0}=(0,S.U)(p,"currentTime"),E=y>0&&s;(0,d.useEffect)((()=>{E?(f.current&&!o&&(f.current=!1,u&&u()),w(f.current&&(o||Boolean(b)))):w(!1)}),[E,o,u,b]);const k=(0,d.useCallback)((e=>{f.current=!1,c&&c(e),a&&a(!1),u&&u()}),[a,c,u]);if(!g)return null;const _=r?1500:300;return i.createElement("div",{className:t("luring-watch-with-sound-control",{isVisible:C,isMobile:r,isVisibleControls:m}),onClick:k},i.createElement(mn,{l10n:l,isMuted:C,onAnimationEnd:h,withAnimation:v,isMobile:r,delaySec:_,durationSec:5e3}))};var vn=n(93949),pn=n(28681);const gn=["shifts"],bn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{const{b:n}=e;return i.createElement(i.Fragment,null,t.map(((t,o)=>{let{shifts:r}=t,l=(0,vn.Z)(t,gn);return i.createElement(pn.Y,{className:n("cover"),shifts:r,key:o,full:l.full?i.createElement(l.full,e):null,fullTop:l.fullTop?i.createElement(l.fullTop,e):null,fullBottom:l.fullBottom?i.createElement(l.fullBottom,e):null,leftTop:l.leftTop?i.createElement(l.leftTop,e):null,rightTop:l.rightTop?i.createElement(l.rightTop,e):null,leftBottom:l.leftBottom?i.createElement(l.leftBottom,e):null,rightBottom:l.rightBottom?i.createElement(l.rightBottom,e):null,top:l.top?i.createElement(l.top,e):null,right:l.right?i.createElement(l.right,e):null,bottom:l.bottom?i.createElement(l.bottom,e):null,left:l.left?i.createElement(l.left,e):null,center:l.center?i.createElement(l.center,e):null})})))}},fn=e=>{let{b:t,props:n}=e;const{customHeader:o}=n;return o?i.createElement("div",{className:t("custom-header")},o):null},Cn={videoCurrentTime:{ru:"Текущее время видео",_context:""},videoDurationTime:{ru:"Общая длительность видео",_context:""}},wn=((0,L.Wh)(Cn),(0,L.bN)(Cn)),yn=e=>{let{b:t,props:n}=e;const{duration:o,videoPlayerPublicApi:r,isVisibleTime:l=!0}=n,a=(0,L.bU)(),{currentTime:s=0}=(0,S.U)(r,"currentTime"),c=o&&0!==o?Math.max(0,Math.min(s,o)):s;return l?i.createElement("div",{className:t("time")},i.createElement(ye.N,{time:c,"aria-label":wn.videoCurrentTime(a)}),o?i.createElement(i.Fragment,null,i.createElement("span",{className:t("time-slice")},"/"),i.createElement(ye.N,{className:t("time-transparent"),time:o,"aria-label":wn.videoDurationTime(a)})):null):null},En=e=>{let{b:t,props:n}=e;const{episodes:o,videoPlayerPublicApi:r}=n,{currentTime:l=0}=(0,S.U)(r,"currentTime"),a=(0,d.useMemo)((()=>{if(!o)return null;const e=Ve(o,l);return o[e]}),[o,l]),[s,c]=(0,d.useState)(!1),u=(0,d.useRef)(null),h=(0,d.useCallback)((()=>{if(!u.current)return;const{clientWidth:e,scrollWidth:t}=u.current;c(e<118&&e<t)}),[c]),v=(0,d.useCallback)((e=>{e&&(u.current=e,h())}),[h]),p=(0,m.z)(h,100);return(0,d.useEffect)((()=>(window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p)})),[p]),o&&null!=a&&a.name?i.createElement("div",{className:t("episode-label",{isHidden:s}),title:a.name,ref:v},a.name):null};var kn=n(69070);let _n=new(p())({id:"star_filled_half_792e--inline",use:"star_filled_half_792e--inline-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="star_filled_half_792e--inline"><path fill="currentColor" fill-rule="evenodd" d="M12.927 1.563c-.35-.813-1.503-.813-1.853 0L8.477 7.59l-6.535.606C1.06 8.28.704 9.376 1.369 9.96l4.93 4.332-1.442 6.403c-.194.863.738 1.54 1.5 1.09L12 18.432l5.644 3.35c.76.453 1.694-.225 1.499-1.088L17.7 14.292l4.93-4.332c.666-.584.31-1.68-.572-1.763l-6.535-.606-2.596-6.028ZM12 16.27V4.468l1.919 4.454a1.008 1.008 0 0 0 .833.605l4.83.45-3.644 3.2c-.278.243-.4.62-.32.98l1.067 4.731-4.17-2.476A1.002 1.002 0 0 0 12 16.27Z" clip-rule="evenodd" /></symbol>'});const Tn=(0,f.Z)(b(),_n),Sn=(0,r.N)("video-context-menu-trigger"),Pn=e=>{let{onClick:t}=e;const n=(0,L.bU)();return i.createElement("button",{onClick:t,className:Sn(),"aria-label":ut.ratingMenuLabel(n)},i.createElement(k.l,{display:"inline",icon:Tn,size:"s"}))},xn=e=>{let{toggle:t}=e;return i.createElement(Pn,{onClick:t})},Rn=e=>{let{b:t,props:n}=e;const{isMobile:o,videoPlayerPublicApi:r,containerRef:l,isFullscreen:a,onContextMenuToggle:s,pageTheme:c,isBodyScrollEnabled:u,videoQualitySurvey:m}=n,h=(0,d.useRef)(),v=(0,d.useCallback)((e=>(h.current=e,i.createElement(kn.a,{videoQualitySurvey:m,sendRatingLog:r.sendRatingLog,close:h.current.closeMenu}))),[m,r.sendRatingLog]);return i.createElement("div",{className:t("rating",{isMobile:o})},m.isEnabled?i.createElement(it.T,{renderParentMenu:v,renderTrigger:xn,theme:c,isBodyScrollEnabled:u,targetRef:a?l:void 0,onContextMenuToggle:s}):null)};let Nn=new(p())({id:"playback-forward_0f13--inline",use:"playback-forward_0f13--inline-usage",viewBox:"0 0 17 20",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 20" id="playback-forward_0f13--inline"><path d="M.399902 2.2953c0-1.02935 1.105798-1.680009 2.005618-1.18011L13.9999 7.5565V2.35142c0-.74558.6044-1.35 1.35-1.35h.3c.7456 0 1.35.60442 1.35 1.35V17.6514c0 .7456-.6044 1.35-1.35 1.35h-.3c-.7456 0-1.35-.6044-1.35-1.35v-5.206L2.40552 18.8867c-.89982.4999-2.005618-.1507-2.005618-1.1801V2.2953z" fill="currentColor" /></symbol>'});const Mn=(0,f.Z)(b(),Nn),Ln=e=>{let{name:t,getRenderOptions:n,playerStateMap:o}=e;const r=e=>{const{b:r,props:l}=e,{isVisibleControls:a,videoPlayerPublicApi:s}=l,u=(0,S.U)(s,...o||[]),{icon:d,size:m,label:h,text:v,onClick:p,shouldRender:g,withFade:b,fillOpacity:f,onHovered:C}=n(e,u),w=!0!==b||a,{pressRef:y,isPressed:E}=(0,c.P)();return void 0===g||g?i.createElement("div",{className:r(t,{isVisible:w,isPressed:E}),onMouseLeave:()=>{null==C||C(!1)},onMouseEnter:()=>{null==C||C(!0)}},i.createElement("button",{ref:y,onClick:p,className:r(`${t}-button`),"aria-label":h},i.createElement(k.l,{className:r(`${t}-icon`),display:"inline",icon:d,size:m,fillOpacity:f}),v&&i.createElement("span",{className:r(`${t}-text`)},v))):null};return r.id=t,r},Vn=Ln({name:"previous",getRenderOptions:e=>{let{props:t}=e;return{withFade:!0,icon:Mn,size:20,onClick:t.onPlayPrev,fillOpacity:t.onPlayPrev?"1":"0.27"}}}),An=Ln({name:"forward",getRenderOptions:e=>{let{props:t}=e;return{withFade:!0,icon:Mn,size:20,shouldRender:Boolean(t.isForwardVideoButtonEnabled),onClick:t.onPlayNext,fillOpacity:t.onPlayNext?"1":"0.27",label:t.l10n("desktop.next_video")}}}),Bn=e=>{let{b:t,props:n,opts:o}=e;const{isFullscreen:r,onSeek:l,getPreviewTile:a,onControlsLock:s,onControlsRelease:c,duration:u,withTimelinePreview:d,episodes:m,isMobile:h,videoPlayerPublicApi:v,isInlineInit:p,onTimelinePointerUp:g,onTimelinePointerDown:b,handleTimelineClick:f,showCursorOnlyOnHover:C,viewType:w}=n,{setIsPreviewVisible:y,activePopup:E}=o,{currentTime:k=0,isMetaInfoPreviewLoaded:_}=(0,S.U)(v,"currentTime","isMetaInfoPreviewLoaded");if(void 0===u)return null;const T=0!==u?Math.max(0,Math.min(k,u)):k;return i.createElement("div",{className:t("timeline",{isFullWidth:!0}),onPointerEnter:s,onPointerLeave:c},i.createElement(ze,{episodes:m&&m.length>0?m:void 0,duration:u,isFullscreen:r,currentTime:T,onSeek:l,getPreviewTile:a,isMetaInfoPreviewLoaded:_,onPreviewVisibleChange:y,activePopup:E,withTimelinePreview:d,isMobile:h,isDisabled:p,onTimelinePointerUp:g,onTimelinePointerDown:b,handleTimelineClick:f,showCursorOnlyOnHover:C,viewType:w}))},Fn=e=>function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return t=>{const{b:o}=t;return i.createElement("div",{className:o("composer",{name:e})},n.map(((e,n)=>i.createElement("div",{key:n,className:o("composer-item")},i.createElement(e,t)))))}};var In=n(74642);const Dn=Fn("seekbar"),On=Fn("area"),Hn=(zn="area-combined",(e,t)=>n=>{const{b:o}=n;return i.createElement("div",{className:o("composer",{name:zn})},e.map(((t,r)=>i.createElement("div",{key:r,className:o("composer-item",{left:!0,lastLeft:r===e.length-1})},i.createElement(t,(0,In.Z)({},n,{key:r}))))),t.map(((t,r)=>i.createElement("div",{key:e.length+r,className:o("composer-item",{right:!0})},i.createElement(t,(0,In.Z)({},n,{key:r}))))))});var zn;const Zn=Fn("state"),Wn=bn({fullTop:fn},{full:hn},{shifts:12,leftTop:Kt,fullBottom:Hn([qt,yn,En],[Rn,vt,u]),center:Zn(Vn,rn,An)},{fullBottom:Dn(Bn)}),Un=bn({fullTop:fn},{shifts:{leftRight:12,bottom:66,top:72},leftTop:Kt,fullBottom:Hn([qt,yn,En],[Rn,vt,u]),center:Zn(Vn,rn,An)},{shifts:{leftRight:20,bottom:46},fullBottom:Dn(Bn)},{shifts:{left:20,right:12,top:26},fullTop:an});let Xn=new(p())({id:"playback-forward-m_521e--inline",use:"playback-forward-m_521e--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" id="playback-forward-m_521e--inline">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M3.40002 4.29481C3.40002 3.26546 4.50583 2.6148 5.40564 3.1147L17 9.55601V4.35094C17 3.60535 17.6044 3.00094 18.35 3.00094H18.65C19.3956 3.00094 20 3.60535 20 4.35094V19.6509C20 20.3965 19.3956 21.0009 18.65 21.0009H18.35C17.6044 21.0009 17 20.3965 17 19.6509V14.4449L5.40564 20.8862C4.50583 21.3861 3.40002 20.7355 3.40002 19.7061V4.29481Z" />\n</symbol>'});const $n=(0,f.Z)(b(),Xn);n(13311);var Qn=n(69739),qn=n(17486),Yn=n(12758);const Kn=(0,r.N)("video-controls-popup"),jn={y:"top",shifts:{top:20},shouldOverlap:{x:!0,y:!1}},Gn=(0,d.memo)((e=>{let{content:t,trigger:n,isOpen:o,positionX:r,flipContainerRef:l,onOpen:a,onClose:s,isOpenByClick:c,isCloseByMouseLeave:u=!0,size:m,videoSkinRedesignDesktopRevision:h}=e;const v=(0,d.useMemo)((()=>(0,Qn.r)(Object.assign({},jn,{x:r,flipContainerRef:l,shouldResize:!0,resizeOffset:10}))),[r,l]),p=(0,d.useCallback)(((e,t)=>v(e,t)),[v]),g=(0,qn.F)(s,h?250:500),b=(0,d.useCallback)((()=>{o?s():(g.cancel(),a())}),[g,o,s,a]),f=(0,d.useCallback)((()=>{g.cancel(),a()}),[g,a]),C=(0,qn.F)(f,150),w=(0,d.useRef)(null),y=(0,d.useCallback)((()=>w.current),[]);return n?i.createElement("div",{className:Kn({isOpen:o,isRevision:!0}),onMouseEnter:h&&!c?C:c?g.cancel:f,onClick:c?b:void 0,onMouseLeave:h&&c||!u?void 0:h?()=>{g(),C.cancel()}:g,ref:w},n,t&&i.createElement(Yn.G,{shouldCloseOnScroll:!1,shouldDocumentCloseOnScroll:!1,getPosition:p,className:Kn("popup",{positionX:r,size:m}),isOpen:o,getTriggerElem:y,close:s,shouldCloseOnOuterClick:!0},i.createElement("div",{className:Kn("content")},t))):null}));var Jn=n(55028);const ei=e=>{let{renderTrigger:t,renderContent:n,positionX:o="center",isCloseByMouseLeave:r=!0}=e;return e=>{const{props:l,opts:a,size:s}=e,{containerRef:c,onControlsLock:u,onControlsRelease:m,isVisibleControls:h,popupsTriggeredByClick:v=[],onForceControlsLock:p,videoSkinRedesignDesktopRevision:g}=l,b=t.id,f=b&&v.includes(b),{setActivePopup:C,activePopup:w}=a,[y]=(0,d.useState)(Jn.O),E=h&&w===y,k=(0,d.useCallback)((()=>{E&&(m&&m(),C((e=>e===y?"":e)))}),[y,m,C,E]),_=(0,d.useCallback)((()=>{f&&g&&p&&p(),w||u&&u(),C(y)}),[f,g,w,C,y,p,u]);return i.createElement(Gn,{trigger:t(e,E),content:n(e),isOpen:E,positionX:o,flipContainerRef:c,onOpen:_,onClose:k,isOpenByClick:Boolean(f),isCloseByMouseLeave:r,size:s,videoSkinRedesignDesktopRevision:g})}};var ti=n(16141),ni=n(54105),ii=n(73764);const oi=(0,r.N)("next-video-content"),ri={s:{width:"144px",height:"82px"},xs:{width:"120px",height:"68px"}},li=(0,d.memo)((e=>{let{onClick:t,feedLink:n,itemLink:o,l10n:r,title:l,duration:a,author:s,image:c,blurredPreview:u,closePopup:m,onControlsRelease:h,size:v}=e;const{isHovered:p,onMouseEnter:g,onMouseLeave:b}=(0,cn.C)(),f=(0,d.useRef)(null),C=i.createElement(ii.P,{"aria-label":l,onClick:e=>{e.target!==f.current&&(e.preventDefault(),t&&t(),m&&m(),h&&h())},className:oi("clickable"),href:o});return i.createElement("div",{className:oi({withHover:!p,size:v})},i.createElement("div",{className:oi("title")},r("desktop.next_video")),i.createElement("div",{className:oi("content")},i.createElement("div",{className:oi("img")},c&&i.createElement(ni.g,{blurredPreview:u,image:c,ratioSize:ri[v],frameFit:"cover"}),a&&i.createElement(ye.N,{time:a,className:oi("duration")})),i.createElement("div",null,i.createElement(ii.P,{onMouseEnter:g,onMouseLeave:b,className:oi("author"),href:n},i.createElement(ti.n,{lines:2,lineHeight:16,textRef:f},s)),i.createElement(ti.n,{className:oi("video-title"),lines:2,"line-height":18},l))),C)})),ai=ei({positionX:"left",renderTrigger:Ln({name:"forward-desktop",getRenderOptions:e=>{let{props:t}=e;return{withFade:!0,icon:$n,size:24,shouldRender:Boolean(t.onPlayNext),label:t.l10n("desktop.next_video"),onClick:t.onPlayNext,onHovered:t.onHoveredNextVideoButton}}}),renderContent:e=>{let{props:t,opts:n,size:o}=e;const{onPlayNext:r,nextVideo:l,l10n:a,onControlsRelease:s}=t,{closePopup:c}=n;return l?i.createElement(li,{title:l.title,duration:l.duration,author:l.channelName,image:l.preview,feedLink:l.feedLink,itemLink:l.shareLink,l10n:a,onClick:r,closePopup:c,onControlsRelease:s,size:o}):null}}),si=Ln({name:"sound-redesign",playerStateMap:["volume"],getRenderOptions:(e,t)=>{let{props:n}=e;const{l10n:i,isMuted:o,onMuteToggle:r}=n,{volume:l}=t,a=o?0:l||0;return{withFade:!0,size:24,icon:a>0?E:w,label:i(a>0?"video-viewer.volume-mute":"video-viewer.volume-unmute"),onClick:()=>r&&r(!o)}}}),ci=ei({positionX:"center",renderTrigger:fe("sound-redesign",{default:be(si,{}),on:be(si,{isMuted:!0}),off:be(si,{isMuted:!1})}),renderContent:e=>{let{b:t,props:n,size:o}=e;const{l10n:r,isMuted:l,onVolumeChange:a,isTablet:s,videoPlayerPublicApi:c}=n,{volume:u=0}=(0,S.U)(c,"volume");return!a||s?null:i.createElement("div",{className:t("sound-redesign-wrapper",{size:o})},i.createElement("div",{className:t("sound-redesign-volume")},i.createElement(h.a,{isRedesign:!0,isWheelVerticalAxis:!0,keyStep:10,value:l?0:u,onChange:a,ariaLabel:r("video-viewer.volume-control"),ariaValue:r("video-viewer.volume"),ariaDimension:"%",size:o})))}}),ui={autoSwitchNextVideo:{ru:"Автовоспроизведение видео",_context:""}},di=((0,L.Wh)(ui),(0,L.bN)(ui)),mi="switch-with-icon__outerContainer-3q",hi="switch-with-icon__mainContainer-35",vi="switch-with-icon__circle-1L",pi="switch-with-icon__isChecked-34",gi=e=>{let{className:t,circleClassName:n,circleIcon:o,isChecked:r,isDisabled:l,onChange:a}=e;const s=(0,L.bU)(),c=(0,d.useCallback)((()=>{!l&&a&&a(!r)}),[l,a,r]);return i.createElement("div",{className:mi,onClick:c},i.createElement("div",{className:te()(hi,{[pi]:r},t),"aria-label":di.autoSwitchNextVideo(s)},i.createElement("div",{className:te()(vi,n)},o)))};let bi=new(p())({id:"auto-switch-on_5477--inline",use:"auto-switch-on_5477--inline-usage",viewBox:"0 0 6 8",content:'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 8" id="auto-switch-on_5477--inline"><path fill="#000" d="M5.064 3.376c.278.185.416.278.475.388a.5.5 0 0 1 0 .472c-.059.11-.197.203-.475.388L1.166 7.223c-.336.224-.504.335-.642.342a.5.5 0 0 1-.453-.242C0 7.204 0 7.003 0 6.599V1.4C0 .998 0 .796.071.677A.5.5 0 0 1 .524.435c.138.007.306.118.642.342L3 2l2.064 1.376Z" /></symbol>'});const fi=(0,f.Z)(b(),bi);let Ci=new(p())({id:"auto-switch-off_e450--inline",use:"auto-switch-off_e450--inline-usage",viewBox:"0 0 6 8",content:'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 8" id="auto-switch-off_e450--inline"><path fill="#fff" d="M.554.773C.5.88.5 1.02.5 1.3v5.4c0 .28 0 .42.054.527a.5.5 0 0 0 .219.218c.107.055.247.055.527.055h.4c.28 0 .42 0 .527-.054a.5.5 0 0 0 .219-.219C2.5 7.12 2.5 6.98 2.5 6.7V1.3c0-.28 0-.42-.054-.527a.5.5 0 0 0-.219-.219C2.12.5 1.98.5 1.7.5h-.4C1.02.5.88.5.773.554a.5.5 0 0 0-.219.219ZM4 .5a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V1A.5.5 0 0 0 5 .5H4Z" /></symbol>'});const wi=(0,f.Z)(b(),Ci),yi="auto-switch-next-video-switch__icon-Qm",Ei="auto-switch-next-video-switch__isChecked-1W",ki=e=>{let{className:t,isChecked:n,onChange:o}=e;const r=(0,d.useCallback)((()=>i.createElement(k.l,{size:"xxs",icon:n?fi:wi,className:te()(yi,{[Ei]:n})})),[n]);return i.createElement("div",{className:t},i.createElement(gi,{circleIcon:r(),isChecked:n,onChange:o}))},_i=e=>{let{b:t,props:n}=e;const{withAutoSwitchNextVideo:o,onAutoSwitchNextVideoToggle:r}=n;return i.createElement(ki,{className:t("auto-switch-next-video"),isChecked:o,onChange:r})};var Ti=n(30113);const Si=ei({positionX:"center",isCloseByMouseLeave:!1,renderTrigger:Ln({name:"rating",getRenderOptions:e=>{let{props:t}=e;const{videoQualitySurvey:n}=t,i=(0,L.bU)(),[o,r]=(0,d.useState)(!1);return(0,Se.y)(t.containerRef||{current:null},(e=>{r(e[0].contentRect.height>394)})),{withFade:!0,icon:Tn,size:24,label:Ti.ag.viewingExperienceTitle(i),shouldRender:n.isEnabled&&(o||t.isFullscreen)}}}),renderContent:e=>i.createElement(kn.a,{close:e.opts.closePopup,sendRatingLog:e.props.videoPlayerPublicApi.sendRatingLog,videoQualitySurvey:e.props.videoQualitySurvey})});let Pi=new(p())({id:"speed-m_4d08--inline",use:"speed-m_4d08--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" id="speed-m_4d08--inline">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M18.1131 18.1606C17.9453 18.3593 17.9395 18.6526 18.1127 18.8465L18.7861 19.6007C18.9787 19.8165 19.3146 19.825 19.5058 19.608C21.0583 17.8459 22 15.5329 22 13C22 7.47715 17.5228 3 12 3C6.47715 3 2 7.47715 2 13C2 15.5329 2.94174 17.8459 4.49417 19.608C4.68538 19.825 5.02129 19.8165 5.21392 19.6007L5.88728 18.8465C6.06047 18.6526 6.0547 18.3593 5.88685 18.1606C4.70965 16.7676 4 14.9667 4 13C4 8.58172 7.58172 5 12 5C16.4183 5 20 8.58172 20 13C20 14.9667 19.2903 16.7676 18.1131 18.1606ZM15.504 9.15779C15.3207 8.99602 15.0474 8.99047 14.8577 9.14466L9.93009 13.1504C9.70006 13.3374 9.68231 13.6823 9.89193 13.8919L11.0908 15.0908C11.3065 15.3065 11.6634 15.2805 11.8455 15.0358L15.6615 9.90821C15.8168 9.69964 15.7862 9.4069 15.5913 9.23485L15.504 9.15779Z" />\n</symbol>'});const xi=(0,f.Z)(b(),Pi),Ri=(0,r.N)("video-controls-content"),Ni=e=>{let{title:t,size:n,children:o}=e;return i.createElement("div",{className:Ri({size:n})},i.createElement("h4",{className:Ri("title")},t),i.createElement("div",{className:Ri("content")},o))};let Mi=new(p())({id:"actions-check-s_4dba--inline",use:"actions-check-s_4dba--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="actions-check-s_4dba--inline">\n<path d="M20.7071 6.29289C21.0976 6.68342 21.0976 7.31658 20.7071 7.70711L9.71329 18.7009C9.31934 19.0949 8.68064 19.0948 8.28671 18.7009L3.29289 13.7071C2.90237 13.3166 2.90237 12.6834 3.29289 12.2929C3.68342 11.9024 4.31658 11.9024 4.70711 12.2929L9 16.5858L19.2929 6.29289C19.6834 5.90237 20.3166 5.90237 20.7071 6.29289Z" />\n</symbol>'});const Li=(0,f.Z)(b(),Mi);var Vi=n(52950);const Ai=e=>{let{item:t,onClick:n,size:o}=e;const{isActive:r,title:l}=t,a=(0,d.useCallback)((()=>{n(t)}),[t,n]);return i.createElement(Je.Zo,{className:Bi("list-item"),onClick:a,autoClose:!1,"aria-current":r},i.createElement(Je.XU,{className:Bi("list-item-text-container"),text:l,textClassName:Bi("list-item-text")}),r?i.createElement(Je.RQ,{className:Bi("list-item-icon-container")},i.createElement(Vi.l,{icon:Li,size:o,className:Bi("active-icon")})):null)},Bi=(0,r.N)("video-controls-list"),Fi=(0,r.N)("video-controls-grid"),Ii=["playerStateMap","getItems","onChange"],Di={list:e=>{let{items:t,onClick:n,size:o}=e;return i.createElement("div",{className:Bi({size:o})},t.map((e=>i.createElement(Ai,{key:e.value,item:e,onClick:n,size:o}))))},grid:e=>{let{items:t,size:n,onClick:o}=e;return i.createElement("div",{className:Fi({size:n})},t.map((e=>i.createElement("div",{className:Fi("tile",{isActive:e.isActive}),onClick:()=>o(e),key:e.value},e.title))))}},Oi=e=>{let{playerStateMap:t,getItems:n,onChange:o}=e,r=(0,vn.Z)(e,Ii);return e=>{const{props:l,size:a}=e,{l10n:s,videoPlayerPublicApi:c}=l,u=(0,S.U)(c,...t||[]);let d,m;d="function"==typeof r.getType?Di[r.getType(e)]:Di[r.type],m="function"==typeof r.getTitle?r.getTitle(e,u):s(r.title);const h=(0,ke.m)((t=>{o(e,t,u)})),v=n(e,u);return v?i.createElement(Ni,{title:m,size:a},i.createElement(d,{items:v,onClick:h,size:a})):null}},Hi="undefined"==typeof window||"undefined"==typeof Intl?e=>e:new Intl.NumberFormat(window.navigator.language).format,zi=ei({renderTrigger:Ln({name:"speed",getRenderOptions:e=>{let{props:t}=e;const{l10n:n}=t;return{withFade:!0,icon:xi,size:24,label:n("player.playback-rate-long")}}}),renderContent:Oi({playerStateMap:["currentPlaybackRate","playbackRates"],title:"player.playback-rate",getItems:(e,t)=>{let{currentPlaybackRate:n=ot.mw,playbackRates:i}=t;return i&&i.map((e=>({value:e,title:`${Hi(e)}×`,isActive:e===n})))},type:"grid",onChange:(e,t,n)=>{let{props:i}=e;const{onSpeedChange:o,videoPlayerPublicApi:r}=i,{setPlaybackRate:l,getCurrentTime:a}=r,{currentPlaybackRate:s=ot.mw}=n,c=a();l(t.value),o&&o({from:String(s),to:String(t.value),time:String(c)})}}),positionX:"right"});let Zi=new(p())({id:"subtitles-m_6f63--inline",use:"subtitles-m_6f63--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" id="subtitles-m_6f63--inline">\n<path d="M2 9C2 7.59987 2 5.8998 2.27248 5.36502C2.51217 4.89462 2.89462 4.51217 3.36502 4.27248C3.8998 4 4.59987 4 6 4H18C19.4001 4 20.1002 4 20.635 4.27248C21.1054 4.51217 21.4878 4.89462 21.7275 5.36502C22 5.8998 22 7.59987 22 9V15C22 16.4001 22 18.1002 21.7275 18.635C21.4878 19.1054 21.1054 19.4878 20.635 19.7275C20.1002 20 19.4001 20 18 20H6C4.59987 20 3.8998 20 3.36502 19.7275C2.89462 19.4878 2.51217 19.1054 2.27248 18.635C2 18.1002 2 16.4001 2 15V9ZM4.5 16C4.5 16.5523 4.94772 17 5.5 17H12.5C13.0523 17 13.5 16.5523 13.5 16C13.5 15.4477 13.0523 15 12.5 15H5.5C4.94772 15 4.5 15.4477 4.5 16ZM16 15C15.4477 15 15 15.4477 15 16C15 16.5523 15.4477 17 16 17H18.5C19.0523 17 19.5 16.5523 19.5 16C19.5 15.4477 19.0523 15 18.5 15H16ZM4.5 12C4.5 12.5523 4.94772 13 5.5 13H8C8.55228 13 9 12.5523 9 12C9 11.4477 8.55228 11 8 11H5.5C4.94772 11 4.5 11.4477 4.5 12ZM11.5 11C10.9477 11 10.5 11.4477 10.5 12C10.5 12.5523 10.9477 13 11.5 13H18.5C19.0523 13 19.5 12.5523 19.5 12C19.5 11.4477 19.0523 11 18.5 11H11.5Z" />\n</symbol>'});const Wi=(0,f.Z)(b(),Zi),Ui=ei({renderTrigger:Ln({name:"subtitles",playerStateMap:["textTracks"],getRenderOptions:(e,t)=>{let{props:n}=e,{textTracks:i}=t;const{l10n:o}=n;return{withFade:!0,icon:Wi,size:24,label:o("player.video-track-quality"),shouldRender:Boolean(i&&i.length>0)}}}),renderContent:Oi({playerStateMap:["textTracks","currentTextTrack"],title:"player.subtitles",getItems:(e,t)=>{let{props:n}=e,{textTracks:i,currentTextTrack:o}=t;return i&&[...i.map((e=>({value:e.value,title:e.name,isActive:Boolean(o&&o.value===e.value)}))),{value:void 0,title:n.l10n("player.subtitles-off"),isActive:!o}]},type:"list",onChange:(e,t)=>{let{props:n}=e;const{videoPlayerPublicApi:i}=n,{setTextTrack:o}=i;o(t.value)}}),positionX:"right"});let Xi=new(p())({id:"settings-m_82fd--inline",use:"settings-m_82fd--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" id="settings-m_82fd--inline">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M7.00288 3.24665C7.37148 3.04026 7.82809 3.12378 8.12646 3.42283L9.33569 4.63483C10.401 4.26155 11.5519 4.11623 12.712 4.2361L13.606 2.77758C13.827 2.41703 14.2524 2.22982 14.6591 2.34564C14.8355 2.39586 15.0115 2.45114 15.1869 2.51156C15.3624 2.57199 15.5352 2.63678 15.7051 2.70579C16.0969 2.86493 16.3168 3.27432 16.269 3.6945L16.0755 5.39422C17.0635 6.01402 17.8809 6.83709 18.4906 7.78712L20.1896 7.57653C20.6089 7.52456 21.0201 7.73987 21.1835 8.12944C21.3262 8.46975 21.4504 8.81807 21.5552 9.17278C21.6751 9.57823 21.4921 10.0053 21.1338 10.2298L19.6839 11.1386C19.8091 12.2448 19.6989 13.3952 19.3185 14.5186L20.5439 15.7171C20.8456 16.0121 20.9339 16.4673 20.7318 16.8377C20.5532 17.165 20.3579 17.4794 20.1474 17.7801C19.9052 18.1262 19.4575 18.249 19.059 18.1091L17.4424 17.5413C16.6273 18.3549 15.6443 18.9751 14.572 19.3634L14.3991 21.0687C14.3565 21.4886 14.0555 21.8415 13.6398 21.9143C13.2769 21.9778 12.9094 22.0215 12.5388 22.0447C12.1173 22.0711 11.7422 21.7977 11.6031 21.3988L11.039 19.7808C10.4819 19.7174 9.92304 19.5927 9.3709 19.4026C8.81875 19.2125 8.3016 18.9667 7.82356 18.6736L6.38291 19.6014C6.02777 19.8301 5.56385 19.8146 5.24787 19.5342C4.97013 19.2878 4.70747 19.0271 4.46065 18.7537C4.17783 18.4403 4.15793 17.977 4.38291 17.6199L5.29652 16.1695C4.69061 15.2034 4.29778 14.1095 4.15642 12.9666L2.53298 12.4187C2.13273 12.2836 1.85558 11.9112 1.87778 11.4894C1.89707 11.1228 1.93674 10.7549 1.9975 10.387C2.06626 9.97064 2.41606 9.66632 2.83545 9.61955L4.53902 9.42958C4.93091 8.31015 5.55223 7.33581 6.33202 6.54119L5.74892 4.93236C5.60485 4.53488 5.72357 4.08568 6.06761 3.83995C6.3686 3.62497 6.6809 3.42694 7.00288 3.24665ZM10.0979 17.2912C13.0131 18.295 16.1901 16.7455 17.1939 13.8303C18.1977 10.9151 16.6481 7.73811 13.7329 6.73433C10.8177 5.73054 7.64076 7.28005 6.63697 10.1953C5.63319 13.1105 7.1827 16.2874 10.0979 17.2912Z" />\n</symbol>'});const $i=(0,f.Z)(b(),Xi),Qi=Ln({name:"quality",playerStateMap:["currentVideoTrack","videoTracks"],getRenderOptions:(e,t)=>{let{props:n}=e;const{l10n:i,isInlineInit:o}=n,{currentVideoTrack:r,videoTracks:l}=t,a=Boolean(null==l?void 0:l.length),s=r?r.name:"........",c=(null==r?void 0:r.auto)||!a&&o;return{withFade:!0,icon:$i,size:24,label:i("player.video-track-quality"),text:s?c?`${i("player.quality.auto")} (${s})`:s:null}}}),qi=e=>null!=e&&e.auto?` (${e.name})`:"",Yi=ei({renderTrigger:Qi,renderContent:Oi({playerStateMap:["currentVideoTrack","videoTracks"],getType:e=>{let{props:{isCompactQualitySelect:t=!1}}=e;return t?"grid":"list"},getTitle:(e,t)=>{let{props:n}=e;const{currentVideoTrack:i}=t,{isCompactQualitySelect:o=!1,l10n:r}=n;return r("player.video-track-quality")+(o?qi(i):"")},getItems:(e,t)=>{let{props:n}=e;const{currentVideoTrack:i,videoTracks:o}=t,{isCompactQualitySelect:r=!1,l10n:l}=n;if(o&&0!==o.length)return[{value:at.$,title:l("player.quality.auto")+(r?"":qi(i)),isActive:null==i?void 0:i.auto},...o.map((e=>({value:e.value,title:e.name,isActive:i&&!i.auto&&i.value===e.value})))]},onChange:(e,t,n)=>{let{props:i}=e;const{onQualityChange:o,videoPlayerPublicApi:r}=i,{setVideoTrack:l,getCurrentTime:a}=r,{currentVideoTrack:s}=n,c=s&&`${s.name}${s.auto?":auto":""}`,u="auto"===t.value?t.value:t.title,d=a();o&&o({from:c,to:u,time:String(d)}),t.value&&l(t.value)}}),positionX:"right"}),Ki=bn({fullTop:fn},{full:hn},{shifts:{bottom:56,left:16,right:16},fullBottom:Dn(Bn)},{shifts:{top:16,left:16,right:16,bottom:10},leftTop:Kt,fullBottom:Hn([we,ai,ci,yn,En],[_i,Si,zi,Ui,Yi,u])}),ji=bn({fullTop:fn},{shifts:{bottom:56,left:16,right:16},fullBottom:Dn(Bn)},{shifts:{top:16,left:20,right:16,bottom:10},leftBottom:On(we,ai,ci,yn),rightBottom:On(Ui,u)});let Gi=new(p())({id:"cross-rounded_9e81--inline",use:"cross-rounded_9e81--inline-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="cross-rounded_9e81--inline"><path d="M7.05 5.636A1 1 0 105.638 7.05l4.95 4.95-4.95 4.95a1 1 0 101.414 1.414l4.95-4.95 4.95 4.95a1 1 0 001.414-1.415L13.415 12l4.95-4.95a1 1 0 00-1.414-1.413L12 10.586l-4.95-4.95z" /></symbol>'});const Ji=(0,f.Z)(b(),Gi),eo=Ln({name:"fullscreen-close",getRenderOptions:e=>{let{props:t}=e;const{onFullscreenToggle:n}=t;return{withFade:!0,icon:Ji,size:24,shouldRender:Boolean(n),onClick:()=>n&&n(!1)}}}),to=e=>{const{containerRef:t,videoPlayerPublicApi:n}=e.props,{currentVideoTrack:o}=(0,S.U)(n,"currentVideoTrack"),r=(null==o?void 0:o.width)||0,l=(null==o?void 0:o.height)||0,{verticalOffset:a,horizontalOffset:s}=ln({videoWidth:r,videoHeight:l},t||{current:null});return i.createElement("div",{style:{paddingTop:a,paddingRight:s}},i.createElement(eo,e))},no=e=>{let{b:t,props:n}=e;const{title:o}=n;return o?i.createElement("div",{className:t("title")},o):null},io=bn({shifts:{left:20,right:12,top:28},leftTop:an,rightTop:to},{shifts:{left:20,top:84},leftTop:Kt},{shifts:{bottom:56,left:16,right:16},fullBottom:Dn(Bn)},{shifts:{left:16,right:16,bottom:10},fullBottom:Hn([we,ai,ci,yn,e=>{const{props:t}=e,{episodes:n}=t;return null!=n&&n.length?i.createElement(En,e):i.createElement(no,e)}],[_i,Si,zi,Yi,u])}),oo=bn({shifts:{left:20,right:12,top:28},leftTop:an,rightTop:to},{shifts:{bottom:56,left:16,right:16},fullBottom:Dn(Bn)},{shifts:{left:20,right:16,bottom:10},leftBottom:On(we,ai,ci,yn,no),rightBottom:On(u)}),ro=bn({center:Zn(rn)},{shifts:16,rightBottom:Dn((e=>{let{b:t,props:n}=e;const{duration:o=0,videoPlayerPublicApi:r}=n,{currentTime:l=0}=(0,S.U)(r,"currentTime"),a=o-l;return i.createElement(ye.N,{time:a,className:t("count-down")})}))},{shifts:{top:12,left:8}}),lo=bn({center:Zn(rn)},{shifts:16},{shifts:{top:12,left:8}}),ao=bn({center:Zn(rn)}),so=bn({shifts:{leftRight:12,bottom:55,top:72},leftTop:Kt,leftBottom:On(qt,yn),rightBottom:On(Rn,vt,u),center:Zn(rn)},{shifts:{leftRight:20,bottom:46},fullBottom:Dn(Bn)}),co=bn({fullTop:fn},{full:hn},{shifts:{bottom:0,left:0,right:0},fullBottom:Dn(Bn)},{shifts:{left:6,bottom:12},leftTop:Kt,leftBottom:ci},{shifts:{bottom:22,left:46},fullBottom:Dn(yn)});var uo=n(99919),mo=n(19876);const ho=new(p())({id:"sound_on_6517--react",use:"sound_on_6517--react-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="sound_on_6517--react"><path fill="currentColor" fill-rule="evenodd" d="M12.479 3.909 6.689 8.25H3.94a1.5 1.5 0 0 0-1.5 1.5v4.5a1.5 1.5 0 0 0 1.5 1.5h2.75l5.789 4.341a.757.757 0 0 0 1.212-.606V4.515a.756.756 0 0 0-1.211-.606ZM12.189 18l-4.5-3.375v-5.25L12.19 6v12ZM3.94 9.75h2.25v4.5H3.94v-4.5Zm14.57 7.73c-.32-.293-.32-.797-.04-1.13A6.723 6.723 0 0 0 20.059 12a6.723 6.723 0 0 0-1.59-4.35c-.28-.333-.28-.837.043-1.13.29-.263.737-.26.995.035A8.218 8.218 0 0 1 21.56 12a8.218 8.218 0 0 1-2.052 5.445c-.258.294-.706.298-.995.034l-.003.001Zm-2.2-8.958c-.332.301-.312.826-.037 1.18.493.635.786 1.432.786 2.298 0 .865-.293 1.662-.786 2.297-.275.354-.295.88.037 1.181.278.253.706.258.953-.024A5.23 5.23 0 0 0 18.56 12a5.23 5.23 0 0 0-1.296-3.454c-.247-.282-.675-.277-.953-.024h-.001Z" clip-rule="evenodd" /></symbol>'});function vo(e){return b().add(ho),i.createElement("svg",(0,In.Z)({viewBox:"0 0 24 24"},e),i.createElement("use",{xlinkHref:"#sound_on_6517--react"}))}vo.displayName="SpriteSymbolComponent(sound_on_6517--react)";const po=new(p())({id:"star_filled_half_792e--react",use:"star_filled_half_792e--react-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="star_filled_half_792e--react"><path fill="currentColor" fill-rule="evenodd" d="M12.927 1.563c-.35-.813-1.503-.813-1.853 0L8.477 7.59l-6.535.606C1.06 8.28.704 9.376 1.369 9.96l4.93 4.332-1.442 6.403c-.194.863.738 1.54 1.5 1.09L12 18.432l5.644 3.35c.76.453 1.694-.225 1.499-1.088L17.7 14.292l4.93-4.332c.666-.584.31-1.68-.572-1.763l-6.535-.606-2.596-6.028ZM12 16.27V4.468l1.919 4.454a1.008 1.008 0 0 0 .833.605l4.83.45-3.644 3.2c-.278.243-.4.62-.32.98l1.067 4.731-4.17-2.476A1.002 1.002 0 0 0 12 16.27Z" clip-rule="evenodd" /></symbol>'});function go(e){return b().add(po),i.createElement("svg",(0,In.Z)({viewBox:"0 0 24 24"},e),i.createElement("use",{xlinkHref:"#star_filled_half_792e--react"}))}go.displayName="SpriteSymbolComponent(star_filled_half_792e--react)";const bo={isMutedTooltip:{ru:"Включить звук",_context:""},isUnmutedTooltip:{ru:"Отключить звук",_context:""},qualitySurvey:{ru:"Оценка просмотра видео",_context:""}},fo=((0,L.Wh)(bo),(0,L.bN)(bo)),Co="group-buttons__container-X0",wo="group-buttons__visible-1k",yo="group-buttons__item-1O",Eo="group-buttons__divider-1A",ko="group-buttons__tooltip-1l",_o="group-buttons__displayNone-97",To=e=>{let{isVisible:t=!1,isMuted:n,isRatignButtonEnabled:o=!1,onSoundClick:r,onQoeClick:l}=e;const a=(0,L.bU)(),[s]=(0,d.useState)((()=>(0,uo.y)()));return i.createElement("div",{className:te()(Co,{[wo]:t})},i.createElement(re.u,{content:n?fo.isMutedTooltip(a):fo.isUnmutedTooltip(a),noExtraSpaceForCloseButton:!1,hasCloseButton:!1,size:"s",direction:"bottom-end",className:te()(ko,{[_o]:s}),hasTail:!0,secondaryOffset:5},i.createElement("button",{type:"button","aria-label":n?fo.isMutedTooltip(a):fo.isUnmutedTooltip(a),className:yo,onClick:r},n?i.createElement(mo.Z,{height:16,width:16,color:"white"}):i.createElement(vo,{height:16,width:16,color:"white"}))),o&&i.createElement(i.Fragment,null,i.createElement("div",{className:Eo}),i.createElement(re.u,{content:fo.qualitySurvey(a),noExtraSpaceForCloseButton:!1,hasCloseButton:!1,size:"s",direction:"bottom-end",className:te()(ko,{[_o]:s}),hasTail:!0,secondaryOffset:5},i.createElement("button",{type:"button","aria-label":fo.qualitySurvey(a),className:yo,onClick:l},i.createElement(go,{height:16,width:16,color:"white"})))))},So="rating-overlay-desktop__container-32",Po="rating-overlay-desktop__visible-1N",xo=e=>{let{isVisible:t=!1,videoQualitySurvey:n,sendRatingLog:o,close:r}=e;return i.createElement("div",{className:te()(So,{[Po]:t})},t?i.createElement(kn.a,{videoQualitySurvey:n,sendRatingLog:o,close:r,contentOrientation:"horizontal"}):null)},Ro=e=>{let{isOpen:t,onClose:n,videoQualitySurvey:o,videoPlayerPublicApi:r,pageTheme:l,isBodyScrollEnabled:a,isFullscreen:s,containerRef:c,onContextMenuToggle:u}=e;const m=(0,d.useRef)(),h=(0,d.useCallback)((e=>(m.current=e,i.createElement(kn.a,{videoQualitySurvey:o,sendRatingLog:r.sendRatingLog,close:m.current.closeMenu}))),[o,r.sendRatingLog]);return i.createElement(it.T,{isOpen:t,onClose:n,renderParentMenu:h,theme:l,isBodyScrollEnabled:a,targetRef:s?c:void 0,onContextMenuToggle:u})},No=(0,d.memo)((e=>{let{isMobile:t,isMuted:n,setIsMuted:o,isVisible:r,videoQualitySurvey:l,videoPlayerPublicApi:a,pageTheme:s,isBodyScrollEnabled:c,isFullscreen:u,containerRef:m,onContextMenuToggle:h}=e;const[v,p]=(0,d.useState)(!1);return i.createElement(i.Fragment,null,i.createElement(To,{isVisible:r,isMuted:n,isRatignButtonEnabled:l.isEnabled,onQoeClick:()=>p(!v),onSoundClick:()=>o(!n)}),t?i.createElement(Ro,{isOpen:v,videoQualitySurvey:l,videoPlayerPublicApi:a,pageTheme:s,isBodyScrollEnabled:c,isFullscreen:u,containerRef:m,onContextMenuToggle:h,onClose:()=>p(!1)}):i.createElement(xo,{isVisible:v,videoQualitySurvey:l,sendRatingLog:a.sendRatingLog,close:()=>p(!1)}))})),Mo="video-controls-feed__container-1A",Lo="video-controls-feed__wrapper-r3",Vo="video-controls-feed__clickableWrapper-3q",Ao=bn({shifts:{bottom:0,left:0,right:0},fullBottom:Dn(Bn)},{shifts:{left:6,bottom:12},leftTop:Kt},{full:e=>{let{props:t}=e;const{isVisibleControls:n,videoPlayerPublicApi:r,videoQualitySurvey:l,isMuted:a,clickable:s,pageTheme:c,isBodyScrollEnabled:u,isFullscreen:m,containerRef:h,onContextMenuToggle:v}=t,[p]=(0,d.useState)((()=>(0,uo.y)())),{isHovered:g,onMouseEnter:b,onMouseLeave:f}=(0,cn.C)(),C=t.playerState===o.de.Buffering||t.playerState===o.de.Playing,w=g&&C,y=p&&C;return i.createElement("div",{className:Mo},i.createElement("div",{className:Lo,onMouseEnter:b,onMouseLeave:f},i.createElement("div",{className:Vo},s),i.createElement(No,{isMobile:!1,isVisible:n&&(w||y),isMuted:a,setIsMuted:r.setMuted,videoQualitySurvey:l,videoPlayerPublicApi:r,pageTheme:c,isBodyScrollEnabled:u,isFullscreen:m,containerRef:h,onContextMenuToggle:v})))}},{shifts:{bottom:10},rightBottom:Dn(jt,Xe)});let Bo;!function(e){e.LEGACY="legacy",e.TOUCH_VIEWER="touch-viewer",e.TOUCH_FULLSCREEN="touch-fullscreen",e.TOUCH_SHORT_VIEWER="touch-short-viewer",e.TOUCH_POST_VIEWER="touch-post-viewer",e.DESKTOP_FULLSCREEN="desktop-fullscreen",e.DESKTOP_VIEWER="desktop-viewer",e.DESKTOP_EDITOR="desktop-editor",e.DESKTOP_EDITOR_FULLSCREEN="desktop-editor-fullscreen",e.DESKTOP_SHORT_VIEWER="desktop-short-viewer",e.DESKTOP_SHORT_VIEWER_REDESIGN="desktop-short-viewer-redesign",e.DESKTOP_HOVERED_VIDEO_VIEWER="desktop-hovered-video-viewer",e.DESKTOP_FEED_VIDEO_VIEWER="desktop-feed-video-viewer"}(Bo||(Bo={}));const Fo={[Bo.LEGACY]:e=>{const{b:t,props:n,opts:r}=e,{isVisibleControls:l,isFullscreen:s,isAdVisible:c,isLuringEnabled:d,withFullscreen:m,withFade:h,withSettings:v,onFocus:p,onVolumeChange:g,footerBlockRef:b,renderHeader:f,playerState:C,viewType:w,duration:y,badges:E,videoPlayerPublicApi:k}=n,{isDesktopPlayer:_,isNextAdCountdownOverFooter:T,isNextAdCountdownRightAlign:x,hasVideoStateControl:R,hasTimeControls:N,withShortVideoBranding:M,enableSound:L}=r,{nextAdRemainingTime:V}=(0,S.U)(k,"nextAdRemainingTime"),A=Boolean(V&&V<=5),B=x&&A,F=(m||s)&&i.createElement(u,e),I=g&&i.createElement(P,e),D=_&&R&&i.createElement(we,e),O=N&&void 0!==y&&i.createElement(Xe,e),H=v?i.createElement(vt,e):null,z=v?i.createElement(Zt,e):null,Z=E&&E.length?i.createElement(Xt,e):null,W=d&&!L?null:i.createElement(qt,e),U=void 0!==V?i.createElement(Kt,e):null,X="card-feed"===w&&C===o.de.Buffering?i.createElement(jt,e):null,$=M&&i.createElement(nn,e),Q=i.createElement(rn,e),q=f&&s?i.createElement(an,e):null,Y=c||s,K=[Y,_,c].some(Boolean)?null:W,j=_?null:i.createElement("div",{className:t("right-badges")},$,!s&&F),G=i.createElement(i.Fragment,null,T&&U,i.createElement("div",{className:t("footer",{withSpaceBetween:!_&&c,isAdVisible:c}),ref:b},!T&&U,_?i.createElement(i.Fragment,null,D,I,O,z,F):i.createElement(i.Fragment,null,Y?W:null,Z,!B&&X,!B&&O,H,s&&F)));return i.createElement("div",{className:t({viewType:w,isVisibleControls:l,withFade:h})},i.createElement(a,{beforeControls:Q,headerLeft:K,headerRight:j,headerFull:q,afterControls:i.createElement(hn,e),footer:G,onFocus:p}))},[Bo.TOUCH_VIEWER]:Wn,[Bo.TOUCH_FULLSCREEN]:Un,[Bo.TOUCH_SHORT_VIEWER]:ao,[Bo.TOUCH_POST_VIEWER]:so,[Bo.DESKTOP_FULLSCREEN]:io,[Bo.DESKTOP_VIEWER]:Ki,[Bo.DESKTOP_EDITOR]:ji,[Bo.DESKTOP_EDITOR_FULLSCREEN]:oo,[Bo.DESKTOP_SHORT_VIEWER]:ro,[Bo.DESKTOP_SHORT_VIEWER_REDESIGN]:lo,[Bo.DESKTOP_HOVERED_VIDEO_VIEWER]:co,[Bo.DESKTOP_FEED_VIDEO_VIEWER]:Ao}},80610:(e,t,n)=>{n.d(t,{H:()=>g});n(13311);var i=n(29901),o=n(13714),r=n(32003),l=n(93480),a=n(59321),s=n(6074),c=n(15851);var u=n(5891);n(14072),n(53208);const d={"card-feed":[s.de.Buffering],"card-short-video-feed":[s.de.Buffering],"short-modal":[s.de.Buffering],"card-video-feed":[],"player-desktop":[s.de.Playing,s.de.Paused],"card-preview":null},m=e=>{const{hasMuteToggle:t,withTimeline:n,isLuringVisible:i,isWithCallToAction:r,isMobile:l,playerState:a,viewType:c,duration:u,onFullscreenToggle:m,isInlineInit:h,onControlsRelease:v}=e,{withShortVideoBranding:p,disableTimeControls:g,enableSound:b}=(e=>"card-short-video-feed"===e?{withShortVideoBranding:!0,disableTimeControls:!0,enableSound:!0}:{})(c),f="player-desktop"===c,C=a!==s.de.Unstarted&&a!==s.de.Error,w=((e,t)=>{const n=e?d[e]:null;return!n||!n.includes(t)})(c,a),[y,E]=(0,o.useState)(void 0),[k,_]=(0,o.useState)(void 0),T=!(void 0===u||r&&l||g),S=Boolean(b||t||h),P=Boolean(f||n)&&!i&&l,x=Boolean(i),R=(0,o.useCallback)((()=>{m&&m(!1)}),[m]),N=(0,o.useCallback)((()=>{null==v||v(),E(void 0)}),[v]);return{isDesktopPlayer:f,hasVideoStateControl:C,hasTimeControls:T,hasVideoState:w,withShortVideoBranding:p,disableTimeControls:g,enableSound:b,canShowMuteToggle:S,isNextAdCountdownOverFooter:P,isNextAdCountdownRightAlign:x,closeFullscreen:R,activePopup:y,setActivePopup:E,isPreviewVisible:k,setIsPreviewVisible:_,closePopup:N}},h=(0,a.N)("video-controls"),v=[{name:"s",minWidth:750,minHeight:500},{name:"xs"}],p=e=>{const t=(e=>{const{bufferingSpinnerDelayVisible:t=1e3,template:n=u.Q.LEGACY,viewType:i="card-feed"}=e;return Object.assign({},e,{bufferingSpinnerDelayVisible:t,template:n,viewType:i})})(e),n=m(t),{isMuted:l,isFullscreen:a,withShortkeyListener:d,onSeekBy:p,onMuteToggle:g,onFullscreenToggle:b,onHandledKeyboard:f,playerState:C,template:w,onPlay:y,onPause:E,videoSkinRedesignDesktopRevision:k,isVisibleControls:_,withShadow:T,isMobile:S,withFade:P,withFadeColor:x,viewType:R,isInlineInit:N}=t,M=(0,o.useCallback)((()=>{C===s.de.Paused?y&&y():E&&E()}),[E,y,C]);(e=>{let{playerApi:t,isActive:n,onHandled:i}=e;const{muteToggle:o,fullscreenToggle:r,isPaused:l,seekBy:a,playPauseToggle:s}=t;(0,c.r)({isActive:n,onHandled:i,handlers:{Space:s,KeyK:s,KeyM:o,KeyF:r,KeyJ:()=>a(-10,"seconds"),KeyL:()=>a(10,"seconds"),ArrowLeft:()=>a(-5,"seconds"),ArrowRight:()=>a(5,"seconds"),Comma:()=>l&&a(-1,"frames"),Period:()=>l&&a(1,"frames")}})})({isActive:Boolean(d),playerApi:{muteToggle:()=>g&&g(!l),isPaused:C===s.de.Paused,fullscreenToggle:()=>b&&b(!a),seekBy:p||(()=>{}),playPauseToggle:M},onHandled:f});const{refContainer:L,currentBreakpoint:V}=(0,r.o)(v);if(!w)return null;const A=[u.Q.DESKTOP_HOVERED_VIDEO_VIEWER].includes(w)||S,B=u.z[w],{activePopup:F,isPreviewVisible:I}=n,D=!I&&Boolean(F),O=(null==V?void 0:V.name)||"s",H=w===u.Q.LEGACY?{viewType:R,isVisibleControls:_,isMobile:S,withFade:P}:{template:w,withFadeColor:x,isVisibleControls:_,isPopupVisible:D,isPreviewVisible:I,isCompactView:A,withShadow:T,withFade:P,isMobile:S,size:O,isInlineInit:N};return i.createElement("div",{ref:k?L:null,className:h(H)},i.createElement(B,{b:h,props:t,opts:n,size:O}))},g=e=>{const{template:t,videoPlayerPublicApi:n}=e,r=(0,o.useCallback)((e=>{n.logError(e instanceof Error?e:new Error(`VideoControls: ${e.message}`),{additional:{template:t}})}),[n,t]);return i.createElement(l.S,{onCatch:r,errorView:null},i.createElement(p,e))}},54450:(e,t,n)=>{n.d(t,{K:()=>b});var i=n(29901),o=n(13714),r=n(59321),l=n(23242),a=n.n(l),s=n(62508),c=n.n(s),u=n(43952);let d=new(a())({id:"expand-arrows_867e--inline",use:"expand-arrows_867e--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" id="expand-arrows_867e--inline">\n    <path d="M13.6507 3.43185C13.6507 4.06466 14.1127 4.53676 14.7556 4.53676L15.4688 4.53676L18.5826 4.32582L16.1417 6.64614L13.2489 9.5189C13.0279 9.72984 12.9275 10.001 12.9275 10.2923C12.9275 10.9754 13.3895 11.4676 14.0725 11.4676C14.3839 11.4676 14.6551 11.347 14.8761 11.1361L17.7589 8.25328L20.0692 5.80239L19.8583 8.93631L19.8583 9.7198C19.8583 10.3526 20.3203 10.8348 20.9632 10.8348C21.606 10.8348 22.0781 10.3627 22.0781 9.7198L22.0781 4.14502C22.0781 2.98989 21.4051 2.31689 20.25 2.31689L14.7556 2.31689C14.1228 2.31689 13.6507 2.78899 13.6507 3.43185ZM2.70201 14.27L2.70201 19.8448C2.70201 20.9999 3.375 21.6729 4.53013 21.6729L10.0246 21.6729C10.6574 21.6729 11.1295 21.1908 11.1295 20.558C11.1295 19.9252 10.6674 19.4531 10.0246 19.4531L9.31138 19.4531L6.19755 19.664L8.63839 17.3437L11.5313 14.4709C11.7522 14.26 11.8527 13.9888 11.8527 13.6874C11.8527 13.0044 11.3906 12.5122 10.7076 12.5122C10.3962 12.5122 10.115 12.6327 9.90402 12.8537L7.02121 15.7365L4.71094 18.1874L4.92188 15.0535L4.92188 14.27C4.92188 13.6272 4.45982 13.1551 3.81696 13.1551C3.17411 13.1551 2.70201 13.6272 2.70201 14.27Z" />\n</symbol>'});const m=(0,u.Z)(c(),d);let h=new(a())({id:"collapse-arrows_3664--inline",use:"collapse-arrows_3664--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" id="collapse-arrows_3664--inline">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M20.7524 8.93019C21.3953 8.93019 21.8574 9.40229 21.8574 10.0351C21.8574 10.678 21.3853 11.1501 20.7524 11.1501L15.258 11.1501C14.1029 11.1501 13.4299 10.4771 13.4299 9.32193L13.4299 3.74716C13.4299 3.1043 13.902 2.6322 14.5449 2.6322C15.1877 2.6322 15.6498 3.11434 15.6498 3.74716L15.6498 4.53064L15.4388 7.66457L17.7491 5.21368L20.6319 2.33086C20.8529 2.11993 21.1241 1.99939 21.4355 1.99939C22.1185 1.99939 22.5806 2.49158 22.5806 3.17461C22.5806 3.46591 22.4801 3.73711 22.2591 3.94805L19.3663 6.82082L16.9254 9.14113L20.0393 8.93019L20.7524 8.93019ZM4.02742 15.2199C3.38456 15.2199 2.9225 14.7478 2.9225 14.115C2.9225 13.4721 3.3946 13 4.02742 13L9.52183 13C10.677 13 11.35 13.673 11.35 14.8282L11.35 20.4029C11.35 21.0458 10.8779 21.5179 10.235 21.5179C9.59215 21.5179 9.13009 21.0357 9.13009 20.4029L9.13009 19.6195L9.34103 16.4855L7.03076 18.9364L4.14795 21.8192C3.92697 22.0302 3.65576 22.1507 3.34438 22.1507C2.66134 22.1507 2.19929 21.6585 2.19929 20.9755C2.19929 20.6842 2.29974 20.413 2.52072 20.202L5.41358 17.3293L7.85442 15.009L4.74058 15.2199L4.02742 15.2199Z" />\n</symbol>'});const v=(0,u.Z)(c(),h);var p=n(74532);const g=(0,r.N)("video-fullscreen-toggle"),b=(0,o.memo)((e=>{let{onToggle:t,isFullscreen:n,ariaLabel:r,onOpenFullscreenStat:l}=e;const a=(0,o.useCallback)((()=>{t&&t(!n),l&&!n&&l()}),[n,t,l]),s=n?v:m;return i.createElement("button",{onClick:a,className:g(),"aria-label":r,"aria-pressed":n},i.createElement(p.l,{icon:s,size:24,className:g("icon")}))}))},54105:(e,t,n)=>{n.d(t,{g:()=>u});var i=n(13714),o=n(29901),r=n(59321),l=n(71494),a=n(13181),s=n(93983);const c=(0,r.N)("video-image-preview"),u=e=>{let{image:t,blurredPreview:n,isBlurredOnly:r,borderRadiusSize:u,className:d,ratioSize:m,frameFit:h,shouldForceRender:v=!1,isLoading:p=!1,isShortDesktop:g}=e;const b=(0,i.useCallback)((e=>t&&(v||e)?o.createElement("div",{className:c("full-image",{isShortDesktop:g}),style:{backgroundImage:`url(${t})`}}):null),[t,g,v]),f=(0,i.useCallback)((()=>n?o.createElement("div",{className:c("blurred-image",{isShortDesktop:g}),style:{backgroundImage:`url(data:image/png;base64,${n})`}}):null),[n,g]);return o.createElement("div",{className:(0,l.C)(d,c({isBlurredOnly:r,frameFit:h,borderRadiusSize:u})),style:m},o.createElement(a.w,{imageUrl:t,renderImage:b,renderPlaceholder:f,wrapperClass:c("container")}),p&&o.createElement("div",{className:c("loading")},o.createElement(s.Q,{isActive:!0,size:32})))}},916:(e,t,n)=>{n.d(t,{T:()=>k});n(14072),n(53208);var i=n(29901),o=n(13714),r=n(2162),l=n(59954);const a=(0,r.N)("scale-on-press"),s=(0,o.memo)((e=>{let{children:t,withOpacityWhenPress:n,wrappedComponent:r="div"}=e;const s=(0,o.useRef)(null),c=(0,o.useRef)(),[u,d]=(0,o.useState)(!1),m=(0,o.useCallback)((()=>{c.current=null,d(!1)}),[]),h=(0,o.useCallback)((()=>{c.current=t,d(!0)}),[t]);return(0,l.s)({pressRef:s,animationTime:200,pressedClassName:"_is-pressed",onEndPress:m,onStartPress:h}),i.createElement(r,{className:a({withOpacityWhenPress:n}),ref:s},u?c.current:t)}));var c=n(44308),u=n(23563),d=n(59321),m=n(23242),h=n.n(m),v=n(62508),p=n.n(v),g=n(43952);let b=new(h())({id:"mute-button_c4b8--inline",use:"mute-button_c4b8--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="mute-button_c4b8--inline"><path d="M16.2 7.8L14.8 9.2C16.3 10.8 16.3 13.3 14.8 14.8L16.2 16.3C18.5 13.9 18.5 10.1 16.2 7.8Z" /><path d="M17.6 17.7L19.0 19.1C22.9 15.2 22.9 8.9 19.0 5.0L17.6 6.4C20.7 9.5 20.7 14.6 17.6 17.7Z" /><path d="M12 5.0L6.0 9.0H3.0C2.4 9.0 2.0 9.4 2.0 10V14C2.0 14.5 2.4 15 3.0 15H6.0L12 19V5.0Z" /><path d="M12.3 4.4V19.5L5.9 15.3H3.0C2.2 15.3 1.7 14.7 1.7 14V10C1.7 9.2 2.2 8.7 3.0 8.7H5.9L12.3 4.4ZM11.7 5.5L6.0 9.3H3.0C2.6 9.3 2.3 9.6 2.3 10V14C2.3 14.3 2.6 14.7 3.0 14.7H6.0L11.7 18.4V5.5Z" /></symbol>'});const f=(0,g.Z)(p(),b);let C=new(h())({id:"unmute-button_1210--inline",use:"unmute-button_1210--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="unmute-button_1210--inline"><path d="M18.4 13.1L16.5 15.0L15.4 13.9L17.3 11.9L15.4 10.0L16.5 8.9L18.4 10.8L20.4 8.9L21.5 10.0L19.6 11.9L21.5 13.9L20.4 15.0L18.4 13.1Z" /><path d="M12.7 20.4V3.5L5.7 8.2H2.9C2.0 8 1 9.0 1.1 10.0V14.0C1.1 14.9 2.0 15.8 2.9 15.8H5.7L12.7 20.4ZM6.6 9.5L11.1 6.4V17.5L6.6 14.4V9.5ZM5 9.8V14.2H2.9C2.8 14.2 2.7 14.1 2.7 14.0V10.0C2.7 9.8 2.8 9.8 2.9 9.8H5Z" /></symbol>'});const w=(0,g.Z)(p(),C);var y=n(74532);const E=(0,d.N)("video-mute-toggle"),k=(0,o.memo)((e=>{let{isMuted:t,onToggle:n,withSound:r,isLabelVisibleInitial:l,size:a="s",l10n:d}=e;const[m,h,v]=(0,c.x)(l,3e3),p=(0,o.useCallback)((()=>{r?n&&n(!t):(v(!0),h(!1))}),[t,n,v,h,r]),g=t||!r?w:f,b=(0,o.useMemo)((()=>i.createElement(u.X,{boxShadow:"0 0 20px 4px rgba(0, 0, 0, 0.2)"},i.createElement("button",{"aria-label":d(t?"desktop.video.unmute":"desktop.video.mute"),type:"button",onClick:p,className:E("button",{isMuted:t,soundOff:!r})},i.createElement(y.l,{icon:g,size:a})))),[g,p,t,a,r,d]);return i.createElement("div",{className:E({isLabelVisible:m})},r?i.createElement(s,{withOpacityWhenPress:!0},b):i.createElement(i.Fragment,null,b,i.createElement("span",{className:E("without-sound-label")},d("mobile.video.no_sound"))))}))},16142:(e,t,n)=>{n.d(t,{Y:()=>W});n(14072),n(53208),n(13311);var i=n(29901),o=n(13714),r=n(29153),l=n(59321),a=n(71494);class s{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.refs=t}update(){this.refs.forEach((e=>{"function"==typeof e?e(this.instance):e&&(e.current=this.instance)}))}get current(){return this.instance}set current(e){this.instance=e,this.update()}}var c=n(32682),u=n(32387),d=n(43502),m=n(68322),h=n(17486),v=n(43738),p=n(17950),g=n(28350),b=n(6074),f=n(8736),C=n(31055),w=n(66900),y=n(74310);var E=n(65003),k=n(27340);var _=n(78491),T=n(99473),S=n(56873),P=n(62537);const x=(0,T.v)({path:S.Z_,tilesHeight:S.Rx,tilesWidth:S.Rx,width:S.Rx,height:S.Rx,duration:S.Rx,label:S.Z_}),R=(0,T.v)({thumbnails:(0,P.I)(x)}),N=(e,t)=>{const n=new RegExp(/\$[nN]umber\$/);return e.replace(n,String(t))},M=(e,t,n,i)=>{const o=void 0===n?void 0:1e3*n,{path:r,duration:l,tilesHeight:a,tilesWidth:s,width:c,height:u}=e,d={rows:a,columns:s},m=((e,t)=>{const{rows:n,columns:i}=e;if(!n||!i)return null;const{width:o,height:r}=t;return{width:o/i,height:r/n}})(d,{width:c,height:u}),h=((e,t)=>0===e.rows||0===e.columns?0:t/(e.rows*e.columns))(d,l);if(null===m)return;let v=0;v=o?((e,t)=>Math.floor(e/1e3)+t)(o,t):t,v>=(void 0===n?i:n+i)&&(v-=1);const p=(e=>{const{positionTime:t,spriteDuration:n,tileDuration:i,tileWidth:o,tileHeight:r,tilesWidth:l}=e,a=Math.floor(t%n/i);return{x:a%l*-o,y:-r*Math.floor(a/l)}})({positionTime:v,spriteDuration:l,tileDuration:h,tileWidth:m.width,tileHeight:m.height,tilesWidth:s,tilesHeight:a}),g=((e,t)=>e<0||t<=0?-1:Math.floor(e/t))(v,l);return{url:N(r,g),positionX:p.x,positionY:p.y,tileWidth:m.width,tileHeight:m.height,width:c,height:u}};var L=n(995),V=n(72530),A=n(57046),B=n(98310);var F=n(61329),I=n(65254),D=n(5841);const O={videoPlayer:{ru:"Видеоплеер",_context:""}},H=((0,k.Wh)(O),(0,k.bN)(O)),z=(0,l.N)("video-player"),Z=(0,I.H)(((e,t)=>{const n=t?t():void 0;return Object.assign({},e,{startPosition:n})})),W=e=>{let{source:t,heartbeatTimes:n,placeName:l,rumFeature:T,videoPlayerSettings:S,isPlayerPreloadingQueueEnabled:P,videoDuration:x,className:N,backoffice:I,isAllowAutoplay:O,showVideoControlsRef:W,withAutoReplay:U,isInitialControlsVisible:X=!1,stopVideoAfterReplaysCount:$,stopVideoAfterWatchedSeconds:Q,isForcedReplay:q,isSmartAutoplay:Y,frameFit:K,isSilenceMode:j,isMuted:G,isOpenedDesktopModal:J,itemOrder:ee,isLockedPlayer:te=!1,isVideoSubtitlesForceEnabled:ne=!1,isNativeAdControlsHidden:ie=!1,isDisabledControlToggle:oe,isForceVisiblePlayer:re=!1,isForceAutoplay:le=!1,isForceDelayedAutoplay:ae=!1,isInitialVisible:se,isDisabledHovered:ce,isDesktop:ue,isHiddenControlAfterError:de,apiHost:me,isKeepPlayer:he,isKeepFullscreen:ve,isInlineInit:pe,isDeferredAutoplay:ge,isPIPDisabled:be=!1,onEnd:fe,onPlay:Ce,onSeek:we,onSeekLong:ye,onPause:Ee,onPlayerApiLoaded:ke,onHeartbeat:_e,onAutoplay:Te,onAutopause:Se,onAdStateChange:Pe,onLoadedFirstFrame:xe,onMuteChange:Re,onMuteChangeByUser:Ne,onInitIsEnded:Me,onVisibilityChanged:Le,onFullscreenChange:Ve,onAutoplayChange:Ae,onChangeCountViewers:Be,onCurrentTimeChange:Fe,onReplay:Ie,onStateChange:De,onAdPodTimeToSkipChange:Oe,onAdPodStart:He,onBeforeAdPodStart:ze,onVideoPlayerMount:Ze,onBeforeInit:We,onClick:Ue,children:Xe,videoRef:$e,isVisible$:Qe,videoPlayersManager:qe,videoPlayersPool:Ye,playerVideoRatioSize:Ke,playInRollAdTimerSec:je,inRollPlayingTimerSec:Ge,canPlayWhenInvisible:Je,videoSkinTimelinePreview:et,videoSkinRedesignDesktopRevision:tt,videoQuality:nt,playerRef:it,playbackRate:ot,getStartPosition:rt,onCopyVsid:lt,tabIndex:at,withTogglePlay:st,withOpenFullscreenByDbclick:ct,triggerEventTogglePlay:ut="onPointerDown",initialPlayingState:dt=b.de.Unstarted,canRenderPlayer:mt=!0,pauseVideoRef:ht,playVideoRef:vt,isVideoSourceMocked:pt}=e;const gt=(0,k.bU)(),bt=(0,o.useRef)(),{publicState:ft,publicApi:Ct}=(0,E.e)({isStub:!1,videoPlayerRef:bt,initialData:{currentTime:rt&&rt(),duration:pt?30:x}}),wt=(0,F.b)(!1),yt=(0,o.useRef)();(0,c.Z)((()=>{Ze&&Ze(Ct),X&&yn(!0)}));const[Et,kt]=(0,o.useState)(X),[_t,Tt]=(0,o.useState)(!1),[St,Pt]=(0,o.useState)(pe||!S.isShowingThePlayerWaitsUntilTheStart),[xt,Rt]=(0,o.useState)(dt),[Nt,Mt]=(0,o.useState)(!1),Lt=xt===b.de.Ended,[Vt,At]=(0,o.useState)(!1),[Bt,Ft]=(0,o.useState)(!1),[It,Dt]=(0,o.useState)(!1),Ot=(0,o.useRef)(null),Ht=(0,o.useRef)(!1),zt=(0,o.useRef)(!1),Zt=(0,o.useRef)(0),Wt=(0,o.useRef)(!1),Ut=(0,o.useRef)(!0),Xt=(0,o.useRef)(xt),$t=(0,o.useRef)(0),Qt=(0,o.useRef)(!1),qt=(0,o.useRef)(Boolean(S.isNativePreload&&!qe.getIsNativePreloadFailed())),Yt=te&&!qt.current,{fullscreenElementRef:Kt,isFullscreen:jt,requestFullscreen:Gt,exitFullscreen:Jt,isSupportedFullscreen:en}=(0,u.W)(It),tn=(0,d.e)(Kt,it);(0,o.useEffect)((()=>{Zt.current=0}),[Bt]),(0,o.useEffect)((()=>{bt.current&&Nt&&bt.current.setPictureInPictureAllowed(!be)}),[be,Nt]);const nn=((e,t)=>{const n=(0,y.y)();(0,C.m)((()=>n),(e=>{i&&i.setPageVisibility(e)}));const i=(0,o.useMemo)((()=>{const n=e.getPlayerRUM();return t?new n({feature:t}):null}),[e,t]);return(0,c.Z)((()=>{null==i||i.sendFirstInteractiveMark()})),{onBeforeInit:(0,o.useCallback)((()=>{null==i||i.setInitingTs()}),[i]),onContentImpression:(0,o.useCallback)((()=>{null==i||i.handleContentImpression()}),[i]),onVisibilityChange:(0,o.useCallback)((e=>{null==i||i.setPlayerVisibility(Boolean(e))}),[i]),onAutoplay:(0,o.useCallback)((()=>{null==i||i.onAutoplay()}),[i])}})(qe,T),on=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[i]=(0,o.useState)(new s(...t));return i}($e),rn=(0,m.m)((e=>{const t=Math.floor(e);isNaN(t)||ft.duration.next(t)})),ln=(0,m.m)(((e,t)=>{ft.currentTime.next(e),(0,r.dC)((()=>{$t.current=t,ft.watchedTime.next(t),Fe&&Fe({currentTime:e,watchedTime:t})}))})),an=(0,m.m)((e=>{(0,r.dC)((()=>{St||Pt(e>0)}))})),sn=(0,m.m)((()=>{(0,r.dC)((()=>{un(b.de.Error)})),vi()})),cn=(0,m.m)((()=>{vi(),oi()})),un=(0,m.m)((e=>{(0,r.dC)((()=>{e===b.de.Ended&&e!==Xt.current&&(!ve&&Ai(!1),fe&&fe(),U&&Mi()),De&&De(e),Rt(e),Xt.current=e}))})),dn=(0,m.m)((()=>{Ce&&Ce()})),mn=(0,o.useCallback)(((e,t)=>{we&&we({videoPos:String(Math.round(e)),videoTime:String(Math.round(t))})}),[we]),hn=(0,o.useCallback)(((e,t)=>{ye&&ye({videoPos:String(Math.round(e)),videoTime:String(Math.round(t))})}),[ye]),vn=(0,g.K)(mn,1e3,{leading:!0,trailing:!1}),pn=(0,m.m)((()=>{Ee&&Ee()})),gn=(0,m.m)((()=>{nn.onContentImpression(),xe&&xe()})),bn=(0,m.m)((e=>{ft.volume.next(e)})),fn=(0,m.m)((e=>{Be&&Be(e)})),Cn=(0,o.useCallback)((e=>{const t=Xt.current===b.de.Paused,n=Xt.current===b.de.Unstarted||Xt.current===b.de.Buffering;t||_t||n&&e||kt(!1)}),[_t]),wn=(0,o.useCallback)((e=>{Zt.current>0||Cn(e)}),[Cn]),yn=(0,h.F)(wn,3e3),En=(0,m.m)((()=>{const e=ft.isMuted.value;de&&e||kt(!0)})),kn=(0,m.m)((e=>{Pe&&Pe(e);const t=e.state===f.M.PLAYING;Ft(t)})),_n=(0,m.m)((e=>{e&&ft.currentVideoTrack.next(e)})),Tn=(0,m.m)((e=>{ft.videoTracks.next(e),xn()})),Sn=(0,m.m)((e=>{ft.currentTextTrack.next(e)})),Pn=(0,m.m)((e=>{S.withSubtitlesControl&&(ft.textTracks.next(e),xn())})),xn=(0,o.useCallback)((()=>{const e=ft.currentVideoTrack.value,t=ft.videoTracks.value;if(nt&&bt.current){if(nt===L.$)return void bt.current.setVideoTrack(L.$);const n=(t||[]).find((e=>e.name===nt));n&&(null==e?void 0:e.name)!==n.name&&bt.current.setVideoTrack(n.value)}}),[ft,nt]);(0,v.Z)((()=>{xn()}),[nt,xn]);const Rn=(0,o.useCallback)((function(e){if(void 0===e&&(e=V.mw),"video-modal"===l||!S.withPlaybackRateControl||!bt.current)return;const t=ft.currentPlaybackRate.value;(ft.playbackRates.value||[]).includes(e)||(e=V.mw),t!==e&&bt.current.setPlaybackRate(e)}),[l,S,ft]);(0,v.Z)((()=>{Rn(ot)}),[Rn,ot]);const Nn=(0,m.m)((e=>{ft.currentPlaybackRate.next(e)})),Mn=(0,m.m)((e=>{S.withPlaybackRateControl&&(ft.playbackRates.next(e),Rn(ot))})),Ln=(0,o.useCallback)((e=>{He&&He(e)}),[He]),Vn=(0,o.useCallback)((e=>{ze&&ze(e)}),[ze]),An=(0,m.m)((e=>{S.withAdCountdown&&ft.nextAdRemainingTime.next(e)})),Bn=(0,m.m)((e=>{ft.adPodCurrentTime.next(e)})),Fn=(0,m.m)((e=>{ft.adPodDuration.next(e)})),In=(0,m.m)((e=>{Oe&&Oe(e)})),Dn=(0,m.m)((e=>{(0,r.dC)((()=>{ln(e.currentTime,e.watchedTime),un(e.playingState),e.duration&&rn(e.duration),e.liveCount&&fn(e.liveCount),e.adState&&kn(e.adState),e.tileMetaInfoUrl&&zn(e.tileMetaInfoUrl),_n(e.currentVideoTrack),Tn(e.videoTracks||[]),Sn(e.currentTextTrack),Pn(e.textTrack||[]),Nn(e.currentPlaybackRate),Mn(e.playbackRates||[]),An(e.nextAdRemainingTime),Bn(e.adPodCurrentTime),Fn(e.adPodDuration),In(e.adPodTimeToSkip)}))})),{loadTiles:On,getTile:Hn}=(()=>{const[e,t]=(0,o.useState)();return{loadTiles:(0,o.useCallback)((async e=>{const n=await fetch(e),i=await n.json();t((0,_.Hj)(R,i,"parseVideoTiles"))}),[]),getTile:(0,o.useCallback)((function(t,n,i){if(void 0===i&&(i=0),e&&!(e.thumbnails.length<=0))return e.thumbnails.reduce(((e,o)=>Object.assign({},e,{["lowres"===o.label?"lowRes":"highRes"]:M(o,t,i,n)})),{})}),[e])}})(),zn=(0,m.m)((async e=>{const{current:t}=bt;et&&t&&(await On(e),ft.isMetaInfoPreviewLoaded.next(!0))})),Zn=(0,m.m)((e=>{const{current:t}=bt,n=ft.duration.value;if(t)return Hn(e,n,t.getUtcStartTime())})),Wn=(0,m.m)((()=>{const{current:e}=bt;if(e)return e.getVsid()})),Un=()=>({heartbeatTimes:n,isMuted:G,isAutoplay:"zen"!==S.autoplayMode,placeName:l,frameFit:K,hackPreload:S.hackPreload,maxBufferLength:S.maxBufferLength,restorePlaybackProgress:S.restorePlaybackProgress,isPreloadOptimizationEnabled:S.isPreloadOptimizationEnabled,backoffice:I,apiName:S.apiName,isVideoSubtitlesForceEnabled:ne,isNativeAdControlsHidden:ie,apiHost:me,isMovePlayerCheckExists:S.isMovePlayerCheckExists,autoplayMode:S.autoplayMode}),Xn=(0,m.m)((()=>{const e=Un(),{current:n}=Ot;n&&(bt.current||(bt.current=qe.giveMePlayer(n,e,Z(t,rt),qt.current)),bt.current.preloadSourceWithFallback({playerElement:n,playerConfig:e,videoSource:Z(t,rt),onNativePreloadFail:()=>{qt.current=!1,qe.onNativePreloadFail(),bt.current=void 0,Yn()},isNativePreload:qt.current}))})),$n=(0,m.m)((e=>{Re&&Re(e),ft.isMuted.next(e)})),Qn=(0,m.m)((e=>{Ne&&Ne(e),ft.isMuted.next(e)})),qn=(0,m.m)((async function(e){void 0===e&&(e=!1),yt.current=(0,w.h)(t),nn.onBeforeInit();const n=Un(),{current:i}=Ot;if(!i)throw new Error("ZenVideoPlayer: player container not found");Mt(!1),xt===b.de.Error&&Rt(b.de.Unstarted);const o=bt.current=bt.current||qe.giveMePlayer(i,n,Z(t,rt),qt.current),r={onDurationChange:rn,onCurrentTimeChange:ln,onCurrentAccuracyWatchedTimeChange:an,onError:sn,onDestroy:cn,onStateChange:un,onContentImpression:gn,onUserPlay:dn,onUserPause:pn,onVolumeChange:bn,onMuteChangeInAd:Qn,onMuteChange:$n,onHeartbeat:_e,onAdPodStart:Ln,onBeforeAdPodStart:Vn,onNextAdRemainingTimeChange:An,onAdPodCurrentTimeChange:Bn,onAdPodTimeToSkipChange:In,onAdPodDurationChange:Fn,onAdStateChange:kn,onAutoplayFail:En,onOnlineViewerCountChange:fn,onVideoTrackChange:_n,onVideoTracksChange:Tn,onTextTrackChange:Sn,onTextTracksChange:Pn,onPlaybackRateChange:Nn,onPlaybackRatesChange:Mn,onResourcesIdle:pi,onSyncStates:Dn,onTileMetaInfoUrlChange:zn};o.flushPlayer(!1),o.handleEvents(r);const l=o.getIsInlineInited();l&&o.setIsInlineInited(!1),We&&We(),o.init(i,n,Z(t,rt),l),ge||!e&&!It||l||o.autoplay(),o.isPlayerReady()&&vi(),on.current=await o.getHtmlVideoElement(),ke&&bt.current&&ke(bt.current)}));(0,v.Z)((()=>{It&&ti()}),[ge]);const Yn=(0,m.m)((()=>{Qt.current=!0,O&&Xn(),wt.next(!0)}));(0,v.Z)((()=>{mt&&(ft.isMetaInfoPreviewLoaded.next(!1),qn())}),[(0,w.h)(t),mt]);const Kn=(0,m.m)((()=>{Qt.current=!1,bt.current&&!Yt&&(bt.current.abortPreloadSource(Z(t,rt)),qe.takePlayer(bt.current),bt.current=void 0,on.current=null,wt.next(!1))})),jn=(0,o.useRef)("pause"),Gn=(0,m.m)((e=>{if(e){if("play"===jn.current)return;jn.current="play",Ut.current?Te&&Te():Ce&&Ce(),Ut.current=!0}else{if("pause"===jn.current)return;jn.current="pause",J?Ee&&Ee():Se&&Se()}})),Jn=(0,m.m)((()=>{Dt(!0),O&&(!Lt||U)&&mt&&(qn(!0),Ae&&Ae(!0),At(!Vt),Gn(!0),nn.onAutoplay(),Ht.current=!0)})),ei=(0,h.F)(Jn,1e3*(S.autoplayDebouncedTimeout||0));(0,v.Z)((()=>{Y||ei.cancel()}),[Y]);const ti=(0,m.m)((()=>{const{autoplayDebouncedTimeout:e,autoplayDurationLimitEnable:t,autoplayDurationLimitSeconds:n=0}=S,i=ft.duration.value;Y?t&&i>=n||(ae||e&&!Ht.current?ei():Jn()):Jn()})),ni=(0,m.m)((()=>{ei.cancel(),Dt(!1),O&&(bt.current&&bt.current.autopause(),Ae&&Ae(!1),kt(!1),Gn(!1))})),ii=(0,m.m)((e=>{const{current:t}=bt;if(e)It&&ti();else{if(!t)return;t.autopause(),Gn(!1),Ae&&Ae(!1)}}));(0,v.Z)((()=>{ii(O)}),[O]),(0,v.Z)((()=>{j?(O||ni(),ai()):ci()}),[j]),(0,v.Z)((()=>{di(ee)}),[ee]);const oi=(0,m.m)((()=>{Qt.current=!1,bt.current&&!Yt&&(qe.destroyPlayer(bt.current),bt.current=void 0,on.current=null)})),[{setPlayerInitIsEnded:ri,setIsVisible:li,destroy:ai,setLocked:si,recreate:ci,setCanPlayWhenInvisible:ui,changeIndex:di,setForcedAutoplay:mi,unsetForcedAutoplay:hi}]=(0,o.useState)((()=>Ye.createNewPlayer({isInitialVisible:se,index:ee,countPlayersBefore:S.isNativePreload?0:S.countPlayersBefore,countPlayersAfter:S.countPlayersAfter,isPlayerPreloadingQueueEnabled:P,handlers:{onAutoplay:ti,onAutopause:he?ni:()=>{ni(),oi()},onFocus:he?Yn:()=>{},onUnfocus:he?Kn:()=>{}}})));(0,C.m)((()=>Qe),(e=>{jt||null===e||(le&&(e?mi():hi()),li(e),nn.onVisibilityChange(e),Le&&Le(e))}));const vi=(0,m.m)((()=>{Mt((e=>(e||(ri(),Me&&Me(),qe.handleInitAfterInline()),!0)))})),pi=(0,m.m)((()=>{vi()}));(0,o.useEffect)((()=>{bt.current&&G!==bt.current.getMuted()&&bt.current.setMuted(G)}),[G]),(e=>{let{playInRollAdTimerSec:t,watchedTime:n,videoPlayer:i,isAdVisible:r,isInRollAdPlay:l,inRollPlayingTimerSec:a=5}=e;const s=(0,o.useRef)(!1),c=(0,o.useRef)();(0,o.useEffect)((()=>{n&&void 0===c.current&&(c.current=Boolean(t&&n>=t))}),[n,t]),(0,o.useEffect)((()=>{c.current&&!s.current&&l&&i&&!r&&(s.current=!0,i.playInrollAd(a))}),[a,r,l,i])})({isAdVisible:Bt,playInRollAdTimerSec:je,inRollPlayingTimerSec:Ge,videoPlayer:bt.current,isInRollAdPlay:Qt.current&&"play"===jn.current,watchedTime:$t.current}),(0,o.useEffect)((()=>{si(Yt)}),[Yt,si]),(0,o.useEffect)((()=>{ui(Boolean(Je))}),[Je,ui]),(0,o.useEffect)((()=>{bt.current&&bt.current.setFrameFit(jt?"contain":K)}),[K,jt]),(0,v.Z)((()=>Ve&&Ve(jt)),[Ve,jt]),(0,v.Z)((()=>{J&&(Ut.current=!1)}),[J]),(0,p.Z)((()=>{ai()})),function(e,t,n,i){void 0===t&&(t=0);const r=(0,o.useRef)(0);(0,o.useEffect)((()=>{n&&r.current++}),[n]),(0,o.useEffect)((()=>{r.current=0}),[i]),(0,o.useEffect)((()=>{0!==t&&t===r.current&&(r.current=0,e())}),[n,t,e])}(ni,$,Lt,Vt),function(e,t,n,i){void 0===t&&(t=0);const r=(0,o.useRef)(0);(0,o.useEffect)((()=>{r.current++}),[n]),(0,o.useEffect)((()=>{r.current=0}),[i]),(0,o.useEffect)((()=>{0!==t&&r.current>=t&&(r.current=0,e())}),[n,e,t])}(ni,Q,$t.current,Vt);const gi=(0,o.useCallback)((()=>{kt((e=>(xt===b.de.Paused||e||yn(),!e)))}),[xt,yn]),bi=(0,o.useCallback)((()=>{kt(!0),yn()}),[yn]);(0,o.useEffect)((()=>{W&&(W.current=bi)}),[bi,W]);const fi=(0,o.useCallback)((e=>{Zt.current=Math.max(0,Zt.current+(e?1:-1)),yn()}),[yn]),Ci=(0,o.useCallback)((()=>{fi(!0)}),[fi]),wi=(0,o.useCallback)((()=>{Tt(!0)}),[]),yi=(0,o.useCallback)((()=>{fi(!1),Tt(!1)}),[fi]),Ei=(0,o.useCallback)((()=>{Wt.current=!0}),[]),ki=(0,o.useCallback)((()=>{Wt.current=!1,tt?Cn():yn()}),[Cn,yn,tt]),_i=(0,o.useCallback)((()=>{fi(!0),window.addEventListener("pointerup",(()=>fi(!1)),{once:!0})}),[fi]),Ti=(0,o.useCallback)((async()=>{if(Ne&&bt.current){const e=bt.current.getMuted();ft.volume.next(bt.current.getVolume()),bt.current.setMuted(!e),Ne(!e),ft.isMuted.next(!e)}yn()}),[ft,Ne,yn]),Si=(0,o.useCallback)((e=>{bt.current&&(bt.current.setVolume(e),ft.volume.next(e))}),[ft]),Pi=(0,o.useCallback)((()=>{bi()}),[bi]),xi=(0,o.useCallback)((()=>{bt.current&&(bt.current.pause(),Ee&&Ee()),kt(!0)}),[Ee]);(0,o.useEffect)((()=>{ht&&(ht.current=xi)}),[xi,ht]);const Ri=(0,o.useCallback)((()=>{bt.current&&bt.current.safePlay(),yn()}),[yn]);(0,o.useEffect)((()=>{vt&&(vt.current=Ri)}),[Ri,vt]);const Ni=(0,o.useCallback)((()=>{Ri(),Ce&&Ce(),Dt(!0)}),[Ri,Ce]),Mi=(0,o.useCallback)((()=>{Ri(),Ie&&Ie()}),[Ri,Ie]);(0,v.Z)((()=>{q&&Mi()}),[q]);const Li=(0,o.useCallback)(((e,t,n)=>{if(bt.current){const i=t||bt.current.getCurrentTime();n===b.N9.Long?hn(i,e):vn(i,e),bt.current.seek(e)}yn()}),[yn,hn,vn]),Vi=(0,o.useCallback)((function(e,t){void 0===t&&(t="seconds"),bt.current&&bt.current.seekBy(e,t)}),[]),Ai=(0,o.useCallback)((e=>{en?jt!==e&&(e?Gt():Jt()):bt.current&&bt.current.setFullscreen(e)}),[Jt,jt,en,Gt]),{togglePlayVideo:Bi,toggleFullscreen:Fi}=(e=>{let{playerState:t,handlePlay:n,handlePause:i,withOpenFullscreenByDbclick:r,setFullscreen:l,isFullscreen:a,controlsLockCountRef:s}=e;const c=(0,o.useCallback)((()=>{t===b.de.Paused?n():t===b.de.Playing&&i()}),[t,n,i]),u=(0,o.useCallback)((()=>{r&&l(!a)}),[a,r,l]),{onSingleClick:d,onDoubleClick:m}=(0,D.e)({onSingleClick:c,onDoubleClick:u});return{togglePlayVideo:(0,o.useCallback)((e=>{s.current>0||d(e)}),[s,d]),toggleFullscreen:m}})({playerState:xt,handlePlay:Ni,handlePause:xi,withOpenFullscreenByDbclick:ct,setFullscreen:Ai,isFullscreen:jt,controlsLockCountRef:Zt}),Ii=(e=>{let{isForceVisiblePlayer:t,isAllowAutoplay:n,isEnded:i,isInlineInit:o,isCanShowThePlayer:r,isShowingThePlayerWaitsUntilTheStart:l,isPlayerReady:a,withAutoReplay:s,isAutoplayCommand:c,isInitingCurrentSource:u}=e;return(!l||a&&r&&u)&&(!i&&c&&n||i&&s||t)||Boolean(o)})({isShowingThePlayerWaitsUntilTheStart:S.isShowingThePlayerWaitsUntilTheStart,isInlineInit:pe,isEnded:Lt,isAllowAutoplay:O,isAutoplayCommand:It,isForceVisiblePlayer:re,isPlayerReady:Nt,isCanShowThePlayer:St,withAutoReplay:U,isInitingCurrentSource:yt.current===(0,w.h)(t)}),Di=(e=>{let{isInlineInit:t,isDeferredAutoplay:n,videoPlayersManager:i,prepareConfig:o,videoSource:r,isForceMutedWhenInline:l}=e;return""})({isInlineInit:pe,videoPlayersManager:qe,isDeferredAutoplay:ge,isForceMutedWhenInline:S.isForceMutedWhenInline,prepareConfig:Un,videoSource:Z(t,rt)});zt.current||xt!==b.de.Error?zt.current&&xt===b.de.Playing&&(zt.current=!1):zt.current=!0;const Oi=zt.current?i.createElement("div",{className:z("blackout")}):null;(e=>{let{containerRef:t,getVsid:n,onCopyVsid:i}=e;const[,r]=(0,A.m)(),l=(0,o.useCallback)((()=>{const e=n()||"",t=r(e);setTimeout((()=>{i&&i(e,!1,!1)}),5e3),i&&i(e,!0,t)}),[r,n,i]),a=(0,o.useMemo)((()=>({el:t,onLongDoubleTap:l,removeDocumentListenersOnUnmount:!0})),[t,l]);(0,B.U)(a),(0,o.useEffect)((()=>{const e=e=>{e.shiftKey&&r(n())},i=t.current;return i&&i.addEventListener("click",e),()=>{i&&i.removeEventListener("click",e)}}),[t,r,n])})({containerRef:Kt,getVsid:Wn,onCopyVsid:lt});const Hi=(0,m.m)((()=>qe.getVideoElement())),zi=pe||Bt||oe;return i.createElement("div",{className:z({isAdVisible:Bt}),"aria-label":H.videoPlayer(gt),ref:tn,onMouseEnter:Ei,onMouseLeave:ki,onPointerDown:_i,onKeyDown:e=>{let t=0;"ArrowUp"===e.key?t=5:"ArrowDown"===e.key&&(t=-5),0!==t&&((e=>{const t=ft.volume.value||(G?0:100),n=Math.min(100,Math.max(0,t+e));Si(n)})(t),e.preventDefault(),bi())},tabIndex:at,"data-ready":Nt},mt&&i.createElement("div",{className:(0,a.C)(N,z("player-keeper",{isVisible:Ii,frameFit:K}))},i.createElement("div",{ref:Ot,id:void 0,className:z("player"),style:jt?{}:Ke,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:""}})),Oi,Xe({videoPlayerPublicApi:Ct,seek:Li,play:Ni,recreatePlayer:qn,pause:xi,replay:Mi,containerRef:Kt,setFullscreen:Ai,playerState:xt,isControlsVisible:Et,isForceVisiblePlayer:re,isVisiblePlayer:Ii,htmlVideoRef:on,onControlsToggle:gi,duration:pt?30:ft.duration.value,muteToggle:Ti,volumeChange:Si,showControls:bi,focusChange:Pi,isInVideoPoolAutoplay:pe||It,isFullscreen:jt,onControlsLock:Ci,onForceControlsLock:wi,onControlsRelease:yi,seekBy:Vi,getPreviewTile:Zn,setControlsIsVisible:kt,isInVideoPoolFocus$:wt,getVideoElement:Hi,isAdVisible:Bt,isPlayerReady:Nt}),i.createElement("div",{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:Di}}),zi?null:i.createElement("div",{className:z("control-toggle",{isControlsVisible:Et,isClickable:!!Ue}),onClick:Ue,[ut]:st?Bi:gi,onDoubleClick:Fi,onMouseMove:ue&&!ce?bi:void 0}))}},18193:(e,t,n)=>{n.d(t,{F:()=>a});var i=n(29901),o=n(13714),r=n(54105);const l=(0,n(59321).N)("video-preview"),a=(0,o.memo)((e=>{let{image:t,blurredPreview:n,isBlurredOnly:o,borderRadiusSize:a,className:s,ratioSize:c,frameFit:u,shouldForceRender:d=!1,firstFrame:m,useFirstFrameType:h,isVisiblePlayer:v,isLoading:p}=e;const g=m&&"before-start"===h;return m&&"after-start"===h?i.createElement(i.Fragment,null,i.createElement("div",{className:l({isVisible:!v})},i.createElement(r.g,{image:t,blurredPreview:n,isBlurredOnly:!1,borderRadiusSize:a,className:s,ratioSize:c,frameFit:u,shouldForceRender:d})),i.createElement("div",{className:l({isVisible:v})},i.createElement(r.g,{image:m||"",blurredPreview:n,isBlurredOnly:!1,borderRadiusSize:a,className:s,ratioSize:c,frameFit:"contain"}))):i.createElement(i.Fragment,null,i.createElement("div",{className:l({isVisible:g||!v})},i.createElement(r.g,{image:g?m||"":t,blurredPreview:n,isBlurredOnly:!g&&o,borderRadiusSize:a,className:s,ratioSize:c,frameFit:g?u||"contain":u,shouldForceRender:d,isLoading:p})))}))},17330:(e,t,n)=>{n.d(t,{N:()=>s});var i=n(29901),o=n(80587),r=n(27340);const l={time:{ru:"время осталось",_context:""}},a=((0,r.Wh)(l),(0,r.bN)(l)),s=e=>{let{time:t,className:n,"aria-label":l}=e;const s=(0,r.bU)();return i.createElement("span",{className:n,"aria-label":l||a.time(s)},(0,o.Q)(t))}},65003:(e,t,n)=>{n.d(t,{B:()=>s,e:()=>c});n(14072),n(53208);var i=n(13714),o=n(42955),r=n(72530),l=n(6074);const a=[],s=(e,t,n)=>{const i={next:n};return e[t].subscribe(i)},c=e=>{let{isStub:t,videoPlayerRef:n,initialData:s}=e;const c=(0,i.useCallback)((e=>{!t&&e&&n.current&&n.current.setPlaybackRate(e)}),[t,n]),u=(0,i.useCallback)((e=>{e&&n.current&&n.current.setVideoTrack(e)}),[n]),d=(0,i.useCallback)((()=>n.current?n.current.getPlayingState():l.de.Unstarted),[n]),m=(0,i.useCallback)((e=>{n.current&&n.current.setTextTrack(e)}),[n]),h=(0,i.useCallback)((()=>{n.current&&n.current.safePlay()}),[n]),v=(0,i.useCallback)((()=>{n.current&&n.current.pause()}),[n]),p=(0,i.useCallback)((()=>{n.current&&n.current.skipAdPod()}),[n]),g=(0,i.useCallback)((()=>{n.current&&n.current.openReportWindow()}),[n]),b=(0,i.useCallback)((()=>{if(n.current)return n.current.getCurrentTime()}),[n]),f=(0,i.useCallback)((e=>{if(n.current)return n.current.seek(e)}),[n]),C=(0,i.useCallback)(((e,t)=>{n.current&&n.current.logError(e,t)}),[n]),[w]=(0,i.useState)((()=>({currentTime:new o.X((null==s?void 0:s.currentTime)||0),adPodCurrentTime:new o.X(void 0),adPodDuration:new o.X(void 0),nextAdRemainingTime:new o.X(null==s?void 0:s.nextAdRemainingTime),currentPlaybackRate:new o.X(r.mw),playbackRates:new o.X((null==s?void 0:s.playbackRates)||a),currentVideoTrack:new o.X(null==s?void 0:s.currentVideoTrack),videoTracks:new o.X((null==s?void 0:s.videoTracks)||[]),currentTextTrack:new o.X(null==s?void 0:s.currentTextTrack),textTracks:new o.X((null==s?void 0:s.textTracks)||[]),isMuted:new o.X(!0),volume:new o.X((null==s?void 0:s.volume)||100),duration:new o.X((null==s?void 0:s.duration)||0),liveCount:new o.X(void 0),watchedTime:new o.X((null==s?void 0:s.watchedTime)||0),isMetaInfoPreviewLoaded:new o.X(!1)}))),y=(0,i.useCallback)((e=>{n.current&&(n.current.setMuted(e),n.current.handlers.onMuteChange.emit(e))}),[n]),E=(0,i.useCallback)((e=>{n.current&&(n.current.setVolume(e),n.current.handlers.onVolumeChange.emit(e))}),[n]),k=(0,i.useCallback)((e=>{n.current&&n.current.setPictureInPictureAllowed(e)}),[n]),_=(0,i.useCallback)((e=>{n.current&&n.current.sendRatingLog(e)}),[n]),T=(0,i.useCallback)((()=>{var e;return(null==(e=n.current)?void 0:e.canShowQoeQuestion())||!1}),[n]),S=(0,i.useCallback)((()=>{var e;null==(e=n.current)||e.markQoeQuestionAnswered()}),[n]),P=(0,i.useCallback)((()=>{var e;null==(e=n.current)||e.markQoeQuestionShown()}),[n]),[x]=(0,i.useState)((()=>({state:w,isStub:t,play:h,pause:v,skipAdPod:p,onGetPlayingState:d,setPlaybackRate:c,setVideoTrack:u,setTextTrack:m,openReportWindow:g,getCurrentTime:b,seek:f,logError:C,setMuted:y,setVolume:E,setPictureInPictureAllowed:k,sendRatingLog:_,canShowQoeQuestion:T,markQoeQuestionAnswered:S,markQoeQuestionShown:P})));return{publicState:w,publicApi:x}}},95862:(e,t,n)=>{n.d(t,{b:()=>a});var i=n(13714),o=n(33930),r=n(17950),l=n(65003);const a=()=>{const e=(0,i.useRef)(),t=(0,i.useRef)(),{publicState:n,publicApi:a}=(0,l.e)({isStub:!0,videoPlayerRef:e}),s=(0,i.useCallback)((t=>{e.current=t}),[]),c=(0,i.useCallback)((e=>{t.current&&t.current();const i=(0,o.u)(n).map((t=>((e,t,n)=>{const i=t[e];return(0,l.B)(n,e,(e=>i.next(e)))})(t,n,e.state)));a.isStub=!1,t.current=()=>{i.forEach((e=>e.unsubscribe()))}}),[a,n]);return(0,r.Z)((()=>{t.current&&t.current()})),{publicApi:a,handleVideoPlayerMount:c,handlePlayerApiLoaded:s}}},61194:(e,t,n)=>{n.d(t,{U:()=>l});n(14072),n(53208);var i=n(13714),o=n(65003);const r=(e,t,n)=>{const i=Object.assign({});return t.forEach((t=>{i[t]=n(e[t])})),i},l=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];const{state:a}=e,[s,c]=(0,i.useState)((()=>r(a,n,(e=>e.getValue())))),u=(0,i.useRef)(n);return(0,i.useEffect)((()=>{const e=u.current.map((e=>(0,o.B)(a,e,(t=>{c((n=>n[e]===t?n:Object.assign({},n,{[e]:t})))}))));return()=>{e.forEach((e=>e.unsubscribe()))}}),[a]),s}},5128:(e,t,n)=>{n.d(t,{B:()=>i});const i={isEnabled:!1,videoPage:{isEnabled:!1},feed:{isEnabled:!1},questionText:"",answerText:"",answerTextBadMark:"",relatedText:"",relatedQualityOption:"",relatedAdsOption:"",relatedFeaturesOption:"",relatedContentOption:""}},93441:(e,t,n)=>{n.d(t,{U:()=>r});var i=n(93942),o=n(77880);const r=function(e,t){return void 0===t&&(t=()=>{}),{videoPlay:()=>e((0,o.q)("play")),videoEnd:()=>{e((0,o.q)("end")),t()},videoAutoplay:()=>{e((0,o.q)("autoplay")),t()},videoReplay:()=>e((0,o.q)("replay")),videoPause:()=>{e((0,o.q)("pause")),t()},videoAutopause:()=>{e((0,o.q)("autopause")),t()},videoSoundToggle:n=>{e((0,o.q)(n?"sound_off":"sound_on")),t()},videoHeartbeat:function(t){let{videoPos:n,videoTime:r}=void 0===t?{}:t;n&&e((0,o.q)("heartbeat"),{bulkReplaceMap:{_video_pos_:(0,i.M)(n,"_video_pos_"),__video_time__:(0,i.M)(r,"__video_time__"),__view_timeline_sec__:(0,i.M)(r,"__view_timeline_sec__")}})},videoSeek:function(t){let{videoPos:n,videoTime:r}=void 0===t?{}:t;e((0,o.q)("seek"),{bulkReplaceMap:{_video_pos_:(0,i.M)(n,"_video_pos_"),__video_time__:(0,i.M)(r,"__video_time__"),__view_timeline_sec__:(0,i.M)(r,"__view_timeline_sec__")}})},videoSeekDiscrete:function(t){let{videoPos:n,videoTime:r}=void 0===t?{}:t;e((0,o.q)("seek:discrete"),{bulkReplaceMap:{_video_pos_:(0,i.M)(n,"_video_pos_"),__video_time__:(0,i.M)(r,"__video_time__"),__view_timeline_sec__:(0,i.M)(r,"__view_timeline_sec__")}})},videoSeekLong:function(t){let{videoPos:n,videoTime:r}=void 0===t?{}:t;e((0,o.q)("seek:long"),{bulkReplaceMap:{_video_pos_:(0,i.M)(n,"_video_pos_"),__video_time__:(0,i.M)(r,"__video_time__"),__view_timeline_sec__:(0,i.M)(r,"__view_timeline_sec__")}})},videoSeekTimeCodeEpisode:function(t){let{videoPos:n,videoTime:r}=void 0===t?{}:t;e((0,o.q)("seek:timecode_episode"),{bulkReplaceMap:{_video_pos_:(0,i.M)(n,"_video_pos_"),__video_time__:(0,i.M)(r,"__video_time__"),__view_timeline_sec__:(0,i.M)(r,"__view_timeline_sec__")}})},videoSeekEpisodeTap:function(t){let{videoPos:n,videoTime:r}=void 0===t?{}:t;e((0,o.q)("seek:episode"),{bulkReplaceMap:{_video_pos_:(0,i.M)(n,"_video_pos_"),__video_time__:(0,i.M)(r,"__video_time__"),__view_timeline_sec__:(0,i.M)(r,"__view_timeline_sec__")}})},videoSeekTimeCode:function(t){let{videoPos:n,videoTime:r}=void 0===t?{}:t;e((0,o.q)("seek:timecode"),{bulkReplaceMap:{_video_pos_:(0,i.M)(n,"_video_pos_"),__video_time__:(0,i.M)(r,"__video_time__"),__view_timeline_sec__:(0,i.M)(r,"__view_timeline_sec__")}})},videoButtonNext:()=>{e((0,o.q)("next_previous_buttons:next"))},videoButtomPrevious:()=>{e((0,o.q)("next_previous_buttons:previous"))},videoAutoplayOn:()=>{e((0,o.q)("autoplay_on"))},videoAutoplayOff:()=>{e((0,o.q)("autoplay_off"))},videoAdVideoPlay:t=>{const n=t?{payload:{json_data:t}}:void 0;e((0,o.q)("ad_video:play"),n)},videoAction:()=>{e((0,o.q)("action"))},videoPlaybackSpeed:function(t){let{from:n,to:r,time:l}=void 0===t?{}:t;e((0,o.q)("playback:speed"),{bulkReplaceMap:{__video_from__:(0,i.M)(n,"__video_from__"),__video_to__:(0,i.M)(r,"__video_to__"),__video_time__:(0,i.M)(l,"__video_time__")}})},videoPlaybackQuality:function(t){let{from:n,to:r,time:l}=void 0===t?{}:t;e((0,o.q)("playback:quality"),{bulkReplaceMap:{__video_from__:(0,i.M)(n,"__video_from__"),__video_to__:(0,i.M)(r,"__video_to__"),__video_time__:(0,i.M)(l,"__video_time__")}})},videoPlaybackReport:()=>{e((0,o.q)("playback:report"))},videoPlaybackOpenFullscreen:()=>{e((0,o.q)("playback:open_fullscreen"))}}}},80587:(e,t,n)=>{n.d(t,{Q:()=>i});n(14072);const i=e=>{const{hours:t,hoursStr:n,minutesStr:i,secondsStr:o}=((e,t)=>{const n=Math.floor(e%60),i=Math.floor(e/60%60),o=t?Math.floor(e/3600)%24:Math.floor(e/3600),r=Math.floor(e/86400),l=o<10?`0${o}`:o.toString(),a=i<10?`0${i}`:i.toString(),s=n<10?`0${n}`:n.toString(),c={seconds:n,minutes:i,hours:o,hoursStr:l,minutesStr:a,secondsStr:s};return t?Object.assign({},c,{days:r,daysStr:r.toString()}):c})(e);return(0===t?[i,o]:[n,i,o]).join(":")}}}]);